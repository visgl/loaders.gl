(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"0SKY":function(e,t,r){"use strict";var n=r("TqRt"),a=r("284h");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return i.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return i.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return i.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return i.document}}),Object.defineProperty(t,"process",{enumerable:!0,get:function(){return i.process}}),Object.defineProperty(t,"console",{enumerable:!0,get:function(){return i.console}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"isBrowserMainThread",{enumerable:!0,get:function(){return c.isBrowserMainThread}}),Object.defineProperty(t,"getBrowser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"isMobile",{enumerable:!0,get:function(){return o.isMobile}}),Object.defineProperty(t,"isElectron",{enumerable:!0,get:function(){return u.default}});var i=r("jWbo"),c=a(r("uXCu")),o=a(r("IVX/")),u=n(r("15yl"))},"11Ib":function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var n=r("rePB"),a=r("ODXe"),i=r("1OyB"),c=r("JX7q"),o=r("ReuC"),u=r("vuIU"),s=r("Ji7U"),l=r("md7G"),f=r("foSv"),d=r("iein"),h=r("L8KH"),b=r("f5Sf"),v=r("n4Ve"),g=r("pRFE"),m=r("p7wt"),O=r("d3kR"),y=r("rnmN"),p=r("CxzY");function j(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(o)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var a=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var A=function(e){Object(s.a)(r,e);var t=E(r);function r(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,r),(n=t.call(this,e,a)).width=null,n.height=null,n.attachments={},n.readBuffer=36064,n.drawBuffers=[36064],n.ownResources=[],n.initialize(a),Object.seal(Object(c.a)(n)),n}return Object(u.a)(r,[{key:"MAX_COLOR_ATTACHMENTS",get:function(){var e=Object(d.a)(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){var e=Object(d.a)(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.colorBufferFloat,n=t.colorBufferHalfFloat,a=!0;return r&&(a=Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),n&&(a=a&&Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),a}},{key:"getDefaultFramebuffer",value:function(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new r(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}}]),Object(u.a)(r,[{key:"initialize",value:function(e){var t=e.width,r=void 0===t?1:t,n=e.height,a=void 0===n?1:n,i=e.attachments,c=void 0===i?null:i,o=e.color,u=void 0===o||o,s=e.depth,l=void 0===s||s,f=e.stencil,d=void 0!==f&&f,h=e.check,b=void 0===h||h,v=e.readBuffer,g=void 0===v?void 0:v,m=e.drawBuffers,O=void 0===m?void 0:m;if(Object(p.a)(r>=0&&a>=0,"Width and height need to be integers"),this.width=r,this.height=a,c)for(var y in c){var j=c[y];(Array.isArray(j)?j[0]:j).resize({width:r,height:a})}else c=this._createDefaultAttachments(u,l,d,r,a);this.update({clearAttachments:!0,attachments:c,readBuffer:g,drawBuffers:O}),c&&b&&this.checkStatus()}},{key:"delete",value:function(){var e,t=j(this.ownResources);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}return Object(o.a)(Object(f.a)(r.prototype),"delete",this).call(this),this}},{key:"update",value:function(e){var t=e.attachments,r=void 0===t?{}:t,n=e.readBuffer,a=e.drawBuffers,i=e.clearAttachments,c=void 0!==i&&i,o=e.resizeAttachments,u=void 0===o||o;this.attach(r,{clearAttachments:c,resizeAttachments:u});var s=this.gl,l=s.bindFramebuffer(36160,this.handle);return n&&this._setReadBuffer(n),a&&this._setDrawBuffers(a),s.bindFramebuffer(36160,l||null),this}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,r=e.height;if(null===this.handle)return Object(p.a)(void 0===t&&void 0===r),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var n in void 0===t&&(t=this.gl.drawingBufferWidth),void 0===r&&(r=this.gl.drawingBufferHeight),t!==this.width&&r!==this.height&&d.j.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(r))(),this.attachments)this.attachments[n].resize({width:t,height:r});return this.width=t,this.height=r,this}},{key:"attach",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.clearAttachments,i=void 0!==n&&n,c=r.resizeAttachments,o=void 0===c||c,u={};i&&Object.keys(this.attachments).forEach((function(e){u[e]=null})),Object.assign(u,e);var s=this.gl.bindFramebuffer(36160,this.handle);for(var l in u){Object(p.a)(void 0!==l,"Misspelled framebuffer binding point?");var f=Number(l),d=u[f],h=d;if(h)if(h instanceof v.a)this._attachRenderbuffer({attachment:f,renderbuffer:h});else if(Array.isArray(d)){var b=Object(a.a)(d,3),g=b[0],m=b[1],O=void 0===m?0:m,y=b[2],j=void 0===y?0:y;h=g,this._attachTexture({attachment:f,texture:g,layer:O,level:j})}else this._attachTexture({attachment:f,texture:h,layer:0,level:0});else this._unattach(f);o&&h&&h.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,s||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter((function(e){return!t.attachments[e]})).forEach((function(e){delete t.attachments[e]}))}},{key:"checkStatus",value:function(){this.gl;var e=this.getStatus();if(36053!==e)throw new Error(x(e));return this}},{key:"getStatus",value:function(){var e=this.gl,t=e.bindFramebuffer(36160,this.handle),r=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),r}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,r=e.depth,n=e.stencil,a=e.drawBuffers,i=void 0===a?[]:a,c=this.gl.bindFramebuffer(36160,this.handle);return(t||r||n)&&Object(g.a)(this.gl,{color:t,depth:r,stencil:n}),i.forEach((function(e,t){Object(g.b)({drawBuffer:t,value:e})})),this.gl.bindFramebuffer(36160,c||null),this}},{key:"readPixels",value:function(){return d.j.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}},{key:"readPixelsToBuffer",value:function(){return d.j.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}},{key:"copyToDataUrl",value:function(){return d.j.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}},{key:"copyToImage",value:function(){return d.j.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}},{key:"copyToTexture",value:function(){return d.j.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"blit",value:function(){return d.j.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}},{key:"invalidate",value:function(e){var t=e.attachments,r=void 0===t?[]:t,n=e.x,a=void 0===n?0:n,i=e.y,c=void 0===i?0:i,o=e.width,u=e.height,s=Object(d.a)(this.gl),l=s.bindFramebuffer(36008,this.handle);return 0===a&&0===c&&void 0===o&&void 0===u?s.invalidateFramebuffer(36008,r):s.invalidateFramebuffer(36008,r,a,c,o,u),s.bindFramebuffer(36008,l),this}},{key:"getAttachmentParameter",value:function(e,t,r){var n=this._getAttachmentParameterFallback(t);return null===n&&(this.gl.bindFramebuffer(36160,this.handle),n=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),r&&n>1e3&&(n=Object(y.a)(this.gl,n)),n}},{key:"getAttachmentParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[],a={},i=j(n);try{for(i.s();!(e=i.n()).done;){var c=e.value,o=r?Object(y.a)(this.gl,c):c;a[o]=this.getAttachmentParameter(t,c,r)}}catch(u){i.e(u)}finally{i.f()}return a}},{key:"getParameters",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.keys(this.attachments),r={},n=0,a=t;n<a.length;n++){var i=a[n],c=Number(i),o=e?Object(y.a)(this.gl,c):c;r[o]=this.getAttachmentParameters(c,e)}return r}},{key:"show",value:function(){return"undefined"!=typeof window&&window.open(Object(m.a)(this),"luma-debug-texture"),this}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>d.j.level||"undefined"==typeof window)return this;t=t||"Framebuffer ".concat(this.id);var r=Object(m.a)(this,{targetMaxHeight:100});return d.j.image({logLevel:e,message:t,image:r},t)(),this}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?36160:t;return this.gl.bindFramebuffer(r,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?36160:t;return this.gl.bindFramebuffer(r,null),this}},{key:"_createDefaultAttachments",value:function(e,t,r,a,i){var c,o=null;e&&((o=o||{})[36064]=new b.a(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:a,height:i,mipmaps:!1,parameters:(c={},Object(n.a)(c,10241,9729),Object(n.a)(c,10240,9729),Object(n.a)(c,10242,33071),Object(n.a)(c,10243,33071),c)}),this.ownResources.push(o[36064]));return t&&r?((o=o||{})[33306]=new v.a(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:a,height:111}),this.ownResources.push(o[33306])):t?((o=o||{})[36096]=new v.a(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:a,height:i}),this.ownResources.push(o[36096])):r&&Object(p.a)(!1),o}},{key:"_unattach",value:function(e){var t=this.attachments[e];t&&(t instanceof v.a?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}},{key:"_attachRenderbuffer",value:function(e){var t=e.attachment,r=void 0===t?36064:t,n=e.renderbuffer;this.gl.framebufferRenderbuffer(36160,r,36161,n.handle),this.attachments[r]=n}},{key:"_attachTexture",value:function(e){var t=e.attachment,r=void 0===t?36064:t,n=e.texture,a=e.layer,i=e.level,c=this.gl;switch(c.bindTexture(n.target,n.handle),n.target){case 35866:case 32879:Object(d.a)(c).framebufferTextureLayer(36160,r,n.target,i,a);break;case 34067:var o=function(e){return e<34069?e+34069:e}(a);c.framebufferTexture2D(36160,r,o,n.handle,i);break;case 3553:c.framebufferTexture2D(36160,r,3553,n.handle,i);break;default:Object(p.a)(!1,"Illegal texture type")}c.bindTexture(n.target,null),this.attachments[r]=n}},{key:"_setReadBuffer",value:function(e){var t=Object(d.f)(this.gl);t?t.readBuffer(e):Object(p.a)(36064===e||1029===e,"Multiple render targets not supported"),this.readBuffer=e}},{key:"_setDrawBuffers",value:function(e){var t=this.gl,r=Object(d.a)(t);if(r)r.drawBuffers(e);else{var n=t.getExtension("WEBGL_draw_buffers");n?n.drawBuffersWEBGL(e):Object(p.a)(1===e.length&&(36064===e[0]||1029===e[0]),"Multiple render targets not supported")}this.drawBuffers=e}},{key:"_getAttachmentParameterFallback",value:function(e){var t=Object(O.a)(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"_bindHandle",value:function(e){return this.gl.bindFramebuffer(36160,e)}},{key:"color",get:function(){return this.attachments[36064]||null}},{key:"texture",get:function(){return this.attachments[36064]||null}},{key:"depth",get:function(){return this.attachments[36096]||this.attachments[33306]||null}},{key:"stencil",get:function(){return this.attachments[36128]||this.attachments[33306]||null}}]),r}(h.a);function x(e){return(A.STATUS||{})[e]||"Framebuffer error ".concat(e)}A.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},"15yl":function(e,t,r){"use strict";(function(e){var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){if("undefined"!=typeof window&&"object"===(0,a.default)(window.process)&&"renderer"===window.process.type)return!0;if(void 0!==e&&"object"===(0,a.default)(e.versions)&&Boolean(e.versions.electron))return!0;var r="object"===("undefined"==typeof navigator?"undefined":(0,a.default)(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent,n=t||r;if(n&&n.indexOf("Electron")>=0)return!0;return!1};var a=n(r("cDf5"))}).call(this,r("8oxB"))},"3SJd":function(e,t,r){"use strict";function n(e){for(var t in e)return!1;return!0}function a(e,t){if(e===t)return!0;var r=Array.isArray(e)||ArrayBuffer.isView(e),n=Array.isArray(t)||ArrayBuffer.isView(t);if(r&&n&&e.length===t.length){for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!1;return!0}return!1}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}))},"9Q0L":function(e,t,r){"use strict";(function(e){r.d(t,"c",(function(){return h})),r.d(t,"b",(function(){return b})),r.d(t,"a",(function(){return v}));var n=r("1OyB"),a=r("vuIU"),i=r("rp2x"),c=r("gXd2"),o=r("Vyni"),u=r("3SJd");function s(e,t){var r=e[t].bind(e);e[t]=function(){var t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache||(e.state.cache[t]=r.apply(void 0,arguments)),e.state.enable?e.state.cache[t]:r.apply(void 0,arguments)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function l(e,t,r){var n=e[t].bind(e);e[t]=function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var c=r.apply(void 0,[e.state._updateCache].concat(a)),o=c.valueChanged,u=c.oldValue;return o&&n.apply(void 0,a),u},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}function f(e){var t=e.useProgram.bind(e);e.useProgram=function(r){e.state.program!==r&&(t(r),e.state.program=r)}}var d=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.copyState,o=void 0!==a&&a,u=r.log,s=void 0===u?function(){}:u;Object(n.a)(this,e),this.gl=t,this.program=null,this.stateStack=[],this.enable=!0,this.cache=o?Object(c.a)(t):Object.assign({},i.c),this.log=s,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return Object(a.a)(e,[{key:"push",value:function(){this.stateStack.push({})}},{key:"pop",value:function(){Object(o.a)(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];Object(c.c)(this.gl,e),this.stateStack.pop()}},{key:"_updateCache",value:function(e){var t,r=!1,n=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var a in e){Object(o.a)(void 0!==a);var i=e[a],c=this.cache[a];Object(u.a)(i,c)||(r=!0,t=c,n&&!(a in n)&&(n[a]=c),this.cache[a]=i)}return{valueChanged:r,oldValue:t}}}]),e}();function h(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.enable,a=void 0===n||n,c=r.copyState;if(Object(o.a)(void 0!==c),!t.state){var u=void 0!==e?e:window,h=u.polyfillContext;for(var b in h&&h(t),t.state=new d(t,{copyState:c}),f(t),i.b){var v=i.b[b];l(t,b,v)}s(t,"getParameter"),s(t,"isEnabled")}return t.state.enable=a,t}function b(e){e.state||h(e,{copyState:!1}),e.state.push()}function v(e){Object(o.a)(e.state),e.state.pop()}}).call(this,r("yLpj"))},"B9+J":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return c}));function n(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.clamped,n=void 0===r||r;switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return n?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function i(e){var t=e.data,r=e.width,n=e.height,a=e.bytesPerPixel,i=void 0===a?4:a,c=e.temp,o=r*i;c=c||new Uint8Array(o);for(var u=0;u<n/2;++u){var s=u*o,l=(n-u-1)*o;c.set(t.subarray(s,s+o)),t.copyWithin(s,l,l+o),t.set(c,l)}}function c(e){for(var t=e.data,r=e.width,n=e.height,a=Math.round(r/2),i=Math.round(n/2),c=new Uint8Array(a*i*4),o=0;o<i;o++)for(var u=0;u<a;u++)for(var s=0;s<4;s++)c[4*(o*a+u)+s]=t[4*(2*o*r+2*u)+s];return{data:c,width:a,height:i}}},CxzY:function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}r.d(t,"a",(function(){return n}))},H50b:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r("o0o1"),a=r.n(n),i=r("HaE+"),c=r("1OyB"),o=r("vuIU"),u=r("JX7q"),s=r("Ji7U"),l=r("md7G"),f=r("foSv"),d=r("iein"),h=r("l6PP");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var a=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var v=[34069,34070,34071,34072,34073,34074],g=function(e){Object(s.a)(n,e);var t,r=b(n);function n(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(c.a)(this,n),Object(d.b)(e),(t=r.call(this,e,Object.assign({},a,{target:34067}))).initialize(a),Object.seal(Object(u.a)(t)),t}return Object(o.a)(n,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.mipmaps,n=void 0===r||r,a=t.parameters,i=void 0===a?{}:a;return this.opts=t,this.setCubeMapImageData(t).then((function(){e.loaded=!0,n&&e.generateMipmap(t),e.setParameters(i)})),this}},{key:"subImage",value:function(e){var t=e.face,r=e.data,n=e.x,a=void 0===n?0:n,i=e.y,c=void 0===i?0:i,o=e.mipmapLevel,u=void 0===o?0:o;return this._subImage({target:t,data:r,x:a,y:c,mipmapLevel:u})}},{key:"setCubeMapImageData",value:(t=Object(i.a)(a.a.mark((function e(t){var r,n,i,c,o,u,s,l,f,h,b,g,m,O=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.width,n=t.height,i=t.pixels,c=t.data,o=t.border,u=void 0===o?0:o,s=t.format,l=void 0===s?6408:s,f=t.type,h=void 0===f?5121:f,b=this.gl,g=i||c,e.next=5,Promise.all(v.map((function(e){var t=g[e];return Promise.all(Array.isArray(t)?t:[t])})));case 5:m=e.sent,this.bind(),v.forEach((function(e,t){m[t].length>1&&!1!==O.opts.mipmaps&&d.j.warn("".concat(O.id," has mipmap and multiple LODs."))(),m[t].forEach((function(t,a){r&&n?b.texImage2D(e,a,l,r,n,u,l,h,t):b.texImage2D(e,a,l,l,h,t)}))})),this.unbind();case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"setImageDataForFace",value:function(e){var t=this,r=e.face,n=e.width,a=e.height,i=e.pixels,c=e.data,o=e.border,u=void 0===o?0:o,s=e.format,l=void 0===s?6408:s,f=e.type,d=void 0===f?5121:f,h=this.gl,b=i||c;return this.bind(),b instanceof Promise?b.then((function(n){return t.setImageDataForFace(Object.assign({},e,{face:r,data:n,pixels:n}))})):this.width||this.height?h.texImage2D(r,0,l,n,a,u,l,d,b):h.texImage2D(r,0,l,l,d,b),this}}]),n}(h.a);g.FACES=v},Hogv:function(e,t,r){"use strict";(function(e){var t=r("JrVf"),n=r("Vyni"),a=r("P5C6");function i(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=t.extension,i=t.target,c=t.target2,o=a.b[r];Object(n.a)(o);for(var u=o.meta,s=(void 0===u?{}:u).suffix,l=void 0===s?"":s,f=e.getExtension(r),d=function(){var t=b[h],r="".concat(t).concat(l),n=null;"meta"===t||"function"==typeof e[t]||(f&&"function"==typeof f[r]?n=function(){return f[r].apply(f,arguments)}:"function"==typeof o[t]&&(n=o[t].bind(i))),n&&(i[t]=n,c[t]=n)},h=0,b=Object.keys(o);h<b.length;h++)d()}(void 0!==e?e:window).polyfillContext=function(e){e.luma=e.luma||{};var r=e.luma;return r.polyfilled||(Object(t.a)(e),function(e){e.luma.extensions={};var t,r=i(e.getSupportedExtensions()||[]);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.luma[n]=e.getExtension(n)}}catch(a){r.e(a)}finally{r.f()}}(e),function(e,t){var r,n=i(Object.getOwnPropertyNames(t));try{for(n.s();!(r=n.n()).done;){var a=r.value;"overrides"!==a&&o(e,{extension:a,target:e.luma,target2:e})}}catch(c){n.e(c)}finally{n.f()}}(e,a.b),function(e,t){var r=t.target,n=t.target2;Object.keys(a.a).forEach((function(t){if("function"==typeof a.a[t]){var i=e[t]?e[t].bind(e):function(){},c=a.a[t].bind(null,e,i);r[t]=c,n[t]=c}}))}(e,{target:r,target2:e}),r.polyfilled=!0),e}}).call(this,r("yLpj"))},"IVX/":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=function(){return void 0!==a.window.orientation},t.default=function(e){if(!e&&!(0,i.default)())return"Node";if((0,c.default)(e))return"Electron";var t="undefined"!=typeof navigator?navigator:{},r=e||t.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";var n=-1!==r.indexOf("MSIE "),o=-1!==r.indexOf("Trident/");if(n||o)return"IE";if(a.window.chrome)return"Chrome";if(a.window.safari)return"Safari";if(a.window.mozInnerScreenX)return"Firefox";return"Unknown"};var a=r("jWbo"),i=n(r("uXCu")),c=n(r("15yl"))},JrVf:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("xSaR"),a={};function i(e,t){var r;a[e]=!0,void 0!==t&&(r=t,n.global.console&&n.global.console.error&&n.global.console.error(r))}var c=function e(t){var r=t.gl;this.ext=t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(t.maxVertexAttribs);for(var n=0;n<this.attribs.length;n++){var a=new e.VertexAttrib(r);this.attribs[n]=a}this.maxAttrib=0};(c.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var o=function(e){var t=this;this.gl=e,function(e){var t=e.getError;e.getError=function(){var r;do{0!==(r=t.apply(e))&&(a[r]=!0)}while(0!==r);for(r in a)if(a[r])return delete a[r],parseInt(r,10);return 0}}(e);var r=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(e){return e===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:r.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(e){var n=t.currentVertexArrayObject;n.maxAttrib=Math.max(n.maxAttrib,e);var a=n.attribs[e];return a.enabled=!0,r.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(e){var n=t.currentVertexArrayObject;n.maxAttrib=Math.max(n.maxAttrib,e);var a=n.attribs[e];return a.enabled=!1,r.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(e,n){switch(e){case 34962:t.currentArrayBuffer=n;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=n}return r.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(e,n){var a=t.currentVertexArrayObject,i=a.attribs[e];switch(n){case 34975:return i.buffer;case 34338:return i.enabled;case 34339:return i.size;case 34340:return i.stride;case 34341:return i.type;case 34922:return i.normalized;default:return r.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(e,n,a,i,c,o){var u=t.currentVertexArrayObject;u.maxAttrib=Math.max(u.maxAttrib,e);var s=u.attribs[e];return s.buffer=t.currentArrayBuffer,s.size=n,s.type=a,s.normalized=i,s.stride=c,s.offset=o,s.recache(),r.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",(function(){var e;e="OESVertexArrayObject emulation library context restored",n.global.console&&n.global.console.log&&n.global.console.log(e),t.reset_()}),!0),this.reset_()};function u(e){if("function"!=typeof e.createVertexArray){var t=e.getSupportedExtensions;e.getSupportedExtensions=function(){var e=t.call(this)||[];return e.indexOf("OES_vertex_array_object")<0&&e.push("OES_vertex_array_object"),e};var r=e.getExtension;e.getExtension=function(t){var n=r.call(this,t);return n||("OES_vertex_array_object"!==t?null:(e.__OESVertexArrayObject||(this.__OESVertexArrayObject=new o(this)),this.__OESVertexArrayObject))}}}o.prototype.VERTEX_ARRAY_BINDING_OES=34229,o.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(var e=0;e<this.vertexArrayObjects.length;++e)this.vertexArrayObjects.isAlive=!1;var t=this.gl;this.maxVertexAttribs=t.getParameter(34921),this.defaultVertexArrayObject=new c(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},o.prototype.createVertexArrayOES=function(){var e=new c(this);return this.vertexArrayObjects.push(e),e},o.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},o.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof c&&e.hasBeenBound&&e.ext===this)},o.prototype.bindVertexArrayOES=function(e){var t=this.gl;if(!e||e.isAlive){var r=this.original,n=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var a=this.currentVertexArrayObject;if(n!==a){n&&a.elementArrayBuffer===n.elementArrayBuffer||r.bindBuffer.call(t,34963,a.elementArrayBuffer);for(var c=this.currentArrayBuffer,o=Math.max(n?n.maxAttrib:0,a.maxAttrib),u=0;u<=o;u++){var s=a.attribs[u],l=n?n.attribs[u]:null;if(n&&s.enabled===l.enabled||(s.enabled?r.enableVertexAttribArray.call(t,u):r.disableVertexAttribArray.call(t,u)),s.enabled){var f=!1;n&&s.buffer===l.buffer||(c!==s.buffer&&(r.bindBuffer.call(t,34962,s.buffer),c=s.buffer),f=!0),(f||s.cached!==l.cached)&&r.vertexAttribPointer.call(t,u,s.size,s.type,s.normalized,s.stride,s.offset)}}this.currentArrayBuffer!==c&&r.bindBuffer.call(t,34962,this.currentArrayBuffer)}}else i(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject")}},L8KH:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r("1OyB"),a=r("vuIU"),i=r("iein"),c=r("rta6"),o=r("rnmN"),u=r("VdrS"),s=r("CxzY"),l=r("sgaE");function f(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(o)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h="Resource subclass must define virtual methods",b=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,e),Object(i.b)(t);var a=r.id,c=r.userData,o=void 0===c?{}:c;this.gl=t,this.gl2=t,this.id=a||Object(u.c)(this.constructor.name),this.userData=o,this._bound=!1,this._handle=r.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}return Object(a.a)(e,[{key:"toString",value:function(){return"".concat(this.constructor.name,"(").concat(this.id,")")}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleteChildren,r=void 0!==t&&t,n=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,n&&r&&n.filter(Boolean).forEach((function(e){return e.delete()})),this}},{key:"bind",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e)}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object(o.b)(this.gl,e),Object(s.a)(e);var r=this.constructor.PARAMETERS||{},n=r[e];if(n){var a=Object(i.i)(this.gl),c=(!("webgl2"in n)||a)&&(!("extension"in n)||this.gl.getExtension(n.extension));if(!c){var u=n.webgl1,l="webgl2"in n?n.webgl2:n.webgl1,f=a?l:u;return f}}return this._getParameter(e,t)}},{key:"getParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.parameters,n=t.keys,a=this.constructor.PARAMETERS||{},c=Object(i.i)(this.gl),u={},s=r||Object.keys(a),l=f(s);try{for(l.s();!(e=l.n()).done;){var d=e.value,h=a[d],b=h&&(!("webgl2"in h)||c)&&(!("extension"in h)||this.gl.getExtension(h.extension));if(b){var v=n?Object(o.a)(this.gl,d):d;u[v]=this.getParameter(d,t),n&&"GLenum"===h.type&&(u[v]=Object(o.a)(this.gl,u[v]))}}}catch(g){l.e(g)}finally{l.f()}return u}},{key:"setParameter",value:function(e,t){e=Object(o.b)(this.gl,e),Object(s.a)(e);var r=(this.constructor.PARAMETERS||{})[e];if(r){var n=Object(i.i)(this.gl);if(!((!("webgl2"in r)||n)&&(!("extension"in r)||this.gl.getExtension(r.extension))))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(t=Object(o.b)(t))}return this._setParameter(e,t),this}},{key:"setParameters",value:function(e){for(var t in e)this.setParameter(t,e[t]);return this}},{key:"stubRemovedMethods",value:function(e,t,r){return Object(l.a)(this,e,t,r)}},{key:"initialize",value:function(e){}},{key:"_createHandle",value:function(){throw new Error(h)}},{key:"_deleteHandle",value:function(){throw new Error(h)}},{key:"_bindHandle",value:function(e){throw new Error(h)}},{key:"_getOptsFromHandle",value:function(){throw new Error(h)}},{key:"_getParameter",value:function(e,t){throw new Error(h)}},{key:"_setParameter",value:function(e,t){throw new Error(h)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_addStats",value:function(){var e=this.constructor.name,t=c.a.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}},{key:"_removeStats",value:function(){var e=this.constructor.name;c.a.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}},{key:"_trackAllocatedMemory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.name,r=c.a.get("Memory Usage");r.get("GPU Memory").addCount(e),r.get("".concat(t," Memory")).addCount(e),this.byteLength=e}},{key:"_trackDeallocatedMemory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.constructor.name,t=c.a.get("Memory Usage");t.get("GPU Memory").subtractCount(this.byteLength),t.get("".concat(e," Memory")).subtractCount(this.byteLength),this.byteLength=0}},{key:"handle",get:function(){return this._handle}}]),e}()},LE90:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("iein");function a(e,t,r){var a=r.removedProps,i=void 0===a?{}:a,c=r.deprecatedProps,o=void 0===c?{}:c,u=r.replacedProps,s=void 0===u?{}:u;for(var l in i)if(l in t){var f=i[l]?"".concat(e,".").concat(i[l]):"N/A";n.j.removed("".concat(e,".").concat(l),f)()}for(var d in o)if(d in t){var h=o[d];n.j.deprecated("".concat(e,".").concat(d),"".concat(e,".").concat(h))()}var b=null;for(var v in s)if(v in t){var g=s[v];n.j.deprecated("".concat(e,".").concat(v),"".concat(e,".").concat(g))(),(b=b||Object.assign({},t))[g]=t[v],delete b[v]}return b||t}},MdWm:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return j}));var n=r("rePB"),a=r("f5Sf"),i=r("H50b"),c=r("1OyB"),o=r("JX7q"),u=r("vuIU"),s=r("Ji7U"),l=r("md7G"),f=r("foSv"),d=r("iein"),h=r("l6PP"),b=r("uYBD"),v=r("sc/6");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var a=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var m=function(e){Object(s.a)(r,e);var t=g(r);function r(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(c.a)(this,r),Object(d.a)(e),a=Object.assign({depth:1},a,{target:32879,unpackFlipY:!1}),(n=t.call(this,e,a)).initialize(a),Object.seal(Object(o.a)(n)),n}return Object(u.a)(r,null,[{key:"isSupported",value:function(e){return Object(d.i)(e)}}]),Object(u.a)(r,[{key:"setImageData",value:function(e){var t=this,r=e.level,n=void 0===r?0:r,a=e.dataFormat,i=void 0===a?6408:a,c=e.width,o=e.height,u=e.depth,s=void 0===u?1:u,l=e.border,f=void 0===l?0:l,h=e.format,g=e.type,m=void 0===g?5121:g,O=e.offset,y=void 0===O?0:O,p=e.data,j=e.parameters,_=void 0===j?{}:j;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Object(d.n)(this.gl,_,(function(){ArrayBuffer.isView(p)&&t.gl.texImage3D(t.target,n,i,c,o,s,f,h,m,p),p instanceof v.a&&(t.gl.bindBuffer(35052,p.handle),t.gl.texImage3D(t.target,n,i,c,o,s,f,h,m,y))})),p&&p.byteLength)this._trackAllocatedMemory(p.byteLength,"Texture");else{var E=b.a[this.dataFormat]||4,A=b.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*E*A,"Texture")}return this.loaded=!0,this}}]),r}(h.a),O=r("11Ib"),y=r("CxzY");function p(e,t){Object(y.a)(e instanceof a.a||e instanceof i.a||e instanceof m);var r=e.constructor,n=e.gl,c=e.width,o=e.height,u=e.format,s=e.type,l=e.dataFormat,f=e.border,d=e.mipmaps;return new r(n,Object.assign({width:c,height:o,format:u,type:s,dataFormat:l,border:f,mipmaps:d},t))}function j(e,t){var r=e.gl,a=e.width,i=e.height,c=e.id;return new O.a(r,Object.assign({},t,{id:"framebuffer-for-".concat(c),width:a,height:i,attachments:Object(n.a)({},36064,e)}))}},ODXe:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("BsWD");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(u){a=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},OklE:function(e,t,r){"use strict";r.d(t,"a",(function(){return Z}));var n,a=r("1OyB"),i=r("vuIU"),c=r("JX7q"),o=r("ReuC"),u=r("Ji7U"),s=r("md7G"),l=r("foSv"),f=r("L8KH"),d=r("l6PP"),h=r("11Ib"),b=r("rePB"),v=r("iein"),g=r("n4Ve"),m=r("CxzY"),O=(n={},Object(b.a)(n,5126,P.bind(null,"uniform1fv",A,1,I)),Object(b.a)(n,35664,P.bind(null,"uniform2fv",A,2,I)),Object(b.a)(n,35665,P.bind(null,"uniform3fv",A,3,I)),Object(b.a)(n,35666,P.bind(null,"uniform4fv",A,4,I)),Object(b.a)(n,5124,P.bind(null,"uniform1iv",x,1,I)),Object(b.a)(n,35667,P.bind(null,"uniform2iv",x,2,I)),Object(b.a)(n,35668,P.bind(null,"uniform3iv",x,3,I)),Object(b.a)(n,35669,P.bind(null,"uniform4iv",x,4,I)),Object(b.a)(n,35670,P.bind(null,"uniform1iv",x,1,I)),Object(b.a)(n,35671,P.bind(null,"uniform2iv",x,2,I)),Object(b.a)(n,35672,P.bind(null,"uniform3iv",x,3,I)),Object(b.a)(n,35673,P.bind(null,"uniform4iv",x,4,I)),Object(b.a)(n,35674,P.bind(null,"uniformMatrix2fv",A,4,F)),Object(b.a)(n,35675,P.bind(null,"uniformMatrix3fv",A,9,F)),Object(b.a)(n,35676,P.bind(null,"uniformMatrix4fv",A,16,F)),Object(b.a)(n,35678,L),Object(b.a)(n,35680,L),Object(b.a)(n,5125,P.bind(null,"uniform1uiv",w,1,I)),Object(b.a)(n,36294,P.bind(null,"uniform2uiv",w,2,I)),Object(b.a)(n,36295,P.bind(null,"uniform3uiv",w,3,I)),Object(b.a)(n,36296,P.bind(null,"uniform4uiv",w,4,I)),Object(b.a)(n,35685,P.bind(null,"uniformMatrix2x3fv",A,6,F)),Object(b.a)(n,35686,P.bind(null,"uniformMatrix2x4fv",A,8,F)),Object(b.a)(n,35687,P.bind(null,"uniformMatrix3x2fv",A,6,F)),Object(b.a)(n,35688,P.bind(null,"uniformMatrix3x4fv",A,12,F)),Object(b.a)(n,35689,P.bind(null,"uniformMatrix4x2fv",A,8,F)),Object(b.a)(n,35690,P.bind(null,"uniformMatrix4x3fv",A,12,F)),Object(b.a)(n,35678,L),Object(b.a)(n,35680,L),Object(b.a)(n,35679,L),Object(b.a)(n,35682,L),Object(b.a)(n,36289,L),Object(b.a)(n,36292,L),Object(b.a)(n,36293,L),Object(b.a)(n,36298,L),Object(b.a)(n,36299,L),Object(b.a)(n,36300,L),Object(b.a)(n,36303,L),Object(b.a)(n,36306,L),Object(b.a)(n,36307,L),Object(b.a)(n,36308,L),Object(b.a)(n,36311,L),n),y={},p={},j={},_=[0];function E(e,t,r,n){1===t&&"boolean"==typeof e&&(e=e?1:0),Number.isFinite(e)&&(_[0]=e,e=_);var a=e.length;if(a%t&&v.j.warn("Uniform size should be multiples of ".concat(t),e)(),e instanceof r)return e;var i=n[a];i||(i=new r(a),n[a]=i);for(var c=0;c<a;c++)i[c]=e[c];return i}function A(e,t){return E(e,t,Float32Array,y)}function x(e,t){return E(e,t,Int32Array,p)}function w(e,t){return E(e,t,Uint32Array,j)}function T(e,t,r){var n=O[r.type];if(!n)throw new Error("Unknown GLSL uniform type ".concat(r.type));return n().bind(null,e,t)}function S(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};var t=e.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function k(e,t,r){for(var n in e){var a=e[n];if((!r||Boolean(r[n]))&&!R(a))throw t=t?"".concat(t," "):"",console.error("".concat(t," Bad uniform ").concat(n),a),new Error("".concat(t," Bad uniform ").concat(n))}return!0}function R(e){return Array.isArray(e)||ArrayBuffer.isView(e)?function(e){if(0===e.length)return!1;for(var t=Math.min(e.length,16),r=0;r<t;++r)if(!Number.isFinite(e[r]))return!1;return!0}(e):!!isFinite(e)||(!0===e||!1===e||(e instanceof d.a||(e instanceof g.a||e instanceof h.a&&Boolean(e.texture))))}function B(e,t,r){if(Array.isArray(r)||ArrayBuffer.isView(r))if(e[t])for(var n=e[t],a=0,i=r.length;a<i;++a)n[a]=r[a];else e[t]=r.slice();else e[t]=r}function L(){var e=null;return function(t,r,n){var a=e!==n;return a&&(t.uniform1i(r,n),e=n),a}}function P(e,t,r,n){var a=null,i=null;return function(c,o,u){var s=t(u,r),l=s.length,f=!1;if(null===a)a=new Float32Array(l),i=l,f=!0;else{Object(m.a)(i===l,"Uniform length cannot change.");for(var d=0;d<l;++d)if(s[d]!==a[d]){f=!0;break}}return f&&(n(c,e,o,s),a.set(s)),f}}function I(e,t,r,n){e[t](r,n)}function F(e,t,r,n){e[t](r,!1,n)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed",r=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,n=e.match(r);return n?n[1]:t}function D(e,t,r,n){for(var a=e.split(/\r?\n/),i={},c={},o=n||M(t)||"(unnamed)",u="".concat(function(e){switch(e){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(r)," shader ").concat(o),s=0;s<a.length;s++){var l=a[s];if(!(l.length<=1)){var f=l.split(":"),d=f[0],h=parseInt(f[2],10);if(isNaN(h))throw new Error("GLSL compilation error in ".concat(u,": ").concat(e));"WARNING"!==d?i[h]=l:c[h]=l}}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",n=e.split(/\r?\n/),a=String(n.length+t-1).length;return n.map((function(e,n){var i=String(n+t),c=i.length;return C(i,a-c)+r+e}))}(t);return{shaderName:u,errors:N(i,b),warnings:N(c,b)}}function N(e,t){for(var r="",n=0;n<t.length;n++){var a=t[n];if((e[n+3]||e[n+2]||e[n+1])&&(r+="".concat(a,"\n"),e[n+1])){var i=e[n+1],c=i.split(":",3),o=c[0],u=parseInt(c[1],10)||0,s=i.substring(c.join(":").length+1).trim();r+=C("^^^ ".concat(o,": ").concat(s,"\n\n"),u)}}return r}function C(e,t){for(var r="",n=0;n<t;++n)r+=" ";return"".concat(r).concat(e)}var U=r("VdrS");function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var a=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var G=function(e){Object(u.a)(r,e);var t=V(r);function r(e,n){var i;Object(a.a)(this,r),Object(v.b)(e),Object(m.a)("string"==typeof n.source,"Shader: GLSL source code must be a JavaScript string");var c=M(n.source,null)||n.id||Object(U.c)("unnamed ".concat(r.getTypeName(n.shaderType)));return(i=t.call(this,e,{id:c})).shaderType=n.shaderType,i.source=n.source,i.initialize(n),i}return Object(i.a)(r,null,[{key:"getTypeName",value:function(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return Object(m.a)(!1),"unknown"}}}]),Object(i.a)(r,[{key:"initialize",value:function(e){var t=e.source,r=M(t,null);r&&(this.id=Object(U.c)(r)),this._compile(t)}},{key:"getParameter",value:function(e){return this.gl.getShaderParameter(this.handle,e)}},{key:"toString",value:function(){return"".concat(r.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function(){return M(this.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}},{key:"_compile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);var t=this.getParameter(35713);if(!t){var r=this.gl.getShaderInfoLog(this.handle),n=D(r,this.source,this.shaderType,this.id),a=n.shaderName,i=n.errors,c=n.warnings;throw v.j.error("GLSL compilation errors in ".concat(a,"\n").concat(i))(),v.j.warn("GLSL compilation warnings in ".concat(a,"\n").concat(c))(),new Error("GLSL compilation errors in ".concat(a))}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}]),r}(f.a),H=function(e){Object(u.a)(r,e);var t=V(r);function r(e,n){return Object(a.a)(this,r),"string"==typeof n&&(n={source:n}),t.call(this,e,Object.assign({},n,{shaderType:35633}))}return Object(i.a)(r,[{key:"_createHandle",value:function(){return this.gl.createShader(35633)}}]),r}(G),X=function(e){Object(u.a)(r,e);var t=V(r);function r(e,n){return Object(a.a)(this,r),"string"==typeof n&&(n={source:n}),t.call(this,e,Object.assign({},n,{shaderType:35632}))}return Object(i.a)(r,[{key:"_createHandle",value:function(){return this.gl.createShader(35632)}}]),r}(G),z=r("T2Hy"),W=r("oejM"),J=function(){function e(t){Object(a.a)(this,e),this.id=t.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(t),this._readVaryingsFromProgram(t)}return Object(i.a)(e,[{key:"getAttributeInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}},{key:"getAttributeLocation",value:function(e){var t=this.getAttributeInfo(e);return t?t.location:-1}},{key:"getAttributeAccessor",value:function(e){var t=this.getAttributeInfo(e);return t?t.accessor:null}},{key:"getVaryingInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}},{key:"getVaryingIndex",value:function(e){var t=this.getVaryingInfo();return t?t.location:-1}},{key:"getVaryingAccessor",value:function(e){var t=this.getVaryingInfo();return t?t.accessor:null}},{key:"_readAttributesFromProgram",value:function(e){for(var t=e.gl,r=t.getProgramParameter(e.handle,35721),n=0;n<r;n++){var a=t.getActiveAttrib(e.handle,n),i=a.name,c=a.type,o=a.size,u=t.getAttribLocation(e.handle,i);u>=0&&this._addAttribute(u,i,c,o)}this.attributeInfos.sort((function(e,t){return e.location-t.location}))}},{key:"_readVaryingsFromProgram",value:function(e){var t=e.gl;if(Object(v.i)(t)){for(var r=t.getProgramParameter(e.handle,35971),n=0;n<r;n++){var a=t.getTransformFeedbackVarying(e.handle,n),i=a.name,c=a.type,o=a.size;this._addVarying(n,i,c,o)}this.varyingInfos.sort((function(e,t){return e.location-t.location}))}}},{key:"_addAttribute",value:function(e,t,r,n){var a=Object(W.a)(r),i={type:a.type,size:n*a.components};this._inferProperties(e,t,i);var c={location:e,name:t,accessor:new z.a(i)};this.attributeInfos.push(c),this.attributeInfosByLocation[e]=c,this.attributeInfosByName[c.name]=c}},{key:"_inferProperties",value:function(e,t,r){/instance/i.test(t)&&(r.divisor=1)}},{key:"_addVarying",value:function(e,t,r,n){var a=Object(W.a)(r),i=a.type,c=a.components,o={location:e,name:t,accessor:new z.a({type:i,size:n*c})};this.varyingInfos.push(o),this.varyingInfosByName[o.name]=o}}]),e}(),Y=r("rnmN");function q(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(o)throw i}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var a=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var $=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],Z=function(e){Object(u.a)(r,e);var t=K(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(this,r),(n=t.call(this,e,i)).stubRemovedMethods("Program","v6.0",$),n._isCached=!1,n.initialize(i),Object.seal(Object(c.a)(n)),n._setId(i.id),n}return Object(i.a)(r,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hash,r=e.vs,n=e.fs,a=e.varyings,i=e.bufferMode,c=void 0===i?35981:i;return this.hash=t||"",this.vs="string"==typeof r?new H(this.gl,{id:"".concat(e.id,"-vs"),source:r}):r,this.fs="string"==typeof n?new X(this.gl,{id:"".concat(e.id,"-fs"),source:n}):n,Object(m.a)(this.vs instanceof H),Object(m.a)(this.fs instanceof X),this.uniforms={},this._textureUniforms={},a&&a.length>0&&(Object(v.a)(this.gl),this.varyings=a,this.gl2.transformFeedbackVaryings(this.handle,a,c)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new J(this),this.setProps(e)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:Object(o.a)(Object(l.a)(r.prototype),"delete",this).call(this,e)}},{key:"setProps",value:function(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}},{key:"draw",value:function(e){var t=this,r=e.logPriority,n=e.drawMode,a=void 0===n?4:n,i=e.vertexCount,c=e.offset,o=void 0===c?0:c,u=e.start,s=e.end,l=e.isIndexed,f=void 0!==l&&l,d=e.indexType,h=void 0===d?5123:d,b=e.instanceCount,g=void 0===b?0:b,O=e.isInstanced,y=void 0===O?g>0:O,p=e.vertexArray,j=void 0===p?null:p,_=e.transformFeedback,E=e.framebuffer,A=e.parameters,x=void 0===A?{}:A,w=e.uniforms,T=e.samplers;if((w||T)&&(v.j.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(w||{})),v.j.priority>=r){var S=E?E.id:"default",k="mode=".concat(Object(Y.a)(this.gl,a)," verts=").concat(i," ")+"instances=".concat(g," indexType=").concat(Object(Y.a)(this.gl,h)," ")+"isInstanced=".concat(y," isIndexed=").concat(f," ")+"Framebuffer=".concat(S);v.j.log(r,k)()}return Object(m.a)(j),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===i||y&&0===g)&&(j.bindForDraw(i,g,(function(){if(void 0!==E&&(x=Object.assign({},x,{framebuffer:E})),_){var e=Object(W.c)(a);_.begin(e)}t._bindTextures(),Object(v.n)(t.gl,x,(function(){f&&y?t.gl2.drawElementsInstanced(a,i,h,o,g):f&&Object(v.i)(t.gl)&&!isNaN(u)&&!isNaN(s)?t.gl2.drawRangeElements(a,u,s,i,h,o):f?t.gl.drawElements(a,i,h,o):y?t.gl2.drawArraysInstanced(a,o,i,g):t.gl.drawArrays(a,o,i)})),_&&_.end()})),!0)}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in v.j.priority>=2&&k(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle),e){var r=e[t],n=this._uniformSetters[t];if(n){var a=r,i=!1;if(a instanceof h.a&&(a=a.texture),a instanceof d.a)if(i=this.uniforms[t]!==r){void 0===n.textureIndex&&(n.textureIndex=this._textureIndexCounter++);var c=a,o=n.textureIndex;c.bind(o),a=o,this._textureUniforms[t]=c}else a=n.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(n(a)||i)&&B(this.uniforms,t,r)}}return this}},{key:"_areTexturesRenderable",value:function(){var e=!0;for(var t in this._textureUniforms){var r=this._textureUniforms[t];r.update(),e=e&&r.loaded}return e}},{key:"_bindTextures",value:function(){for(var e in this._textureUniforms){var t=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(t)}}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getOptionsFromHandle",value:function(e){var t,r={},n=q(this.gl.getAttachedShaders(e));try{for(n.s();!(t=n.n()).done;){var a=t.value;switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:r.vs=new H({handle:a});break;case 35632:r.fs=new X({handle:a})}}}catch(i){n.e(i)}finally{n.f()}return r}},{key:"_getParameter",value:function(e){return this.gl.getProgramParameter(this.handle,e)}},{key:"_setId",value:function(e){if(!e){var t=this._getName();this.id=Object(U.c)(t)}}},{key:"_getName",value:function(){var e=this.vs.getName()||this.fs.getName();return e=(e=e.replace(/shader/i,""))?"".concat(e,"-program"):"program"}},{key:"_compileAndLink",value:function(){var e=this.gl;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),v.j.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),v.j.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||v.j.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}},{key:"_readUniformLocationsFromLinkedProgram",value:function(){var e=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(var t=0;t<this._uniformCount;t++){var r=this.gl.getActiveUniform(this.handle,t),n=S(r.name).name,a=e.getUniformLocation(this.handle,n);if(this._uniformSetters[n]=T(e,a,r),r.size>1)for(var i=0;i<r.size;i++)a=e.getUniformLocation(this.handle,"".concat(n,"[").concat(i,"]")),this._uniformSetters["".concat(n,"[").concat(i,"]")]=T(e,a,r)}this._textureIndexCounter=0}},{key:"getActiveUniforms",value:function(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}},{key:"getUniformBlockIndex",value:function(e){return this.gl2.getUniformBlockIndex(this.handle,e)}},{key:"getActiveUniformBlockParameter",value:function(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}},{key:"uniformBlockBinding",value:function(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}]),r}(f.a)},P5C6:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return f}));var n,a,i=r("rePB"),c=r("Vyni"),o=r("oJMS"),u=function(e){return Object(o.e)(e)?void 0:0},s=(n={},Object(i.a)(n,3074,(function(e){return Object(o.e)(e)?void 0:36064})),Object(i.a)(n,35723,(function(e){return Object(o.e)(e)?void 0:4352})),Object(i.a)(n,35977,u),Object(i.a)(n,32937,u),Object(i.a)(n,36795,(function(e,t){var r=Object(o.e)(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return r&&r.GPU_DISJOINT_EXT?t(r.GPU_DISJOINT_EXT):0})),Object(i.a)(n,37445,(function(e,t){var r=e.getExtension("WEBGL_debug_renderer_info");return t(r&&r.UNMASKED_VENDOR_WEBGL||7936)})),Object(i.a)(n,37446,(function(e,t){var r=e.getExtension("WEBGL_debug_renderer_info");return t(r&&r.UNMASKED_RENDERER_WEBGL||7937)})),Object(i.a)(n,34047,(function(e,t){var r=e.luma.extensions.EXT_texture_filter_anisotropic;return r?t(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),Object(i.a)(n,32883,u),Object(i.a)(n,35071,u),Object(i.a)(n,37447,u),Object(i.a)(n,36063,(function(e,t){if(!Object(o.e)(e)){var r=e.getExtension("WEBGL_draw_buffers");return r?t(r.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),Object(i.a)(n,35379,u),Object(i.a)(n,35374,u),Object(i.a)(n,35377,u),Object(i.a)(n,34852,(function(e){if(!Object(o.e)(e)){var t=e.getExtension("WEBGL_draw_buffers");return t?t.MAX_DRAW_BUFFERS_WEBGL:0}})),Object(i.a)(n,36203,(function(e){return e.getExtension("OES_element_index")?2147483647:65535})),Object(i.a)(n,33001,(function(e){return e.getExtension("OES_element_index")?16777216:65535})),Object(i.a)(n,33e3,(function(e){return 16777216})),Object(i.a)(n,37157,u),Object(i.a)(n,35373,u),Object(i.a)(n,35657,u),Object(i.a)(n,36183,u),Object(i.a)(n,37137,u),Object(i.a)(n,34045,u),Object(i.a)(n,35978,u),Object(i.a)(n,35979,u),Object(i.a)(n,35968,u),Object(i.a)(n,35376,u),Object(i.a)(n,35375,u),Object(i.a)(n,35659,u),Object(i.a)(n,37154,u),Object(i.a)(n,35371,u),Object(i.a)(n,35658,u),Object(i.a)(n,35076,u),Object(i.a)(n,35077,u),Object(i.a)(n,35380,u),n);var l=(a={},Object(i.a)(a,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){Object(c.a)(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),Object(i.a)(a,"ANGLE_instanced_arrays",{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(e,t){Object(c.a)(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),Object(i.a)(a,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){Object(c.a)(!1)}}),Object(i.a)(a,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){Object(c.a)(!1)},deleteQuery:function(){Object(c.a)(!1)},beginQuery:function(){Object(c.a)(!1)},endQuery:function(){},getQuery:function(e,t){return this.getQueryObject(e,t)},getQueryParameter:function(e,t){return this.getQueryObject(e,t)},getQueryObject:function(){}}),a),f={readBuffer:function(e,t,r){Object(o.e)(e)&&t(r)},getVertexAttrib:function(e,t,r,n){var a,i=function(e,t){return{webgl2:Object(o.e)(e),ext:e.getExtension(t)}}(e,"ANGLE_instanced_arrays"),c=i.webgl2,u=i.ext;switch(n){case 35069:a=!!c&&void 0;break;case 35070:a=c||u?void 0:0}return void 0!==a?a:t(r,n)},getProgramParameter:function(e,t,r,n){if(!Object(o.e)(e))switch(n){case 35967:return 35981;case 35971:case 35382:return 0}return t(r,n)},getInternalformatParameter:function(e,t,r,n,a){if(!Object(o.e)(e))switch(a){case 32937:return new Int32Array([0])}return e.getInternalformatParameter(r,n,a)},getTexParameter:function(e,t,r,n){switch(n){case 34046:var a=e.luma.extensions.EXT_texture_filter_anisotropic;n=a&&a.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(r,n)},getParameter:function(e,t,r){var n=s[r],a="function"==typeof n?n(e,t,r):n;return void 0!==a?a:t(r)},hint:function(e,t,r,n){return t(r,n)}}},ReuC:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("foSv");function a(e,t,r){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}},T2Hy:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r("RHh3"),a=r("1OyB"),i=r("vuIU"),c=r("B9+J"),o=r("CxzY"),u=r("LE90"),s={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},l={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},f=function(){function e(){var t=this;Object(a.a)(this,e);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n.forEach((function(e){return t._assign(e)})),Object.freeze(this)}return Object(i.a)(e,null,[{key:"getBytesPerElement",value:function(e){return Object(c.c)(e.type||5126).BYTES_PER_ELEMENT}},{key:"getBytesPerVertex",value:function(e){return Object(o.a)(e.size),Object(c.c)(e.type||5126).BYTES_PER_ELEMENT*e.size}},{key:"resolve",value:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Object(n.a)(e,[s].concat(r))}}]),Object(i.a)(e,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"_assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==(e=Object(u.a)("Accessor",e,l)).type&&(this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"==typeof e.index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}},{key:"BYTES_PER_ELEMENT",get:function(){return e.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return e.getBytesPerVertex(this)}}]),e}()},VdrS:function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return o}));var n=r("CxzY"),a={};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";a[e]=a[e]||1;var t=a[e]++;return"".concat(e,"-").concat(t)}function c(e){return Object(n.a)("number"==typeof e,"Input must be a number"),e&&0==(e&e-1)}function o(e){var t=!0;for(var r in e){t=!1;break}return t}},Vyni:function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}r.d(t,"a",(function(){return n}))},d3kR:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return l}));var n=r("tMmZ"),a=r("iein"),i=r("CxzY");function c(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){return s(e,t)}function s(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return f(e,t)}))}function l(e){for(var t in e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},n.b)void 0===e.luma.caps[t]&&(e.luma.caps[t]=f(e,t));return e.luma.caps}function f(e,t){return e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},void 0===e.luma.caps[t]&&(e.luma.caps[t]=function(e,t){var r,o=n.b[t];Object(i.a)(o,t);var u=Object(a.i)(e)&&o[1]||o[0];if("function"==typeof u)r=u(e);else if(Array.isArray(u)){r=!0;var s,l=c(u);try{for(l.s();!(s=l.n()).done;){var f=s.value;r=r&&Boolean(e.getExtension(f))}}catch(d){l.e(d)}finally{l.f()}}else"string"==typeof u?r=Boolean(e.getExtension(u)):"boolean"==typeof u?r=u:Object(i.a)(!1);return r}(e,t)),e.luma.caps[t]||a.j.log(2,"Feature: ".concat(t," not supported"))(),e.luma.caps[t]}},f5Sf:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r("1OyB"),a=r("JX7q"),i=r("vuIU"),c=r("Ji7U"),o=r("md7G"),u=r("foSv"),s=r("iein"),l=r("l6PP"),f=r("CxzY"),d="";function h(e,t){return Object(f.a)("string"==typeof e),e=d+e,new Promise((function(r,n){try{var a=new Image;a.onload=function(){return r(a)},a.onerror=function(){return n(new Error("Could not load image ".concat(e,".")))},a.crossOrigin=t&&t.crossOrigin||"anonymous",a.src=e}catch(i){n(i)}}))}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var v=function(e){Object(c.a)(r,e);var t=b(r);function r(e){var i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,r),Object(s.b)(e),(c instanceof Promise||"string"==typeof c)&&(c={data:c}),"string"==typeof c.data&&(c=Object.assign({},c,{data:h(c.data)})),(i=t.call(this,e,Object.assign({},c,{target:3553}))).initialize(c),Object.seal(Object(a.a)(i)),i}return Object(i.a)(r,null,[{key:"isSupported",value:function(e,t){return l.a.isSupported(e,t)}}]),r}(l.a)},gXd2:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return d})),r.d(t,"d",(function(){return h}));var n=r("rp2x"),a=r("9Q0L"),i=r("Vyni"),c=r("oJMS"),o=r("3SJd");function u(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(o)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(Object(i.a)(Object(c.d)(e),"setParameters requires a WebGL context"),!Object(o.b)(t)){var r={};for(var a in t){var u=Number(a),s=n.e[a];s&&("string"==typeof s?r[s]=!0:s(e,t[a],u))}var l=e.state&&e.state.cache;if(l)for(var f in r){(0,n.a[f])(e,t,l)}}}function f(e,t){if("number"==typeof(t=t||n.c)){var r=t,a=n.d[r];return a?a(e,r):e.getParameter(r)}var i,c={},o=u(Array.isArray(t)?t:Object.keys(t));try{for(o.s();!(i=o.n()).done;){var s=i.value,l=n.d[s];c[s]=l?l(e,Number(s)):e.getParameter(Number(s))}}catch(f){o.e(f)}finally{o.f()}return c}function d(e){l(e,n.c)}function h(e,t,r){if(Object(o.b)(t))return r(e);var n,i=t.nocatch,c=void 0===i||i;if(Object(a.b)(e),l(e,t),c)n=r(e),Object(a.a)(e);else try{n=r(e)}finally{Object(a.a)(e)}return n}},iein:function(e,t,r){"use strict";r.d(t,"j",(function(){return n})),r.d(t,"h",(function(){return a.d})),r.d(t,"i",(function(){return a.e})),r.d(t,"f",(function(){return a.c})),r.d(t,"b",(function(){return a.b})),r.d(t,"a",(function(){return a.a})),r.d(t,"m",(function(){return i.c})),r.d(t,"k",(function(){return i.b})),r.d(t,"n",(function(){return i.d})),r.d(t,"c",(function(){return O})),r.d(t,"l",(function(){return p})),r.d(t,"g",(function(){return y})),r.d(t,"e",(function(){return s})),r.d(t,"d",(function(){return l}));var n=new(r("d3wX").a)({id:"luma.gl"}),a=r("oJMS"),i=(r("Hogv"),r("gXd2")),c=r("9Q0L"),o=r("xSaR"),u=r("Vyni");function s(e){var t=e.luma;if(e.canvas&&t){var r=t.canvasSizeInfo.clientWidth;return r?e.drawingBufferWidth/r:1}return 1}function l(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=s(e),a=e.drawingBufferWidth,i=e.drawingBufferHeight;return d(t,n,a,i,r)}function f(e){var t="undefined"==typeof window?1:window.devicePixelRatio||1;return Number.isFinite(e)?e<=0?1:e:e?t:1}function d(e,t,r,n,a){var i,c=h(e[0],t,r),o=b(e[1],t,n,a),u=h(e[0]+1,t,r),s=u===r-1?u:u-1;return u=b(e[1]+1,t,n,a),a?(i=o,o=u=0===u?u:u+1):i=u===n-1?u:u-1,{x:c,y:o,width:Math.max(s-c+1,1),height:Math.max(i-o+1,1)}}function h(e,t,r){return Math.min(Math.round(e*t),r-1)}function b(e,t,r,n){return n?Math.max(0,r-1-Math.round(e*t)):Math.min(Math.round(e*t),r-1)}var v=Object(o.isBrowser)(),g=v&&"undefined"!=typeof document,m={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(v,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils");var t,r=e=Object.assign({},m,e),n=r.width,a=r.height;function i(t){if(e.throwOnError)throw new Error(t);return console.error(t),null}e.onError=i;var c=e,o=c.canvas,s=_({canvas:o,width:n,height:a,onError:i});return(t=j(s,e))?(E(t=y(t,e)),t):null}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e._instrumented)return e;e._version=e._version||A(e),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var r=t=Object.assign({},m,t),a=r.manageState,i=r.debug;return a&&Object(c.c)(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.log.apply(n,[1].concat(t))()}}),v&&i&&(o.global.makeDebugContext?(e=o.global.makeDebugContext(e,t),n.level=Math.max(n.level,1)):n.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.canvas){var r=f(t.useDevicePixels);x(e,r,t)}else{var n=e.getExtension("STACKGL_resize_drawingbuffer");n&&"width"in t&&"height"in t&&n.resize(t.width,t.height)}}function j(e,t){var r=t.onError,n=null,a=function(e){return n=e.statusMessage||n};e.addEventListener("webglcontextcreationerror",a,!1);var i=t.webgl1,c=void 0===i||i,o=t.webgl2,u=void 0===o||o,s=null;return u&&(s=(s=s||e.getContext("webgl2",t))||e.getContext("experimental-webgl2",t)),c&&(s=(s=s||e.getContext("webgl",t))||e.getContext("experimental-webgl",t)),e.removeEventListener("webglcontextcreationerror",a,!1),s?(t.onContextLost&&e.addEventListener("webglcontextlost",t.onContextLost,!1),t.onContextRestored&&e.addEventListener("webglcontextrestored",t.onContextRestored,!1),s):r("Failed to create ".concat(u&&!c?"WebGL2":"WebGL"," context: ").concat(n||"Unknown error"))}function _(e){var t,r=e.canvas,n=e.width,a=void 0===n?800:n,i=e.height,c=void 0===i?600:i,o=e.onError;"string"==typeof r?(g&&"complete"===document.readyState||o("createGLContext called on canvas '".concat(r,"' before page was loaded")),t=document.getElementById(r)):r?t=r:((t=document.createElement("canvas")).id="lumagl-canvas",t.style.width=Number.isFinite(a)?"".concat(a,"px"):"100%",t.style.height=Number.isFinite(c)?"".concat(c,"px"):"100%",document.body.insertBefore(t,document.body.firstChild));return t}function E(e){var t=Object(a.e)(e)?"WebGL2":"WebGL1",r=function(e){var t=e.getParameter(7936),r=e.getParameter(7937),n=e.getExtension("WEBGL_debug_renderer_info");return{vendor:n&&e.getParameter(n.UNMASKED_VENDOR_WEBGL||7936)||t,renderer:n&&e.getParameter(n.UNMASKED_RENDERER_WEBGL||7937)||r,vendorMasked:t,rendererMasked:r,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e),i=r?"(".concat(r.vendor,",").concat(r.renderer,")"):"",c=e.debug?" debug":"";n.info(1,"".concat(t).concat(c," context ").concat(i))()}function A(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext?2:1}function x(e,t,r){var a="width"in r?r.width:e.canvas.clientWidth,i="height"in r?r.height:e.canvas.clientHeight;a&&i||(n.log(1,"Canvas clientWidth/clientHeight is 0")(),t=1,a=e.canvas.width||1,i=e.canvas.height||1),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var c=e.luma.canvasSizeInfo;if(c.clientWidth!==a||c.clientHeight!==i||c.devicePixelRatio!==t){var o=t,u=Math.floor(a*o),s=Math.floor(i*o);e.canvas.width=u,e.canvas.height=s,e.drawingBufferWidth===u&&e.drawingBufferHeight===s||(n.warn("Device pixel ratio clamped")(),o=Math.min(e.drawingBufferWidth/a,e.drawingBufferHeight/i),e.canvas.width=Math.floor(a*o),e.canvas.height=Math.floor(i*o)),Object.assign(e.luma.canvasSizeInfo,{clientWidth:a,clientHeight:i,devicePixelRatio:t})}}},jWbo:function(e,t,r){"use strict";(function(e,n){var a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.console=t.process=t.document=t.global=t.window=t.self=void 0;var i=a(r("cDf5")),c={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document,process:"object"===(void 0===n?"undefined":(0,i.default)(n))&&n},o=c.self||c.window||c.global;t.self=o;var u=c.window||c.self||c.global;t.window=u;var s=c.global||c.self||c.window;t.global=s;var l=c.document||{};t.document=l;var f=c.process||{};t.process=f;var d=console;t.console=d}).call(this,r("yLpj"),r("8oxB"))},l6PP:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r("ODXe"),a=r("1OyB"),i=r("vuIU"),c=r("Ji7U"),o=r("md7G"),u=r("foSv"),s=r("iein"),l=r("xSaR"),f=r("L8KH"),d=r("sc/6"),h=r("uYBD"),b=r("VdrS"),v=r("CxzY");function g(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(o)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var y=[9729,9728],p=l.global.WebGLBuffer||function(){},j=function(e){Object(c.a)(r,e);var t=O(r);function r(e,n){var i;Object(a.a)(this,r);var c=n.id,o=void 0===c?Object(b.c)("texture"):c,u=n.handle,s=n.target;return(i=t.call(this,e,{id:o,handle:u})).target=s,i.textureUnit=void 0,i.loaded=!1,i.width=void 0,i.height=void 0,i.depth=void 0,i.format=void 0,i.type=void 0,i.dataFormat=void 0,i.border=void 0,i.textureUnit=void 0,i.mipmaps=void 0,i}return Object(i.a)(r,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.format,n=t.linearFiltering,a=!0;return r&&(a=(a=a&&Object(h.d)(e,r))&&(!n||Object(h.e)(e,r))),a}}]),Object(i.a)(r,[{key:"toString",value:function(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.data;if(r instanceof Promise)return r.then((function(r){return e.initialize(Object.assign({},t,{pixels:r,data:r}))})),this;var n="undefined"!=typeof HTMLVideoElement&&r instanceof HTMLVideoElement;if(n&&r.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,r.addEventListener("loadeddata",(function(){return e.initialize(t)})),this;var a=t.pixels,i=void 0===a?null:a,c=t.format,o=void 0===c?6408:c,u=t.border,l=void 0===u?0:u,f=t.recreate,d=void 0!==f&&f,h=t.parameters,b=void 0===h?{}:h,v=t.pixelStore,g=void 0===v?{}:v,m=t.textureUnit,O=void 0===m?void 0:m;r||(r=i);var y=t.width,p=t.height,j=t.dataFormat,_=t.type,E=t.compressed,A=void 0!==E&&E,x=t.mipmaps,w=void 0===x||x,T=t.depth,S=void 0===T?0:T,k=this._deduceParameters({format:o,type:_,dataFormat:j,compressed:A,data:r,width:y,height:p});return y=k.width,p=k.height,A=k.compressed,j=k.dataFormat,_=k.type,this.width=y,this.height=p,this.depth=S,this.format=o,this.type=_,this.dataFormat=j,this.border=l,this.textureUnit=O,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),w&&this._isNPOT()&&(s.j.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),w=!1,this._updateForNPOT(b)),this.mipmaps=w,this.setImageData({data:r,width:y,height:p,depth:S,format:o,type:_,dataFormat:j,border:l,mipmaps:w,parameters:g,compressed:A}),w&&this.generateMipmap(),this.setParameters(b),d&&(this.data=r),n&&(this._video={video:r,parameters:b,lastTime:r.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?r.currentTime:-1}),this}},{key:"update",value:function(){if(this._video){var e=this._video,t=e.video,r=e.parameters;if(e.lastTime===t.currentTime||t.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:t,parameters:r}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=t.currentTime}}},{key:"resize",value:function(e){var t=e.height,r=e.width,n=e.mipmaps,a=void 0!==n&&n;return r!==this.width||t!==this.height?this.initialize({width:r,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:a}):this}},{key:"generateMipmap",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(s.j.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Object(s.n)(this.gl,t,(function(){e.gl.generateMipmap(e.target)})),this.gl.bindTexture(this.target,null),this)}},{key:"setImageData",value:function(e){this._trackDeallocatedMemory("Texture");var t=e.target,r=void 0===t?this.target:t,a=e.pixels,i=void 0===a?null:a,c=e.level,o=void 0===c?0:c,u=e.format,l=void 0===u?this.format:u,f=e.border,d=void 0===f?this.border:f,b=e.offset,m=void 0===b?0:b,O=e.parameters,y=void 0===O?{}:O,p=e.data,j=void 0===p?null:p,_=e.type,E=void 0===_?this.type:_,A=e.width,x=void 0===A?this.width:A,w=e.height,T=void 0===w?this.height:w,S=e.dataFormat,k=void 0===S?this.dataFormat:S,R=e.compressed,B=void 0!==R&&R;j||(j=i);var L=this._deduceParameters({format:l,type:E,dataFormat:k,compressed:B,data:j,width:x,height:T});E=L.type,k=L.dataFormat,B=L.compressed,x=L.width,T=L.height;var P=this.gl;P.bindTexture(this.target,this.handle);var I,F,M=this._getDataType({data:j,compressed:B});if(j=M.data,I=M.dataType,Object(s.n)(this.gl,y,(function(){switch(I){case"null":P.texImage2D(r,o,l,x,T,d,k,E,j);break;case"typed-array":P.texImage2D(r,o,l,x,T,d,k,E,j,m);break;case"buffer":(F=Object(s.a)(P)).bindBuffer(35052,j.handle||j),F.texImage2D(r,o,l,x,T,d,k,E,m),F.bindBuffer(35052,null);break;case"browser-object":Object(s.i)(P)?P.texImage2D(r,o,l,x,T,d,k,E,j):P.texImage2D(r,o,l,k,E,j);break;case"compressed":var e,t=g(j.entries());try{for(t.s();!(e=t.n()).done;){var a=Object(n.a)(e.value,2),i=a[0],c=a[1];P.compressedTexImage2D(r,i,c.format,c.width,c.height,d,c.data)}}catch(u){t.e(u)}finally{t.f()}break;default:Object(v.a)(!1,"Unknown image data type")}})),j&&j.byteLength)this._trackAllocatedMemory(j.byteLength,"Texture");else{var D=h.a[this.dataFormat]||4,N=h.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*D*N,"Texture")}return this.loaded=!0,this}},{key:"setSubImageData",value:function(e){var t=this,r=e.target,n=void 0===r?this.target:r,a=e.pixels,i=void 0===a?null:a,c=e.data,o=void 0===c?null:c,u=e.x,l=void 0===u?0:u,f=e.y,h=void 0===f?0:f,b=e.width,g=void 0===b?this.width:b,m=e.height,O=void 0===m?this.height:m,y=e.level,j=void 0===y?0:y,_=e.format,E=void 0===_?this.format:_,A=e.type,x=void 0===A?this.type:A,w=e.dataFormat,T=void 0===w?this.dataFormat:w,S=e.compressed,k=void 0!==S&&S,R=e.offset,B=void 0===R?0:R,L=e.border,P=(void 0===L&&this.border,e.parameters),I=void 0===P?{}:P,F=this._deduceParameters({format:E,type:x,dataFormat:T,compressed:k,data:o,width:g,height:O});if(x=F.type,T=F.dataFormat,k=F.compressed,g=F.width,O=F.height,Object(v.a)(0===this.depth,"texSubImage not supported for 3D textures"),o||(o=i),o&&o.data){var M=o;o=M.data,g=M.shape[0],O=M.shape[1]}o instanceof d.a&&(o=o.handle),this.gl.bindTexture(this.target,this.handle),Object(s.n)(this.gl,I,(function(){if(k)t.gl.compressedTexSubImage2D(n,j,l,h,g,O,E,o);else if(null===o)t.gl.texSubImage2D(n,j,l,h,g,O,T,x,null);else if(ArrayBuffer.isView(o))t.gl.texSubImage2D(n,j,l,h,g,O,T,x,o,B);else if(o instanceof p){var e=Object(s.a)(t.gl);e.bindBuffer(35052,o),e.texSubImage2D(n,j,l,h,g,O,T,x,B),e.bindBuffer(35052,null)}else if(Object(s.i)(t.gl)){Object(s.a)(t.gl).texSubImage2D(n,j,l,h,g,O,T,x,o)}else t.gl.texSubImage2D(n,j,l,h,T,x,o)})),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(){return s.j.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}},{key:"_getDataType",value:function(e){var t=e.data,r=e.compressed;return void 0!==r&&r?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof d.a?{data:t.handle,dataType:"buffer"}:t instanceof p?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}},{key:"_deduceParameters",value:function(e){var t=e.format,r=e.data,n=e.width,a=e.height,i=e.dataFormat,c=e.type,o=e.compressed,u=h.b[t];i=i||u&&u.dataFormat,c=c||u&&u.types[0],o=o||u&&u.compressed;var s=this._deduceImageSize(r,n,a);return{dataFormat:i,type:c,compressed:o,width:n=s.width,height:a=s.height,format:t,data:r}}},{key:"_deduceImageSize",value:function(e,t,r){var n;return n="undefined"!=typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:r}:{width:t>=0?t:1,height:r>=0?r:1},Object(v.a)(n,"Could not deduced texture size"),Object(v.a)(void 0===t||n.width===t,"Deduced texture width does not match supplied width"),Object(v.a)(void 0===r||n.height===r,"Deduced texture height does not match supplied height"),n}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}},{key:"_getParameter",value:function(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);var t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}},{key:"_setParameter",value:function(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:Object(v.a)(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!Object(s.i)(this.gl)&&(!(!this.width||!this.height)&&(!Object(b.b)(this.width)||!Object(b.b)(this.height)))}},{key:"_updateForNPOT",value:function(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(e,t){if(this._isNPOT())switch(e){case 10241:-1===y.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}]),r}(f.a)},n4Ve:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n,a=r("1OyB"),i=r("JX7q"),c=r("vuIU"),o=r("Ji7U"),u=r("md7G"),s=r("foSv"),l=r("L8KH"),f=r("rePB"),d="EXT_color_buffer_float",h=(n={},Object(f.a)(n,33189,{bpp:2}),Object(f.a)(n,33190,{gl2:!0,bpp:3}),Object(f.a)(n,36012,{gl2:!0,bpp:4}),Object(f.a)(n,36168,{bpp:1}),Object(f.a)(n,34041,{bpp:4}),Object(f.a)(n,35056,{gl2:!0,bpp:4}),Object(f.a)(n,36013,{gl2:!0,bpp:5}),Object(f.a)(n,32854,{bpp:2}),Object(f.a)(n,36194,{bpp:2}),Object(f.a)(n,32855,{bpp:2}),Object(f.a)(n,33321,{gl2:!0,bpp:1}),Object(f.a)(n,33330,{gl2:!0,bpp:1}),Object(f.a)(n,33329,{gl2:!0,bpp:1}),Object(f.a)(n,33332,{gl2:!0,bpp:2}),Object(f.a)(n,33331,{gl2:!0,bpp:2}),Object(f.a)(n,33334,{gl2:!0,bpp:4}),Object(f.a)(n,33333,{gl2:!0,bpp:4}),Object(f.a)(n,33323,{gl2:!0,bpp:2}),Object(f.a)(n,33336,{gl2:!0,bpp:2}),Object(f.a)(n,33335,{gl2:!0,bpp:2}),Object(f.a)(n,33338,{gl2:!0,bpp:4}),Object(f.a)(n,33337,{gl2:!0,bpp:4}),Object(f.a)(n,33340,{gl2:!0,bpp:8}),Object(f.a)(n,33339,{gl2:!0,bpp:8}),Object(f.a)(n,32849,{gl2:!0,bpp:3}),Object(f.a)(n,32856,{gl2:!0,bpp:4}),Object(f.a)(n,32857,{gl2:!0,bpp:4}),Object(f.a)(n,36220,{gl2:!0,bpp:4}),Object(f.a)(n,36238,{gl2:!0,bpp:4}),Object(f.a)(n,36975,{gl2:!0,bpp:4}),Object(f.a)(n,36214,{gl2:!0,bpp:8}),Object(f.a)(n,36232,{gl2:!0,bpp:8}),Object(f.a)(n,36226,{gl2:!0,bpp:16}),Object(f.a)(n,36208,{gl2:!0,bpp:16}),Object(f.a)(n,33325,{gl2:d,bpp:2}),Object(f.a)(n,33327,{gl2:d,bpp:4}),Object(f.a)(n,34842,{gl2:d,bpp:8}),Object(f.a)(n,33326,{gl2:d,bpp:4}),Object(f.a)(n,33328,{gl2:d,bpp:8}),Object(f.a)(n,34836,{gl2:d,bpp:16}),Object(f.a)(n,35898,{gl2:d,bpp:4}),n),b=r("iein"),v=r("CxzY");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}function m(e,t,r){var n=r[t];if(!n)return!1;var a=Object(b.i)(e)&&n.gl2||n.gl1;return"string"==typeof a?e.getExtension(a):a}var O=function(e){Object(o.a)(r,e);var t=g(r);function r(e){var n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(this,r),(n=t.call(this,e,c)).initialize(c),Object.seal(Object(i.a)(n)),n}return Object(c.a)(r,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null},r=t.format;return!r||m(e,r,h)}},{key:"getSamplesForFormat",value:function(e,t){var r=t.format;return e.getInternalformatParameter(36161,r,32937)}}]),Object(c.a)(r,[{key:"initialize",value:function(e){var t=e.format,r=e.width,n=void 0===r?1:r,a=e.height,i=void 0===a?1:a,c=e.samples,o=void 0===c?0:c;return Object(v.a)(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==o&&Object(b.i)(this.gl)?this.gl.renderbufferStorageMultisample(36161,o,t,n,i):this.gl.renderbufferStorage(36161,t,n,i),this.format=t,this.width=n,this.height=i,this.samples=o,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*h[this.format].bpp),this}},{key:"resize",value:function(e){var t=e.width,r=e.height;return t!==this.width||r!==this.height?this.initialize({width:t,height:r,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_bindHandle",value:function(e){this.gl.bindRenderbuffer(36161,e)}},{key:"_syncHandle",value:function(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}]),r}(l.a)},oJMS:function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return i})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return u}));var n=r("Vyni");function a(e){return"undefined"!=typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext||Boolean(e&&Number.isFinite(e._version))}function i(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}function c(e){return i(e)?e:null}function o(e){return Object(n.a)(a(e),"Invalid WebGLRenderingContext"),e}function u(e){return Object(n.a)(i(e),"Requires WebGL2"),e}},oejM:function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l}));var n,a=r("ODXe"),i=r("rePB"),c=r("CxzY"),o=(n={},Object(i.a)(n,5126,[5126,1,"float"]),Object(i.a)(n,35664,[5126,2,"vec2"]),Object(i.a)(n,35665,[5126,3,"vec3"]),Object(i.a)(n,35666,[5126,4,"vec4"]),Object(i.a)(n,5124,[5124,1,"int"]),Object(i.a)(n,35667,[5124,2,"ivec2"]),Object(i.a)(n,35668,[5124,3,"ivec3"]),Object(i.a)(n,35669,[5124,4,"ivec4"]),Object(i.a)(n,5125,[5125,1,"uint"]),Object(i.a)(n,36294,[5125,2,"uvec2"]),Object(i.a)(n,36295,[5125,3,"uvec3"]),Object(i.a)(n,36296,[5125,4,"uvec4"]),Object(i.a)(n,35670,[5126,1,"bool"]),Object(i.a)(n,35671,[5126,2,"bvec2"]),Object(i.a)(n,35672,[5126,3,"bvec3"]),Object(i.a)(n,35673,[5126,4,"bvec4"]),Object(i.a)(n,35674,[5126,8,"mat2"]),Object(i.a)(n,35685,[5126,8,"mat2x3"]),Object(i.a)(n,35686,[5126,8,"mat2x4"]),Object(i.a)(n,35675,[5126,12,"mat3"]),Object(i.a)(n,35687,[5126,12,"mat3x2"]),Object(i.a)(n,35688,[5126,12,"mat3x4"]),Object(i.a)(n,35676,[5126,16,"mat4"]),Object(i.a)(n,35689,[5126,16,"mat4x2"]),Object(i.a)(n,35690,[5126,16,"mat4x3"]),n);function u(e){switch(e){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return Object(c.a)(!1),0}}function s(e){var t=o[e];if(!t)return null;var r=Object(a.a)(t,2);return{type:r[0],components:r[1]}}function l(e,t){switch(e){case 5120:case 5121:case 5122:case 5123:e=5126}for(var r in o){var n=Object(a.a)(o[r],3),i=n[0],c=n[1],u=n[2];if(i===e&&c===t)return{glType:r,name:u}}return null}},p7wt:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return s}));r("sc/6");var n=r("11Ib"),a=(r("l6PP"),r("iein"),r("B9+J")),i=r("CxzY");function c(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return Object(i.a)(!1),0}}var o=r("MdWm");function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sourceX,n=void 0===r?0:r,c=t.sourceY,o=void 0===c?0:c,u=t.sourceFormat,s=void 0===u?6408:u,d=t.sourceAttachment,h=void 0===d?36064:d,b=t.target,v=void 0===b?null:b,g=t.sourceWidth,m=t.sourceHeight,O=t.sourceType,y=l(e),p=y.framebuffer,j=y.deleteFramebuffer;Object(i.a)(p);var _=p.gl,E=p.handle,A=p.attachments;g=g||p.width,m=m||p.height,36064===h&&null===E&&(h=1028),Object(i.a)(A[h]),v=f(v,O=O||A[h].type,s,g,m),O=O||Object(a.b)(v);var x=_.bindFramebuffer(36160,E);return _.readPixels(n,o,g,m,s,O,v),_.bindFramebuffer(36160,x||null),j&&p.delete(),v}function s(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sourceAttachment,n=void 0===r?36064:r,i=t.targetMaxHeight,c=void 0===i?Number.MAX_SAFE_INTEGER:i,o=u(e,{sourceAttachment:n}),s=e.width,l=e.height;l>c;){var f=Object(a.d)({data:o,width:s,height:l});o=f.data,s=f.width,l=f.height}Object(a.a)({data:o,width:s,height:l});var d=document.createElement("canvas");d.width=s,d.height=l;var h=d.getContext("2d"),b=h.createImageData(s,l);return b.data.set(o),h.putImageData(b,0,0),d.toDataURL()}function l(e){return e instanceof n.a?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:Object(o.b)(e),deleteFramebuffer:!0}}function f(e,t,r,n,i){return e||(t=t||5121,new(Object(a.c)(t,{clamped:!1}))(n*i*c(r)))}},pRFE:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return o}));var n=r("ODXe"),a=r("iein"),i=r("CxzY");function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.framebuffer,n=void 0===r?null:r,c=t.color,o=void 0===c?null:c,u=t.depth,s=void 0===u?null:u,l=t.stencil,f=void 0===l?null:l,d={};n&&(d.framebuffer=n);var h=0;o&&(h|=16384,!0!==o&&(d.clearColor=o)),s&&(h|=256,!0!==s&&(d.clearDepth=s)),f&&(h|=1024,!0!==s&&(d.clearStencil=s)),Object(i.a)(0!==h,"clear: bad arguments"),Object(a.n)(e,d,(function(){e.clear(h)}))}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.framebuffer,c=void 0===r?null:r,o=t.buffer,u=void 0===o?6144:o,s=t.drawBuffer,l=void 0===s?0:s,f=t.value,d=void 0===f?[0,0,0,0]:f;Object(a.a)(e),Object(a.n)(e,{framebuffer:c},(function(){switch(u){case 6144:switch(d.constructor){case Int32Array:e.clearBufferiv(u,l,d);break;case Uint32Array:e.clearBufferuiv(u,l,d);break;case Float32Array:default:e.clearBufferfv(u,l,d)}break;case 6145:e.clearBufferfv(6145,0,[d]);break;case 6146:e.clearBufferiv(6146,0,[d]);break;case 34041:var t=Object(n.a)(d,2),r=t[0],a=t[1];e.clearBufferfi(34041,0,r,a);break;default:Object(i.a)(!1,"clear: bad arguments")}}))}},rnmN:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return i}));var n=r("CxzY");function a(e,t){if("string"!=typeof t)return t;var r=Number(t);if(!isNaN(r))return r;var a=e[t=t.replace(/^.*\./,"")];return Object(n.a)(void 0!==a,"Accessing undefined constant GL.".concat(t)),a}function i(e,t){for(var r in t=Number(t),e)if(e[r]===t)return"GL.".concat(r);return String(t)}},rp2x:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return v})),r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return O})),r.d(t,"d",(function(){return p}));var n,a,i,c=r("ODXe"),o=r("KQm4"),u=r("rePB"),s=r("oJMS"),l=(n={},Object(u.a)(n,3042,!1),Object(u.a)(n,32773,new Float32Array([0,0,0,0])),Object(u.a)(n,32777,32774),Object(u.a)(n,34877,32774),Object(u.a)(n,32969,1),Object(u.a)(n,32968,0),Object(u.a)(n,32971,1),Object(u.a)(n,32970,0),Object(u.a)(n,3106,new Float32Array([0,0,0,0])),Object(u.a)(n,3107,[!0,!0,!0,!0]),Object(u.a)(n,2884,!1),Object(u.a)(n,2885,1029),Object(u.a)(n,2929,!1),Object(u.a)(n,2931,1),Object(u.a)(n,2932,513),Object(u.a)(n,2928,new Float32Array([0,1])),Object(u.a)(n,2930,!0),Object(u.a)(n,3024,!0),Object(u.a)(n,36006,null),Object(u.a)(n,2886,2305),Object(u.a)(n,33170,4352),Object(u.a)(n,2849,1),Object(u.a)(n,32823,!1),Object(u.a)(n,32824,0),Object(u.a)(n,10752,0),Object(u.a)(n,32938,1),Object(u.a)(n,32939,!1),Object(u.a)(n,3089,!1),Object(u.a)(n,3088,new Int32Array([0,0,1024,1024])),Object(u.a)(n,2960,!1),Object(u.a)(n,2961,0),Object(u.a)(n,2968,4294967295),Object(u.a)(n,36005,4294967295),Object(u.a)(n,2962,519),Object(u.a)(n,2967,0),Object(u.a)(n,2963,4294967295),Object(u.a)(n,34816,519),Object(u.a)(n,36003,0),Object(u.a)(n,36004,4294967295),Object(u.a)(n,2964,7680),Object(u.a)(n,2965,7680),Object(u.a)(n,2966,7680),Object(u.a)(n,34817,7680),Object(u.a)(n,34818,7680),Object(u.a)(n,34819,7680),Object(u.a)(n,2978,[0,0,1024,1024]),Object(u.a)(n,3333,4),Object(u.a)(n,3317,4),Object(u.a)(n,37440,!1),Object(u.a)(n,37441,!1),Object(u.a)(n,37443,37444),Object(u.a)(n,35723,4352),Object(u.a)(n,36010,null),Object(u.a)(n,35977,!1),Object(u.a)(n,3330,0),Object(u.a)(n,3332,0),Object(u.a)(n,3331,0),Object(u.a)(n,3314,0),Object(u.a)(n,32878,0),Object(u.a)(n,3316,0),Object(u.a)(n,3315,0),Object(u.a)(n,32877,0),n),f=function(e,t,r){return t?e.enable(r):e.disable(r)},d=function(e,t,r){return e.hint(r,t)},h=function(e,t,r){return e.pixelStorei(r,t)};function b(e){return Array.isArray(e)||ArrayBuffer.isView(e)}var v=(a={},Object(u.a)(a,3042,f),Object(u.a)(a,32773,(function(e,t){return e.blendColor.apply(e,Object(o.a)(t))})),Object(u.a)(a,32777,"blendEquation"),Object(u.a)(a,34877,"blendEquation"),Object(u.a)(a,32969,"blendFunc"),Object(u.a)(a,32968,"blendFunc"),Object(u.a)(a,32971,"blendFunc"),Object(u.a)(a,32970,"blendFunc"),Object(u.a)(a,3106,(function(e,t){return e.clearColor.apply(e,Object(o.a)(t))})),Object(u.a)(a,3107,(function(e,t){return e.colorMask.apply(e,Object(o.a)(t))})),Object(u.a)(a,2884,f),Object(u.a)(a,2885,(function(e,t){return e.cullFace(t)})),Object(u.a)(a,2929,f),Object(u.a)(a,2931,(function(e,t){return e.clearDepth(t)})),Object(u.a)(a,2932,(function(e,t){return e.depthFunc(t)})),Object(u.a)(a,2928,(function(e,t){return e.depthRange.apply(e,Object(o.a)(t))})),Object(u.a)(a,2930,(function(e,t){return e.depthMask(t)})),Object(u.a)(a,3024,f),Object(u.a)(a,35723,d),Object(u.a)(a,36006,(function(e,t){var r=Object(s.e)(e)?36009:36160;return e.bindFramebuffer(r,t)})),Object(u.a)(a,2886,(function(e,t){return e.frontFace(t)})),Object(u.a)(a,33170,d),Object(u.a)(a,2849,(function(e,t){return e.lineWidth(t)})),Object(u.a)(a,32823,f),Object(u.a)(a,32824,"polygonOffset"),Object(u.a)(a,10752,"polygonOffset"),Object(u.a)(a,35977,f),Object(u.a)(a,32938,"sampleCoverage"),Object(u.a)(a,32939,"sampleCoverage"),Object(u.a)(a,3089,f),Object(u.a)(a,3088,(function(e,t){return e.scissor.apply(e,Object(o.a)(t))})),Object(u.a)(a,2960,f),Object(u.a)(a,2961,(function(e,t){return e.clearStencil(t)})),Object(u.a)(a,2968,(function(e,t){return e.stencilMaskSeparate(1028,t)})),Object(u.a)(a,36005,(function(e,t){return e.stencilMaskSeparate(1029,t)})),Object(u.a)(a,2962,"stencilFuncFront"),Object(u.a)(a,2967,"stencilFuncFront"),Object(u.a)(a,2963,"stencilFuncFront"),Object(u.a)(a,34816,"stencilFuncBack"),Object(u.a)(a,36003,"stencilFuncBack"),Object(u.a)(a,36004,"stencilFuncBack"),Object(u.a)(a,2964,"stencilOpFront"),Object(u.a)(a,2965,"stencilOpFront"),Object(u.a)(a,2966,"stencilOpFront"),Object(u.a)(a,34817,"stencilOpBack"),Object(u.a)(a,34818,"stencilOpBack"),Object(u.a)(a,34819,"stencilOpBack"),Object(u.a)(a,2978,(function(e,t){return e.viewport.apply(e,Object(o.a)(t))})),Object(u.a)(a,3333,h),Object(u.a)(a,3317,h),Object(u.a)(a,37440,h),Object(u.a)(a,37441,h),Object(u.a)(a,37443,h),Object(u.a)(a,3330,h),Object(u.a)(a,3332,h),Object(u.a)(a,3331,h),Object(u.a)(a,36010,(function(e,t){return e.bindFramebuffer(36008,t)})),Object(u.a)(a,3314,h),Object(u.a)(a,32878,h),Object(u.a)(a,3316,h),Object(u.a)(a,3315,h),Object(u.a)(a,32877,h),Object(u.a)(a,"framebuffer",(function(e,t){var r=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,r)})),Object(u.a)(a,"blend",(function(e,t){return t?e.enable(3042):e.disable(3042)})),Object(u.a)(a,"blendColor",(function(e,t){return e.blendColor.apply(e,Object(o.a)(t))})),Object(u.a)(a,"blendEquation",(function(e,t){t=b(t)?t:[t,t],e.blendEquationSeparate.apply(e,Object(o.a)(t))})),Object(u.a)(a,"blendFunc",(function(e,t){t=b(t)&&2===t.length?[].concat(Object(o.a)(t),Object(o.a)(t)):t,e.blendFuncSeparate.apply(e,Object(o.a)(t))})),Object(u.a)(a,"clearColor",(function(e,t){return e.clearColor.apply(e,Object(o.a)(t))})),Object(u.a)(a,"clearDepth",(function(e,t){return e.clearDepth(t)})),Object(u.a)(a,"clearStencil",(function(e,t){return e.clearStencil(t)})),Object(u.a)(a,"colorMask",(function(e,t){return e.colorMask.apply(e,Object(o.a)(t))})),Object(u.a)(a,"cull",(function(e,t){return t?e.enable(2884):e.disable(2884)})),Object(u.a)(a,"cullFace",(function(e,t){return e.cullFace(t)})),Object(u.a)(a,"depthTest",(function(e,t){return t?e.enable(2929):e.disable(2929)})),Object(u.a)(a,"depthFunc",(function(e,t){return e.depthFunc(t)})),Object(u.a)(a,"depthMask",(function(e,t){return e.depthMask(t)})),Object(u.a)(a,"depthRange",(function(e,t){return e.depthRange.apply(e,Object(o.a)(t))})),Object(u.a)(a,"dither",(function(e,t){return t?e.enable(3024):e.disable(3024)})),Object(u.a)(a,"derivativeHint",(function(e,t){e.hint(35723,t)})),Object(u.a)(a,"frontFace",(function(e,t){return e.frontFace(t)})),Object(u.a)(a,"mipmapHint",(function(e,t){return e.hint(33170,t)})),Object(u.a)(a,"lineWidth",(function(e,t){return e.lineWidth(t)})),Object(u.a)(a,"polygonOffsetFill",(function(e,t){return t?e.enable(32823):e.disable(32823)})),Object(u.a)(a,"polygonOffset",(function(e,t){return e.polygonOffset.apply(e,Object(o.a)(t))})),Object(u.a)(a,"sampleCoverage",(function(e,t){return e.sampleCoverage.apply(e,Object(o.a)(t))})),Object(u.a)(a,"scissorTest",(function(e,t){return t?e.enable(3089):e.disable(3089)})),Object(u.a)(a,"scissor",(function(e,t){return e.scissor.apply(e,Object(o.a)(t))})),Object(u.a)(a,"stencilTest",(function(e,t){return t?e.enable(2960):e.disable(2960)})),Object(u.a)(a,"stencilMask",(function(e,t){var r=t=b(t)?t:[t,t],n=Object(c.a)(r,2),a=n[0],i=n[1];e.stencilMaskSeparate(1028,a),e.stencilMaskSeparate(1029,i)})),Object(u.a)(a,"stencilFunc",(function(e,t){var r=t=b(t)&&3===t.length?[].concat(Object(o.a)(t),Object(o.a)(t)):t,n=Object(c.a)(r,6),a=n[0],i=n[1],u=n[2],s=n[3],l=n[4],f=n[5];e.stencilFuncSeparate(1028,a,i,u),e.stencilFuncSeparate(1029,s,l,f)})),Object(u.a)(a,"stencilOp",(function(e,t){var r=t=b(t)&&3===t.length?[].concat(Object(o.a)(t),Object(o.a)(t)):t,n=Object(c.a)(r,6),a=n[0],i=n[1],u=n[2],s=n[3],l=n[4],f=n[5];e.stencilOpSeparate(1028,a,i,u),e.stencilOpSeparate(1029,s,l,f)})),Object(u.a)(a,"viewport",(function(e,t){return e.viewport.apply(e,Object(o.a)(t))})),a);function g(e,t,r){return void 0!==t[e]?t[e]:r[e]}var m={blendEquation:function(e,t,r){return e.blendEquationSeparate(g(32777,t,r),g(34877,t,r))},blendFunc:function(e,t,r){return e.blendFuncSeparate(g(32969,t,r),g(32968,t,r),g(32971,t,r),g(32970,t,r))},polygonOffset:function(e,t,r){return e.polygonOffset(g(32824,t,r),g(10752,t,r))},sampleCoverage:function(e,t,r){return e.sampleCoverage(g(32938,t,r),g(32939,t,r))},stencilFuncFront:function(e,t,r){return e.stencilFuncSeparate(1028,g(2962,t,r),g(2967,t,r),g(2963,t,r))},stencilFuncBack:function(e,t,r){return e.stencilFuncSeparate(1029,g(34816,t,r),g(36003,t,r),g(36004,t,r))},stencilOpFront:function(e,t,r){return e.stencilOpSeparate(1028,g(2964,t,r),g(2965,t,r),g(2966,t,r))},stencilOpBack:function(e,t,r){return e.stencilOpSeparate(1029,g(34817,t,r),g(34818,t,r),g(34819,t,r))}},O={enable:function(e,t){return e(Object(u.a)({},t,!0))},disable:function(e,t){return e(Object(u.a)({},t,!1))},pixelStorei:function(e,t,r){return e(Object(u.a)({},t,r))},hint:function(e,t,r){return e(Object(u.a)({},t,r))},bindFramebuffer:function(e,t,r){var n;switch(t){case 36160:return e((n={},Object(u.a)(n,36006,r),Object(u.a)(n,36010,r),n));case 36009:return e(Object(u.a)({},36006,r));case 36008:return e(Object(u.a)({},36010,r));default:return null}},blendColor:function(e,t,r,n,a){return e(Object(u.a)({},32773,new Float32Array([t,r,n,a])))},blendEquation:function(e,t){var r;return e((r={},Object(u.a)(r,32777,t),Object(u.a)(r,34877,t),r))},blendEquationSeparate:function(e,t,r){var n;return e((n={},Object(u.a)(n,32777,t),Object(u.a)(n,34877,r),n))},blendFunc:function(e,t,r){var n;return e((n={},Object(u.a)(n,32969,t),Object(u.a)(n,32968,r),Object(u.a)(n,32971,t),Object(u.a)(n,32970,r),n))},blendFuncSeparate:function(e,t,r,n,a){var i;return e((i={},Object(u.a)(i,32969,t),Object(u.a)(i,32968,r),Object(u.a)(i,32971,n),Object(u.a)(i,32970,a),i))},clearColor:function(e,t,r,n,a){return e(Object(u.a)({},3106,new Float32Array([t,r,n,a])))},clearDepth:function(e,t){return e(Object(u.a)({},2931,t))},clearStencil:function(e,t){return e(Object(u.a)({},2961,t))},colorMask:function(e,t,r,n,a){return e(Object(u.a)({},3107,[t,r,n,a]))},cullFace:function(e,t){return e(Object(u.a)({},2885,t))},depthFunc:function(e,t){return e(Object(u.a)({},2932,t))},depthRange:function(e,t,r){return e(Object(u.a)({},2928,new Float32Array([t,r])))},depthMask:function(e,t){return e(Object(u.a)({},2930,t))},frontFace:function(e,t){return e(Object(u.a)({},2886,t))},lineWidth:function(e,t){return e(Object(u.a)({},2849,t))},polygonOffset:function(e,t,r){var n;return e((n={},Object(u.a)(n,32824,t),Object(u.a)(n,10752,r),n))},sampleCoverage:function(e,t,r){var n;return e((n={},Object(u.a)(n,32938,t),Object(u.a)(n,32939,r),n))},scissor:function(e,t,r,n,a){return e(Object(u.a)({},3088,new Int32Array([t,r,n,a])))},stencilMask:function(e,t){var r;return e((r={},Object(u.a)(r,2968,t),Object(u.a)(r,36005,t),r))},stencilMaskSeparate:function(e,t,r){return e(Object(u.a)({},1028===t?2968:36005,r))},stencilFunc:function(e,t,r,n){var a;return e((a={},Object(u.a)(a,2962,t),Object(u.a)(a,2967,r),Object(u.a)(a,2963,n),Object(u.a)(a,34816,t),Object(u.a)(a,36003,r),Object(u.a)(a,36004,n),a))},stencilFuncSeparate:function(e,t,r,n,a){var i;return e((i={},Object(u.a)(i,1028===t?2962:34816,r),Object(u.a)(i,1028===t?2967:36003,n),Object(u.a)(i,1028===t?2963:36004,a),i))},stencilOp:function(e,t,r,n){var a;return e((a={},Object(u.a)(a,2964,t),Object(u.a)(a,2965,r),Object(u.a)(a,2966,n),Object(u.a)(a,34817,t),Object(u.a)(a,34818,r),Object(u.a)(a,34819,n),a))},stencilOpSeparate:function(e,t,r,n,a){var i;return e((i={},Object(u.a)(i,1028===t?2964:34817,r),Object(u.a)(i,1028===t?2965:34818,n),Object(u.a)(i,1028===t?2966:34819,a),i))},viewport:function(e,t,r,n,a){return e(Object(u.a)({},2978,[t,r,n,a]))}},y=function(e,t){return e.isEnabled(t)},p=(i={},Object(u.a)(i,3042,y),Object(u.a)(i,2884,y),Object(u.a)(i,2929,y),Object(u.a)(i,3024,y),Object(u.a)(i,32823,y),Object(u.a)(i,32926,y),Object(u.a)(i,32928,y),Object(u.a)(i,3089,y),Object(u.a)(i,2960,y),Object(u.a)(i,35977,y),i)},rta6:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("1OyB"),a=r("vuIU"),i=r("iein"),c=r("laie"),o=r("xSaR"),u=new(function(){function e(){Object(n.a)(this,e),this.stats=new Map}return Object(a.a)(e,[{key:"get",value:function(e){return this.stats.has(e)||this.stats.set(e,new c.b({id:e})),this.stats.get(e)}}]),e}());if(o.global.luma&&"8.4.2"!==o.global.luma.VERSION)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(o.global.luma.VERSION," vs ").concat("8.4.2"));o.global.luma||(Object(o.isBrowser)()&&i.j.log(1,"luma.gl ".concat("8.4.2"," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),o.global.luma=o.global.luma||{VERSION:"8.4.2",version:"8.4.2",log:i.j,stats:u,globals:{modules:{},nodeIO:{}}});o.global.luma},"sc/6":function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r("1OyB"),a=r("vuIU"),i=r("JX7q"),c=r("Ji7U"),o=r("md7G"),u=r("foSv"),s=r("L8KH"),l=r("T2Hy"),f=r("B9+J"),d=r("iein"),h=r("LE90"),b=r("CxzY");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var g={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},m={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:g},O={removedProps:g},y=function(e){Object(c.a)(r,e);var t=v(r);function r(e){var a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,r),(a=t.call(this,e,c)).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),a.target=c.target||(a.gl.webgl2?36662:34962),a.initialize(c),Object.seal(Object(i.a)(a)),a}return Object(a.a)(r,[{key:"getElementCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/l.a.getBytesPerElement(e))}},{key:"getVertexCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/l.a.getBytesPerVertex(e))}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=Object(h.a)("Buffer",e,m),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}},{key:"setProps",value:function(e){return"accessor"in(e=Object(h.a)("Buffer",e,O))&&this.setAccessor(e.accessor),this}},{key:"setAccessor",value:function(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new l.a(e),this}},{key:"reallocate",value:function(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}},{key:"setData",value:function(e){return this.initialize(e)}},{key:"subData",value:function(e){ArrayBuffer.isView(e)&&(e={data:e});var t=e,r=t.data,n=t.offset,a=void 0===n?0:n,i=t.srcOffset,c=void 0===i?0:i,o=e.byteLength||e.length;Object(b.a)(r);var u=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(u,this.handle),0!==c||void 0!==o?(Object(d.a)(this.gl),this.gl.bufferSubData(this.target,a,r,c,o)):this.gl.bufferSubData(u,a,r),this.gl.bindBuffer(u,null),this.debugData=null,this._inferType(r),this}},{key:"copyData",value:function(e){var t=e.sourceBuffer,r=e.readOffset,n=void 0===r?0:r,a=e.writeOffset,i=void 0===a?0:a,c=e.size,o=this.gl;return Object(d.a)(o),o.bindBuffer(36662,t.handle),o.bindBuffer(36663,this.handle),o.copyBufferSubData(36662,36663,n,i,c),o.bindBuffer(36662,null),o.bindBuffer(36663,null),this.debugData=null,this}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dstData,r=void 0===t?null:t,n=e.srcByteOffset,a=void 0===n?0:n,i=e.dstOffset,c=void 0===i?0:i,o=e.length,u=void 0===o?0:o;Object(d.a)(this.gl);var s,l,h=Object(f.c)(this.accessor.type||5126,{clamped:!1}),v=this._getAvailableElementCount(a),g=c;r?s=(l=r.length)-g:l=g+(s=Math.min(v,u||v));var m=Math.min(v,s);return u=u||m,Object(b.a)(u<=m),r=r||new h(l),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,a,r,c,u),this.gl.bindBuffer(36662,null),r}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?this.target:t,n=e.index,a=void 0===n?this.accessor&&this.accessor.index:n,i=e.offset,c=void 0===i?0:i,o=e.size;return 35345===r||35982===r?void 0!==o?this.gl.bindBufferRange(r,a,this.handle,c,o):(Object(b.a)(0===c),this.gl.bindBufferBase(r,a,this.handle)):this.gl.bindBuffer(r,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?this.target:t,n=e.index,a=void 0===n?this.accessor&&this.accessor.index:n,i=35345===r||35982===r;return i?this.gl.bindBufferBase(r,a,null):this.gl.bindBuffer(r,null),this}},{key:"getDebugData",value:function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}},{key:"invalidateDebugData",value:function(){this.debugData=null}},{key:"_setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;Object(b.a)(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();var n=this._getTarget();this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,this.usage),this.gl.bufferSubData(n,t,e),this.gl.bindBuffer(n,null),this.debugData=e.slice(0,10),this.bytesUsed=r,this._trackAllocatedMemory(r);var a=Object(f.b)(e);return Object(b.a)(a),this.setAccessor(new l.a(this.accessor,{type:a})),this}},{key:"_setByteLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;Object(b.a)(e>=0),this._trackDeallocatedMemory();var r=e;0===e&&(r=new Float32Array(0));var n=this._getTarget();return this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,t),this.gl.bindBuffer(n,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}},{key:"_getTarget",value:function(){return this.gl.webgl2?36663:this.target}},{key:"_getAvailableElementCount",value:function(e){var t=e/Object(f.c)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-t}},{key:"_inferType",value:function(e){this.accessor.type||this.setAccessor(new l.a(this.accessor,{type:Object(f.b)(e)}))}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_getParameter",value:function(e){this.gl.bindBuffer(this.target,this.handle);var t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}},{key:"setByteLength",value:function(e){return d.j.deprecated("setByteLength","reallocate")(),this.reallocate(e)}},{key:"updateAccessor",value:function(e){return d.j.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new l.a(this.accessor,e),this}},{key:"type",get:function(){return d.j.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return d.j.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}}]),r}(s.a)},sgaE:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("iein");function a(e,t,r,a){var i="See luma.gl ".concat(r," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),c=Object.getPrototypeOf(e);a.forEach((function(e){c.methodName||(c[e]=function(){throw n.j.removed("Calling removed method ".concat(t,".").concat(e,": "),i)(),new Error(e)})}))}},tMmZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n,a=r("rePB"),i=r("11Ib"),c=r("f5Sf"),o={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};t.b=(n={},Object(a.a)(n,o.WEBGL2,[!1,!0]),Object(a.a)(n,o.VERTEX_ARRAY_OBJECT,["OES_vertex_array_object",!0]),Object(a.a)(n,o.TIMER_QUERY,["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"]),Object(a.a)(n,o.INSTANCED_RENDERING,["ANGLE_instanced_arrays",!0]),Object(a.a)(n,o.MULTIPLE_RENDER_TARGETS,["WEBGL_draw_buffers",!0]),Object(a.a)(n,o.ELEMENT_INDEX_UINT32,["OES_element_index_uint",!0]),Object(a.a)(n,o.BLEND_EQUATION_MINMAX,["EXT_blend_minmax",!0]),Object(a.a)(n,o.FLOAT_BLEND,["EXT_float_blend"]),Object(a.a)(n,o.COLOR_ENCODING_SRGB,["EXT_sRGB",!0]),Object(a.a)(n,o.TEXTURE_DEPTH,["WEBGL_depth_texture",!0]),Object(a.a)(n,o.TEXTURE_FLOAT,["OES_texture_float",!0]),Object(a.a)(n,o.TEXTURE_HALF_FLOAT,["OES_texture_half_float",!0]),Object(a.a)(n,o.TEXTURE_FILTER_LINEAR_FLOAT,["OES_texture_float_linear"]),Object(a.a)(n,o.TEXTURE_FILTER_LINEAR_HALF_FLOAT,["OES_texture_half_float_linear"]),Object(a.a)(n,o.TEXTURE_FILTER_ANISOTROPIC,["EXT_texture_filter_anisotropic"]),Object(a.a)(n,o.COLOR_ATTACHMENT_RGBA32F,[function(e){var t=new c.a(e,{format:6408,type:5126,dataFormat:6408}),r=new i.a(e,{id:"test-framebuffer",check:!1,attachments:Object(a.a)({},36064,t)}),n=r.getStatus();return t.delete(),r.delete(),36053===n},"EXT_color_buffer_float"]),Object(a.a)(n,o.COLOR_ATTACHMENT_FLOAT,[!1,"EXT_color_buffer_float"]),Object(a.a)(n,o.COLOR_ATTACHMENT_HALF_FLOAT,["EXT_color_buffer_half_float"]),Object(a.a)(n,o.GLSL_FRAG_DATA,["WEBGL_draw_buffers",!0]),Object(a.a)(n,o.GLSL_FRAG_DEPTH,["EXT_frag_depth",!0]),Object(a.a)(n,o.GLSL_DERIVATIVES,["OES_standard_derivatives",!0]),Object(a.a)(n,o.GLSL_TEXTURE_LOD,["EXT_shader_texture_lod",!0]),n)},uXCu:function(e,t,r){"use strict";(function(e){var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,t.isBrowserMainThread=function(){return c()&&"undefined"!=typeof document};var a=n(r("cDf5")),i=n(r("15yl"));function c(){return!("object"===(void 0===e?"undefined":(0,a.default)(e))&&"[object process]"===String(e)&&!e.browser)||(0,i.default)()}}).call(this,r("8oxB"))},uYBD:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return d}));var n,a,i,c=r("rePB"),o=r("iein"),u=(n={},Object(c.a)(n,6407,{dataFormat:6407,types:[5121,33635]}),Object(c.a)(n,6408,{dataFormat:6408,types:[5121,32819,32820]}),Object(c.a)(n,6406,{dataFormat:6406,types:[5121]}),Object(c.a)(n,6409,{dataFormat:6409,types:[5121]}),Object(c.a)(n,6410,{dataFormat:6410,types:[5121]}),Object(c.a)(n,33326,{dataFormat:6403,types:[5126],gl2:!0}),Object(c.a)(n,33328,{dataFormat:33319,types:[5126],gl2:!0}),Object(c.a)(n,34837,{dataFormat:6407,types:[5126],gl2:!0}),Object(c.a)(n,34836,{dataFormat:6408,types:[5126],gl2:!0}),n),s=(a={},Object(c.a)(a,6403,1),Object(c.a)(a,36244,1),Object(c.a)(a,33319,2),Object(c.a)(a,33320,2),Object(c.a)(a,6407,3),Object(c.a)(a,36248,3),Object(c.a)(a,6408,4),Object(c.a)(a,36249,4),Object(c.a)(a,6402,1),Object(c.a)(a,34041,1),Object(c.a)(a,6406,1),Object(c.a)(a,6409,1),Object(c.a)(a,6410,2),a),l=(i={},Object(c.a)(i,5126,4),Object(c.a)(i,5125,4),Object(c.a)(i,5124,4),Object(c.a)(i,5123,2),Object(c.a)(i,5122,2),Object(c.a)(i,5131,2),Object(c.a)(i,5120,1),Object(c.a)(i,5121,1),i);function f(e,t){var r=u[t];if(!r)return!1;if(void 0===r.gl1&&void 0===r.gl2)return!0;var n=Object(o.i)(e)&&r.gl2||r.gl1;return"string"==typeof n?e.getExtension(n):n}function d(e,t){var r=u[t];switch(r&&r.types[0]){case 5126:return e.getExtension("OES_texture_float_linear");case 5131:return e.getExtension("OES_texture_half_float_linear");default:return!0}}},xSaR:function(e,t,r){e.exports=r("0SKY")}}]);