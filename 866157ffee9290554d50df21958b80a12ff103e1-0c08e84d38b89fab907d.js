(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+H0l":function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return s}));var n=r("a3TU");function i(t,e){if(t.length!==e)return!1;for(var r=0;r<t.length;++r)if(!Number.isFinite(t[r]))return!1;return!0}function a(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function o(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(n.b.debug&&!i(t,e))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return t}var u={};function s(t,e){u[t]||(u[t]=!0,console.warn("".concat(t," has been removed in version ").concat(e,", see upgrade guide for more information")))}},"/GqU":function(t,e,r){var n=r("RK3t"),i=r("HYAF");t.exports=function(t){return n(i(t))}},"/WnK":function(t,e,r){"use strict";function n(t){if(!t||!t.POSITION)return null;var e=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,o=-1/0,u=t.POSITION.value,s=u&&u.length;if(!s)return null;for(var c=0;c<s;c+=3){var f=u[c],l=u[c+1],h=u[c+2];e=f<e?f:e,r=l<r?l:r,n=h<n?h:n,i=f>i?f:i,a=l>a?l:a,o=h>o?h:o}return[[e,r,n],[i,a,o]]}r.d(e,"a",(function(){return n}))},"0BK2":function(t,e){t.exports={}},"0Dky":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"0GbY":function(t,e,r){var n=r("Qo9l"),i=r("2oRo"),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(n[t])||a(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},"0SKY":function(t,e,r){"use strict";var n=r("TqRt"),i=r("284h");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"self",{enumerable:!0,get:function(){return a.self}}),Object.defineProperty(e,"window",{enumerable:!0,get:function(){return a.window}}),Object.defineProperty(e,"global",{enumerable:!0,get:function(){return a.global}}),Object.defineProperty(e,"document",{enumerable:!0,get:function(){return a.document}}),Object.defineProperty(e,"process",{enumerable:!0,get:function(){return a.process}}),Object.defineProperty(e,"console",{enumerable:!0,get:function(){return a.console}}),Object.defineProperty(e,"isBrowser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"isBrowserMainThread",{enumerable:!0,get:function(){return o.isBrowserMainThread}}),Object.defineProperty(e,"getBrowser",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"isMobile",{enumerable:!0,get:function(){return u.isMobile}}),Object.defineProperty(e,"isElectron",{enumerable:!0,get:function(){return s.default}});var a=r("jWbo"),o=i(r("uXCu")),u=i(r("IVX/")),s=n(r("15yl"))},"0eef":function(t,e,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!n.call({1:2},1);e.f=a?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},"11Ib":function(t,e,r){"use strict";r.d(e,"a",(function(){return _}));var n=r("rePB"),i=r("ODXe"),a=r("1OyB"),o=r("md7G"),u=r("JX7q"),s=r("foSv"),c=r("ReuC"),f=r("vuIU"),l=r("Ji7U"),h=r("iein"),d=r("L8KH"),b=r("f5Sf"),v=r("n4Ve"),g=r("pRFE"),m=r("p7wt"),y=r("d3kR"),p=r("SUVH"),O=r("rnmN"),j=r("CxzY"),_=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(this,e),(r=Object(o.a)(this,Object(s.a)(e).call(this,t,n))).width=null,r.height=null,r.attachments={},r.readBuffer=36064,r.drawBuffers=[36064],r.ownResources=[],r.initialize(n),Object.seal(Object(u.a)(r)),r}return Object(l.a)(e,t),Object(f.a)(e,[{key:"MAX_COLOR_ATTACHMENTS",get:function(){return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS)}}],[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.colorBufferFloat,n=e.colorBufferHalfFloat,i=!0;return r&&(i=Boolean(t.getExtension("EXT_color_buffer_float")||t.getExtension("WEBGL_color_buffer_float")||t.getExtension("OES_texture_float"))),n&&(i=i&&Boolean(t.getExtension("EXT_color_buffer_float")||t.getExtension("EXT_color_buffer_half_float"))),i}},{key:"getDefaultFramebuffer",value:function(t){return t.luma=t.luma||{},t.luma.defaultFramebuffer=t.luma.defaultFramebuffer||new e(t,{id:"default-framebuffer",handle:null,attachments:{}}),t.luma.defaultFramebuffer}}]),Object(f.a)(e,[{key:"initialize",value:function(t){var e=t.width,r=void 0===e?1:e,n=t.height,i=void 0===n?1:n,a=t.attachments,o=void 0===a?null:a,u=t.color,s=void 0===u||u,c=t.depth,f=void 0===c||c,l=t.stencil,h=void 0!==l&&l,d=t.check,b=void 0===d||d,v=t.readBuffer,g=t.drawBuffers;if(Object(j.a)(r>=0&&i>=0,"Width and height need to be integers"),this.width=r,this.height=i,o)for(var m in o){var y=o[m];(Array.isArray(y)?y[0]:y).resize({width:r,height:i})}else o=this._createDefaultAttachments(s,f,h,r,i);this.update({clearAttachments:!0,attachments:o,readBuffer:v,drawBuffers:g}),o&&b&&this.checkStatus()}},{key:"delete",value:function(){var t=!0,r=!1,n=void 0;try{for(var i,a=this.ownResources[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.delete()}}catch(o){r=!0,n=o}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}Object(c.a)(Object(s.a)(e.prototype),"delete",this).call(this)}},{key:"update",value:function(t){var e=t.attachments,r=void 0===e?{}:e,n=t.readBuffer,i=t.drawBuffers,a=t.clearAttachments,o=void 0!==a&&a,u=t.resizeAttachments,s=void 0===u||u;this.attach(r,{clearAttachments:o,resizeAttachments:s});var c=this.gl,f=c.bindFramebuffer(36160,this.handle);return n&&this._setReadBuffer(n),i&&this._setDrawBuffers(i),c.bindFramebuffer(36160,f||null),this}},{key:"resize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,r=t.height;if(null===this.handle)return Object(j.a)(void 0===e&&void 0===r),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var n in void 0===e&&(e=this.gl.drawingBufferWidth),void 0===r&&(r=this.gl.drawingBufferHeight),e!==this.width&&r!==this.height&&h.g.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(e,"x").concat(r))(),this.attachments)this.attachments[n].resize({width:e,height:r});return this.width=e,this.height=r,this}},{key:"attach",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.clearAttachments,a=void 0!==n&&n,o=r.resizeAttachments,u=void 0===o||o,s={};a&&Object.keys(this.attachments).forEach((function(t){s[t]=null})),Object.assign(s,t);var c=this.gl.bindFramebuffer(36160,this.handle);for(var f in s){Object(j.a)(void 0!==f,"Misspelled framebuffer binding point?");var l=Number(f),h=s[l],d=h;if(d)if(d instanceof v.a)this._attachRenderbuffer({attachment:l,renderbuffer:d});else if(Array.isArray(h)){var b=Object(i.a)(h,3),g=b[0],m=b[1],y=void 0===m?0:m,p=b[2],O=void 0===p?0:p;d=g,this._attachTexture({attachment:l,texture:g,layer:y,level:O})}else this._attachTexture({attachment:l,texture:d,layer:0,level:0});else this._unattach(l);u&&d&&d.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,c||null),Object.assign(this.attachments,t),Object.keys(this.attachments).filter((function(t){return!e.attachments[t]})).forEach((function(t){delete e.attachments[t]}))}},{key:"checkStatus",value:function(){this.gl;var t=this.getStatus();if(36053!==t)throw new Error(k(t));return this}},{key:"getStatus",value:function(){var t=this.gl,e=t.bindFramebuffer(36160,this.handle),r=t.checkFramebufferStatus(36160);return t.bindFramebuffer(36160,e||null),r}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,r=t.depth,n=t.stencil,i=t.drawBuffers,a=void 0===i?[]:i,o=this.gl.bindFramebuffer(36160,this.handle);return(e||r||n)&&Object(g.a)(this.gl,{color:e,depth:r,stencil:n}),a.forEach((function(t,e){Object(g.b)({drawBuffer:e,value:t})})),this.gl.bindFramebuffer(36160,o||null),this}},{key:"readPixels",value:function(){return h.g.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}},{key:"readPixelsToBuffer",value:function(){return h.g.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}},{key:"copyToDataUrl",value:function(){return h.g.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}},{key:"copyToImage",value:function(){return h.g.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}},{key:"copyToTexture",value:function(){return h.g.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"blit",value:function(){return h.g.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}},{key:"invalidate",value:function(t){var e=t.attachments,r=void 0===e?[]:e,n=t.x,i=void 0===n?0:n,a=t.y,o=void 0===a?0:a,u=t.width,s=t.height,c=this.gl;Object(p.a)(c);var f=c.bindFramebuffer(36008,this.handle);return 0===i&&0===o&&void 0===u&&void 0===s?c.invalidateFramebuffer(36008,r):c.invalidateFramebuffer(36008,r,i,o,u,s),c.bindFramebuffer(36008,f),this}},{key:"getAttachmentParameter",value:function(t,e,r){var n=this._getAttachmentParameterFallback(e);return null===n&&(this.gl.bindFramebuffer(36160,this.handle),n=this.gl.getFramebufferAttachmentParameter(36160,t,e),this.gl.bindFramebuffer(36160,null)),r&&n>1e3&&(n=Object(O.a)(this.gl,n)),n}},{key:"getAttachmentParameters",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[],n={},i=!0,a=!1,o=void 0;try{for(var u,s=r[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value,f=e?Object(O.a)(this.gl,c):c;n[f]=this.getAttachmentParameter(t,c,e)}}catch(l){a=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return n}},{key:"getParameters",value:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=Object.keys(this.attachments),r={},n=0,i=e;n<i.length;n++){var a=i[n],o=Number(a),u=t?Object(O.a)(this.gl,o):o;r[u]=this.getAttachmentParameters(o,t)}return r}},{key:"show",value:function(){return"undefined"!=typeof window&&window.open(Object(m.a)(this),"luma-debug-texture"),this}},{key:"log",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t>h.g.level||"undefined"==typeof window)return this;e=e||"Framebuffer ".concat(this.id);var r=Object(m.a)(this,{maxHeight:100});return h.g.image({logLevel:t,message:e,image:r},e)(),this}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,r=void 0===e?36160:e;return this.gl.bindFramebuffer(r,this.handle),this}},{key:"unbind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,r=void 0===e?36160:e;return this.gl.bindFramebuffer(r,null),this}},{key:"_createDefaultAttachments",value:function(t,e,r,i,a){var o,u=null;t&&((u=u||{})[36064]=new b.a(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:i,height:a,mipmaps:!1,parameters:(o={},Object(n.a)(o,10241,9729),Object(n.a)(o,10240,9729),Object(n.a)(o,10242,33071),Object(n.a)(o,10243,33071),o)}),this.ownResources.push(u[36064]));return e&&r?((u=u||{})[33306]=new v.a(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:i,height:111}),this.ownResources.push(u[33306])):e?((u=u||{})[36096]=new v.a(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:i,height:a}),this.ownResources.push(u[36096])):r&&Object(j.a)(!1),u}},{key:"_unattach",value:function(t){var e=this.attachments[t];e&&(e instanceof v.a?this.gl.framebufferRenderbuffer(36160,t,36161,null):this.gl.framebufferTexture2D(36160,t,3553,null,0),delete this.attachments[t])}},{key:"_attachRenderbuffer",value:function(t){var e=t.attachment,r=void 0===e?36064:e,n=t.renderbuffer;this.gl.framebufferRenderbuffer(36160,r,36161,n.handle),this.attachments[r]=n}},{key:"_attachTexture",value:function(t){var e=t.attachment,r=void 0===e?36064:e,n=t.texture,i=t.layer,a=t.level,o=this.gl;switch(o.bindTexture(n.target,n.handle),n.target){case 35866:case 32879:o.framebufferTextureLayer(36160,r,n.target,a,i);break;case 34067:var u=function(t){return t<34069?t+34069:t}(i);o.framebufferTexture2D(36160,r,u,n.handle,a);break;case 3553:o.framebufferTexture2D(36160,r,3553,n.handle,a);break;default:Object(j.a)(!1,"Illegal texture type")}o.bindTexture(n.target,null),this.attachments[r]=n}},{key:"_setReadBuffer",value:function(t){var e=this.gl;Object(h.f)(e)?e.readBuffer(t):Object(j.a)(36064===t||1029===t,"Multiple render targets not supported"),this.readBuffer=t}},{key:"_setDrawBuffers",value:function(t){var e=this.gl;if(Object(h.f)(e))e.drawBuffers(t);else{var r=e.getExtension("WEBGL.draw_buffers");r?r.drawBuffersWEBGL(t):Object(j.a)(1===t.length&&(36064===t[0]||1029===t[0]),"Multiple render targets not supported")}this.drawBuffers=t}},{key:"_getAttachmentParameterFallback",value:function(t){var e=Object(y.a)(this.gl);switch(t){case 36052:return e.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return e.WEBGL2?null:8;case 33297:return e.WEBGL2?null:5125;case 33296:return e.WEBGL2||e.EXT_sRGB?null:9729;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"_bindHandle",value:function(t){return this.gl.bindFramebuffer(36160,t)}},{key:"color",get:function(){return this.attachments[36064]||null}},{key:"texture",get:function(){return this.attachments[36064]||null}},{key:"depth",get:function(){return this.attachments[36096]||this.attachments[33306]||null}},{key:"stencil",get:function(){return this.attachments[36128]||this.attachments[33306]||null}}]),e}(d.a);function k(t){return(_.STATUS||{})[t]||"Framebuffer error ".concat(t)}_.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},12:function(t,e){},"15yl":function(t,e,r){"use strict";(function(t){var n=r("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){if("undefined"!=typeof window&&"object"===(0,i.default)(window.process)&&"renderer"===window.process.type)return!0;if(void 0!==t&&"object"===(0,i.default)(t.versions)&&Boolean(t.versions.electron))return!0;var r="object"===("undefined"==typeof navigator?"undefined":(0,i.default)(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent,n=e||r;if(n&&n.indexOf("Electron")>=0)return!0;return!1};var i=n(r("cDf5"))}).call(this,r("8oxB"))},"1Nab":function(t,e,r){"use strict";r.d(e,"a",(function(){return E}));var n,i=r("o0o1"),a=r.n(i),o=(r("wcNg"),r("HaE+")),u=r("rePB"),s=r("kD43"),c=r("VLYs");function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){Object(u.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.modules||{}).draco3d){t.next=3;break}return t.abrupt("return",{draco:r.draco3d.createDecoderModule()});case 3:return n=n||b(e),t.next=6,n;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function t(e){var r,n,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.draco&&e.draco.decoderType,t.next="js"===t.t0?3:(t.t0,7);break;case 3:return t.next=5,Object(s.a)("draco_decoder.js","draco",e);case 5:return r=t.sent,t.abrupt("break",20);case 7:return t.t1=Promise,t.next=10,Object(s.a)("draco_wasm_wrapper.js","draco",e);case 10:return t.t2=t.sent,t.next=13,Object(s.a)("draco_decoder.wasm","draco",e);case 13:return t.t3=t.sent,t.t4=[t.t2,t.t3],t.next=17,t.t1.all.call(t.t1,t.t4);case 17:i=t.sent,r=i[0],n=i[1];case 20:return r=r||c.a.DracoDecoderModule,t.next=23,g(r,n);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,e){var r={};return e&&(r.wasmBinary=e),new Promise((function(e){t(l(l({},r),{},{onModuleLoaded:function(t){return e({draco:t})}}))}))}var m=r("/WnK"),y=0,p=1,O={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},j={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},_=function(){function t(t){this.draco=t,this.drawMode="TRIANGLE"}var e=t.prototype;return e.destroy=function(){},e.destroyGeometry=function(t){t&&this.draco.destroy(t.dracoGeometry)},e.parseSync=function(t,e){var r=new this.draco.DecoderBuffer;r.Init(new Int8Array(t),t.byteLength);var n,i,a,o=new this.draco.Decoder,u={};try{var s=o.GetEncodedGeometryType(r);switch(s){case this.draco.TRIANGULAR_MESH:i=new this.draco.Mesh,n=o.DecodeBufferToMesh(r,i),a={type:y,faceCount:i.num_faces(),attributeCount:i.num_attributes(),vertexCount:i.num_points()};break;case this.draco.POINT_CLOUD:i=new this.draco.PointCloud,n=o.DecodeBufferToPointCloud(r,i),a={type:p,attributeCount:i.num_attributes(),vertexCount:i.num_points()};break;default:throw new Error("Unknown DRACO geometry type.")}if(!n.ok()||!i.ptr){var c="DRACO decompression failed: "+n.error_msg();throw i&&this.draco.destroy(i),new Error(c)}u.loaderData={header:a},this.extractDRACOGeometry(o,i,s,u),u.header={vertexCount:a.vertexCount,boundingBox:Object(m.a)(u.attributes)}}finally{this.draco.destroy(o),this.draco.destroy(r)}return u},e.extractDRACOGeometry=function(t,e,r,n){var i=this.getAttributes(t,e),a=i.POSITION;if(!a)throw new Error("DRACO decompressor: No position attribute found.");return this.getPositionAttributeMetadata(a),r===this.draco.TRIANGULAR_MESH?(i.indices="TRIANGLE_STRIP"===this.drawMode?this.getMeshStripIndices(t,e):this.getMeshFaceIndices(t,e),n.mode="TRIANGLE_STRIP"===this.drawMode?5:4):n.mode=0,i.indices&&(n.indices={value:i.indices,size:1},delete i.indices),n.attributes=i,n},e.getPositionAttributeMetadata=function(t){this.metadata=this.metadata||{},this.metadata.attributes=this.metadata.attributes||{};var e=new this.draco.AttributeQuantizationTransform;if(e.InitFromAttribute(t)){this.metadata.attributes.position.isQuantized=!0,this.metadata.attributes.position.maxRange=e.range(),this.metadata.attributes.position.numQuantizationBits=e.quantization_bits(),this.metadata.attributes.position.minValues=new Float32Array(3);for(var r=0;r<3;++r)this.metadata.attributes.position.minValues[r]=e.min_value(r)}this.draco.destroy(e)},e.getAttributes=function(t,e){var r={},n=e.num_points();for(var i in O){var a=this.draco[i],o=t.GetAttributeId(e,a);if(-1!==o){var u=t.GetAttribute(e,o),s=this.getAttributeTypedArray(t,e,u,i).typedArray;r[O[i]]={value:s,size:s.length/n}}}return r},e.getMeshFaceIndices=function(t,e){for(var r=e.num_faces(),n=new Uint32Array(3*r),i=new this.draco.DracoInt32Array,a=0;a<r;++a){t.GetFaceFromMesh(e,a,i);var o=3*a;n[o]=i.GetValue(0),n[o+1]=i.GetValue(1),n[o+2]=i.GetValue(2)}return this.draco.destroy(i),n},e.getMeshStripIndices=function(t,e){var r=new this.draco.DracoInt32Array;t.GetTriangleStripsFromMesh(e,r);for(var n=new Uint32Array(r.size()),i=0;i<r.size();++i)n[i]=r.GetValue(i);return this.draco.destroy(r),n},e.getAttributeTypedArray=function(t,e,r,n){if(0===r.ptr)throw new Error("DRACO decode bad attribute "+n);var i,a,o=j[r.data_type()],u=r.num_components(),s=e.num_points()*u;switch(o){case Float32Array:i=new this.draco.DracoFloat32Array,t.GetAttributeFloatForAllPoints(e,r,i),a=new Float32Array(s);break;case Int8Array:i=new this.draco.DracoInt8Array,t.GetAttributeInt8ForAllPoints(e,r,i),a=new Int8Array(s);break;case Int16Array:i=new this.draco.DracoInt16Array,t.GetAttributeInt16ForAllPoints(e,r,i),a=new Int16Array(s);break;case Int32Array:i=new this.draco.DracoInt32Array,t.GetAttributeInt32ForAllPoints(e,r,i),a=new Int32Array(s);break;case Uint8Array:i=new this.draco.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(e,r,i),a=new Uint8Array(s);break;case Uint16Array:i=new this.draco.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(e,r,i),a=new Uint16Array(s);break;case Uint32Array:i=new this.draco.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(e,r,i),a=new Uint32Array(s);break;default:throw new Error("DRACO decoder: unexpected attribute type.")}for(var c=0;c<s;c++)a[c]=i.GetValue(c);return this.draco.destroy(i),{typedArray:a,components:u}},e.decode=function(t,e){return this.parseSync(t,e)},t}();function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){Object(u.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var x="undefined"!=typeof __VERSION__?__VERSION__:"latest",E=A(A({},{id:"draco",name:"Draco",version:x,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,test:"DRACO",options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",workerUrl:"https://unpkg.com/@loaders.gl/draco@"+x+"/dist/draco-loader.worker.js",localWorkerUrl:"modules/draco/dist/draco-loader.worker.dev.js"}}}),{},{parse:function(t,e,r,n){return w.apply(this,arguments)}});function w(){return(w=Object(o.a)(a.a.mark((function t(e,r,n,i){var o,u,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(r);case 2:return o=t.sent,u=o.draco,s=new _(u),t.prev=5,t.abrupt("return",s.parseSync(e));case 7:return t.prev=7,s.destroy(),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[5,,7,10]])})))).apply(this,arguments)}},"2oRo":function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,r("yLpj"))},"41X0":function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r("1OyB"),i=r("vuIU"),a=r("md7G"),o=r("foSv"),u=r("Ji7U"),s=r("kHIg"),c=r("a3TU"),f=r("tS8E"),l=function(t){function e(){return Object(n.a)(this,e),Object(a.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(i.a)(e,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)this[r]=t[r+e];return this.check()}},{key:"to",value:function(t){return t===this?this:Object(c.e)(t)?this.toArray(t):this.toObject(t)}},{key:"toTarget",value:function(t){return t?this.to(t):this}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)t[e+r]=this[r];return t}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(c.b)}},{key:"formatString",value:function(t){for(var e="",r=0;r<this.ELEMENTS;++r)e+=(r>0?", ":"")+Object(c.d)(this[r],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}},{key:"equals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(!Object(c.c)(this[e],t[e]))return!1;return!0}},{key:"exactEquals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}},{key:"negate",value:function(){for(var t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}},{key:"lerp",value:function(t,e,r){void 0===r&&(r=e,e=t,t=this);for(var n=0;n<this.ELEMENTS;++n){var i=t[n];this[n]=i+r*(e[n]-i)}return this.check()}},{key:"min",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}},{key:"max",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}},{key:"clamp",value:function(t,e){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),e[r]);return this.check()}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,i=e;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]+=a[o];return this.check()}},{key:"subtract",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,i=e;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]-=a[o];return this.check()}},{key:"scale",value:function(t){if(Array.isArray(t))return this.multiply(t);for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"sub",value:function(t){return this.subtract(t)}},{key:"setScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}},{key:"addScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}},{key:"subScalar",value:function(t){return this.addScalar(-t)}},{key:"multiplyScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"divideScalar",value:function(t){return this.scale(1/t)}},{key:"clampScalar",value:function(t,e){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),e);return this.check()}},{key:"multiplyByScalar",value:function(t){return this.scale(t)}},{key:"check",value:function(){if(c.b.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var t=this.length===this.ELEMENTS,e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}},{key:"ELEMENTS",get:function(){return Object(f.a)(!1),0}},{key:"RANK",get:function(){return Object(f.a)(!1),0}},{key:"elements",get:function(){return this}}]),e}(Object(s.a)(Array))},"6JNq":function(t,e,r){var n=r("UTVS"),i=r("Vu81"),a=r("Bs8V"),o=r("m/L8");t.exports=function(t,e){for(var r=i(e),u=o.f,s=a.f,c=0;c<r.length;c++){var f=r[c];n(t,f)||u(t,f,s(e,f))}}},"93I0":function(t,e,r){var n=r("VpIT"),i=r("kOOl"),a=n("keys");t.exports=function(t){return a[t]||(a[t]=i(t))}},"9Q0L":function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return h})),r.d(e,"c",(function(){return d})),r.d(e,"b",(function(){return b}));var n=r("1OyB"),i=r("vuIU"),a=r("rp2x"),o=r("gXd2"),u=r("g6k1");function s(t,e){var r=t[e].bind(t);t[e]=function(){var e=arguments.length<=0?void 0:arguments[0];return e in t.state.cache||(t.state.cache[e]=r.apply(void 0,arguments)),t.state.enable?t.state.cache[e]:r.apply(void 0,arguments)},Object.defineProperty(t[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function c(t,e,r){var n=t[e].bind(t);t[e]=function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var o=r.apply(void 0,[t.state._updateCache].concat(i)),u=o.valueChanged,s=o.oldValue;return u&&n.apply(void 0,i),s},Object.defineProperty(t[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}function f(t){var e=t.useProgram.bind(t);t.useProgram=function(r){t.state.program!==r&&(e(r),t.state.program=r)}}var l=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.copyState,u=void 0!==i&&i,s=r.log,c=void 0===s?function(){}:s;Object(n.a)(this,t),this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=u?Object(o.a)(e):Object.assign({},a.c),this.log=c,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return Object(i.a)(t,[{key:"push",value:function(){this.stateStack.push({})}},{key:"pop",value:function(){Object(u.a)(this.stateStack.length>0);var t=this.stateStack[this.stateStack.length-1];Object(o.c)(this.gl,t,this.cache),this.stateStack.pop()}},{key:"_updateCache",value:function(t){var e,r=!1,n=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var i in t){Object(u.a)(void 0!==i);var a=t[i],o=this.cache[i];Object(u.d)(a,o)||(r=!0,e=o,n&&!(i in n)&&(n[i]=o),this.cache[i]=a)}return{valueChanged:r,oldValue:e}}}]),t}();function h(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.enable,i=void 0===n||n,o=r.copyState;if(Object(u.a)(void 0!==o),!e.state){var h=void 0!==t?t:window;for(var d in h.polyfillContext&&h.polyfillContext(e),e.state=new l(e,{copyState:o,enable:i}),f(e),a.b){var b=a.b[d];c(e,d,b)}s(e,"getParameter"),s(e,"isEnabled")}return e.state.enable=i,e}function d(t){t.state||h(t,{copyState:!1}),t.state.push()}function b(t){Object(u.a)(t.state),t.state.pop()}}).call(this,r("yLpj"))},"B9+J":function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return a})),r.d(e,"d",(function(){return o}));function n(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.clamped,n=void 0===r||r;switch(t){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return n?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function a(t){var e=t.data,r=t.width,n=t.height,i=t.bytesPerPixel,a=void 0===i?4:i,o=t.temp,u=r*a;o=o||new Uint8Array(u);for(var s=0;s<n/2;++s){var c=s*u,f=(n-s-1)*u;o.set(e.subarray(c,c+u)),e.copyWithin(c,f,f+u),e.set(o,f)}}function o(t){for(var e=t.data,r=t.width,n=t.height,i=Math.round(r/2),a=Math.round(n/2),o=new Uint8Array(i*a*4),u=0;u<a;u++)for(var s=0;s<i;s++)for(var c=0;c<4;c++)o[4*(u*i+s)+c]=e[4*(2*u*r+2*s)+c];return{data:o,width:i,height:a}}},Bs8V:function(t,e,r){var n=r("g6v/"),i=r("0eef"),a=r("XGwC"),o=r("/GqU"),u=r("wE6v"),s=r("UTVS"),c=r("DPsx"),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=o(t),e=u(e,!0),c)try{return f(t,e)}catch(r){}if(s(t,e))return a(!i.f.call(t,e),t[e])}},CxzY:function(t,e,r){"use strict";function n(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}r.d(e,"a",(function(){return n}))},DPsx:function(t,e,r){var n=r("g6v/"),i=r("0Dky"),a=r("zBJ4");t.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},H50b:function(t,e,r){"use strict";r.d(e,"a",(function(){return g}));var n=r("o0o1"),i=r.n(n),a=r("HaE+"),o=r("1OyB"),u=r("vuIU"),s=r("md7G"),c=r("foSv"),f=r("JX7q"),l=r("Ji7U"),h=r("iein"),d=r("l6PP"),b=r("SUVH"),v=[34069,34070,34071,34072,34073,34074],g=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(this,e),Object(b.b)(t),(r=Object(s.a)(this,Object(c.a)(e).call(this,t,Object.assign({},n,{target:34067})))).initialize(n),Object.seal(Object(f.a)(r)),r}var r;return Object(l.a)(e,t),Object(u.a)(e,[{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.mipmaps,n=void 0===r||r,i=e.parameters,a=void 0===i?{}:i;this.opts=e,this.setCubeMapImageData(e).then((function(){t.loaded=!0,n&&t.generateMipmap(e),t.setParameters(a)}))}},{key:"subImage",value:function(t){var e=t.face,r=t.data,n=t.x,i=void 0===n?0:n,a=t.y,o=void 0===a?0:a,u=t.mipmapLevel,s=void 0===u?0:u;return this._subImage({target:e,data:r,x:i,y:o,mipmapLevel:s})}},{key:"setCubeMapImageData",value:(r=Object(a.a)(i.a.mark((function t(e){var r,n,a,o,u,s,c,f,l,d,b,g,m,y=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.width,n=e.height,a=e.pixels,o=e.data,u=e.border,s=void 0===u?0:u,c=e.format,f=void 0===c?6408:c,l=e.type,d=void 0===l?5121:l,b=this.gl,g=a||o,t.next=5,Promise.all(v.map((function(t){var e=g[t];return Promise.all(Array.isArray(e)?e:[e])})));case 5:m=t.sent,this.bind(),v.forEach((function(t,e){m[e].length>1&&!1!==y.opts.mipmaps&&h.g.warn("".concat(y.id," has mipmap and multiple LODs."))(),m[e].forEach((function(e,i){r&&n?b.texImage2D(t,i,f,r,n,s,f,d,e):b.texImage2D(t,i,f,f,d,e)}))})),this.unbind();case 9:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"setImageDataForFace",value:function(t){var e=this,r=t.face,n=t.width,i=t.height,a=t.pixels,o=t.data,u=t.border,s=void 0===u?0:u,c=t.format,f=void 0===c?6408:c,l=t.type,h=void 0===l?5121:l,d=this.gl,b=a||o;return this.bind(),b instanceof Promise?b.then((function(n){return e.setImageDataForFace(Object.assign({},t,{face:r,data:n,pixels:n}))})):this.width||this.height?d.texImage2D(r,0,f,n,i,s,f,h,b):d.texImage2D(r,0,f,f,h,b),this}}]),e}(d.a);g.FACES=v},HYAF:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},Hogv:function(t,e,r){"use strict";(function(t){var e=r("JrVf"),n=r("g6k1"),i=r("P5C6");function a(t,e){var r=e.extension,a=e.target,o=e.target2,u=i.b[r];Object(n.a)(u);for(var s=u.meta,c=(void 0===s?{}:s).suffix,f=void 0===c?"":c,l=t.getExtension(r),h=function(){var e=b[d],r="".concat(e).concat(f),n=null;"meta"===e||"function"==typeof t[e]||(l&&"function"==typeof l[r]?n=function(){return l[r].apply(l,arguments)}:"function"==typeof u[e]&&(n=u[e].bind(a))),n&&(a[e]=n,o[e]=n)},d=0,b=Object.keys(u);d<b.length;d++)h()}(void 0!==t?t:window).polyfillContext=function(t){return t.luma=t.luma||{},t.luma.polyfilled||(Object(e.a)(t),function(t){t.luma.extensions={};var e=t.getSupportedExtensions()||[],r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var u=a.value;t.luma[u]=t.getExtension(u)}}catch(s){n=!0,i=s}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}(t),function(t,e){var r=!0,n=!1,i=void 0;try{for(var o,u=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;"overrides"!==s&&a(t,{extension:s,target:t.luma,target2:t})}}catch(c){n=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(n)throw i}}}(t,i.b),function(t,e){var r=e.target,n=e.target2;Object.keys(i.a).forEach((function(e){if("function"==typeof i.a[e]){var a=t[e]?t[e].bind(t):function(){},o=i.a[e].bind(null,t,a);r[e]=o,n[e]=o}}))}(t,{target:t.luma,target2:t}),t.luma.polyfilled=!0),t}}).call(this,r("yLpj"))},HwUG:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"i",(function(){return a})),r.d(e,"d",(function(){return o})),r.d(e,"b",(function(){return u})),r.d(e,"e",(function(){return s})),r.d(e,"h",(function(){return c})),r.d(e,"f",(function(){return f})),r.d(e,"g",(function(){return l})),r.d(e,"c",(function(){return h}));r("QFcT");var n=r("yU0y");function i(){var t=new n.a(9);return n.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function a(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function o(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=f*o-u*c,h=-f*a+u*s,d=c*a-o*s,b=r*l+n*h+i*d;return b?(b=1/b,t[0]=l*b,t[1]=(-f*n+i*c)*b,t[2]=(u*n-i*o)*b,t[3]=h*b,t[4]=(f*r-i*s)*b,t[5]=(-u*r+i*a)*b,t[6]=d*b,t[7]=(-c*r+n*s)*b,t[8]=(o*r-n*a)*b,t):null}function u(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],c=t[8];return e*(c*a-o*s)+r*(-c*i+o*u)+n*(s*i-a*u)}function s(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=r[0],d=r[1],b=r[2],v=r[3],g=r[4],m=r[5],y=r[6],p=r[7],O=r[8];return t[0]=h*n+d*o+b*c,t[1]=h*i+d*u+b*f,t[2]=h*a+d*s+b*l,t[3]=v*n+g*o+m*c,t[4]=v*i+g*u+m*f,t[5]=v*a+g*s+m*l,t[6]=y*n+p*o+O*c,t[7]=y*i+p*u+O*f,t[8]=y*a+p*s+O*l,t}function c(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=h*n+d*o+c,t[7]=h*i+d*u+f,t[8]=h*a+d*s+l,t}function f(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(r),d=Math.cos(r);return t[0]=d*n+h*o,t[1]=d*i+h*u,t[2]=d*a+h*s,t[3]=d*o-h*n,t[4]=d*u-h*i,t[5]=d*s-h*a,t[6]=c,t[7]=f,t[8]=l,t}function l(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function h(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,u=n+n,s=i+i,c=r*o,f=n*o,l=n*u,h=i*o,d=i*u,b=i*s,v=a*o,g=a*u,m=a*s;return t[0]=1-l-b,t[3]=f-m,t[6]=h+g,t[1]=f+m,t[4]=1-c-b,t[7]=d-v,t[2]=h-g,t[5]=d+v,t[8]=1-c-l,t}},"I+eb":function(t,e,r){var n=r("2oRo"),i=r("Bs8V").f,a=r("kRJp"),o=r("busE"),u=r("zk60"),s=r("6JNq"),c=r("lMq5");t.exports=function(t,e){var r,f,l,h,d,b=t.target,v=t.global,g=t.stat;if(r=v?n:g?n[b]||u(b,{}):(n[b]||{}).prototype)for(f in e){if(h=e[f],l=t.noTargetGet?(d=i(r,f))&&d.value:r[f],!c(v?f:b+(g?".":"#")+f,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;s(h,l)}(t.sham||l&&l.sham)&&a(h,"sham",!0),o(r,f,h,t)}}},I8vh:function(t,e,r){var n=r("ppGB"),i=Math.max,a=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):a(r,e)}},"IVX/":function(t,e,r){"use strict";var n=r("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.isMobile=function(){return void 0!==i.window.orientation},e.default=function(t){if(!t&&!(0,a.default)())return"Node";if((0,o.default)(t))return"Electron";var e="undefined"!=typeof navigator?navigator:{},r=t||e.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";var n=-1!==r.indexOf("MSIE "),u=-1!==r.indexOf("Trident/");if(n||u)return"IE";if(i.window.chrome)return"Chrome";if(i.window.safari)return"Safari";if(i.window.mozInnerScreenX)return"Firefox";return"Unknown"};var i=r("jWbo"),a=n(r("uXCu")),o=n(r("15yl"))},JBy8:function(t,e,r){var n=r("yoRg"),i=r("eDl+").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},JrVf:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("xSaR"),i={};function a(t,e){var r;i[t]=!0,void 0!==e&&(r=e,n.global.console&&n.global.console.error&&n.global.console.error(r))}var o=function t(e){var r=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(var n=0;n<this.attribs.length;n++){var i=new t.VertexAttrib(r);this.attribs[n]=i}this.maxAttrib=0};(o.VertexAttrib=function(t){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var u=function(t){var e=this;this.gl=t,function(t){var e=t.getError;t.getError=function(){var r;do{0!==(r=e.apply(t))&&(i[r]=!0)}while(0!==r);for(r in i)if(i[r])return delete i[r],parseInt(r,10);return 0}}(t);var r=this.original={getParameter:t.getParameter,enableVertexAttribArray:t.enableVertexAttribArray,disableVertexAttribArray:t.disableVertexAttribArray,bindBuffer:t.bindBuffer,getVertexAttrib:t.getVertexAttrib,vertexAttribPointer:t.vertexAttribPointer};t.getParameter=function(t){return t===e.VERTEX_ARRAY_BINDING_OES?e.currentVertexArrayObject===e.defaultVertexArrayObject?null:e.currentVertexArrayObject:r.getParameter.apply(this,arguments)},t.enableVertexAttribArray=function(t){var n=e.currentVertexArrayObject;n.maxAttrib=Math.max(n.maxAttrib,t);var i=n.attribs[t];return i.enabled=!0,r.enableVertexAttribArray.apply(this,arguments)},t.disableVertexAttribArray=function(t){var n=e.currentVertexArrayObject;n.maxAttrib=Math.max(n.maxAttrib,t);var i=n.attribs[t];return i.enabled=!1,r.disableVertexAttribArray.apply(this,arguments)},t.bindBuffer=function(t,n){switch(t){case 34962:e.currentArrayBuffer=n;break;case 34963:e.currentVertexArrayObject.elementArrayBuffer=n}return r.bindBuffer.apply(this,arguments)},t.getVertexAttrib=function(t,n){var i=e.currentVertexArrayObject,a=i.attribs[t];switch(n){case 34975:return a.buffer;case 34338:return a.enabled;case 34339:return a.size;case 34340:return a.stride;case 34341:return a.type;case 34922:return a.normalized;default:return r.getVertexAttrib.apply(this,arguments)}},t.vertexAttribPointer=function(t,n,i,a,o,u){var s=e.currentVertexArrayObject;s.maxAttrib=Math.max(s.maxAttrib,t);var c=s.attribs[t];return c.buffer=e.currentArrayBuffer,c.size=n,c.type=i,c.normalized=a,c.stride=o,c.offset=u,c.recache(),r.vertexAttribPointer.apply(this,arguments)},t.instrumentExtension&&t.instrumentExtension(this,"OES_vertex_array_object"),t.canvas&&t.canvas.addEventListener("webglcontextrestored",(function(){var t;t="OESVertexArrayObject emulation library context restored",n.global.console&&n.global.console.log&&n.global.console.log(t),e.reset_()}),!0),this.reset_()};function s(t){if("function"!=typeof t.createVertexArray){var e=t.getSupportedExtensions;t.getSupportedExtensions=function(){var t=e.call(this)||[];return t.indexOf("OES_vertex_array_object")<0&&t.push("OES_vertex_array_object"),t};var r=t.getExtension;t.getExtension=function(e){var n=r.call(this,e);return n||("OES_vertex_array_object"!==e?null:(t.__OESVertexArrayObject||(this.__OESVertexArrayObject=new u(this)),this.__OESVertexArrayObject))}}}u.prototype.VERTEX_ARRAY_BINDING_OES=34229,u.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(var t=0;t<this.vertexArrayObjects.length;++t)this.vertexArrayObjects.isAlive=!1;var e=this.gl;this.maxVertexAttribs=e.getParameter(34921),this.defaultVertexArrayObject=new o(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},u.prototype.createVertexArrayOES=function(){var t=new o(this);return this.vertexArrayObjects.push(t),t},u.prototype.deleteVertexArrayOES=function(t){t.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(t),1),this.currentVertexArrayObject===t&&this.bindVertexArrayOES(null)},u.prototype.isVertexArrayOES=function(t){return!!(t&&t instanceof o&&t.hasBeenBound&&t.ext===this)},u.prototype.bindVertexArrayOES=function(t){var e=this.gl;if(!t||t.isAlive){var r=this.original,n=this.currentVertexArrayObject;this.currentVertexArrayObject=t||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var i=this.currentVertexArrayObject;if(n!==i){n&&i.elementArrayBuffer===n.elementArrayBuffer||r.bindBuffer.call(e,34963,i.elementArrayBuffer);for(var o=this.currentArrayBuffer,u=Math.max(n?n.maxAttrib:0,i.maxAttrib),s=0;s<=u;s++){var c=i.attribs[s],f=n?n.attribs[s]:null;if(n&&c.enabled===f.enabled||(c.enabled?r.enableVertexAttribArray.call(e,s):r.disableVertexAttribArray.call(e,s)),c.enabled){var l=!1;n&&c.buffer===f.buffer||(o!==c.buffer&&(r.bindBuffer.call(e,34962,c.buffer),o=c.buffer),l=!0),(l||c.cached!==f.cached)&&r.vertexAttribPointer.call(e,s,c.size,c.type,c.normalized,c.stride,c.offset)}}this.currentArrayBuffer!==o&&r.bindBuffer.call(e,34962,this.currentArrayBuffer)}}else a(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject")}},L8KH:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r("1OyB"),i=r("vuIU"),a=r("iein"),o=r("rta6"),u=r("SUVH"),s=r("rnmN"),c=r("VdrS"),f=r("CxzY"),l=r("sgaE"),h="Resource subclass must define virtual methods",d=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,t),Object(u.b)(e);var i=r.id,a=r.userData,o=void 0===a?{}:a;this.gl=e,this.id=i||Object(c.c)(this.constructor.name),this.userData=o,this._bound=!1,this._handle=r.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}return Object(i.a)(t,[{key:"toString",value:function(){return"".concat(this.constructor.name,"(").concat(this.id,")")}},{key:"delete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.deleteChildren,r=void 0!==e&&e,n=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,n&&r&&n.filter(Boolean).forEach((function(t){t.delete()})),this}},{key:"bind",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof e?(this._bindHandle(e),this):(this._bound?t=e():(this._bindHandle(this.handle),this._bound=!0,t=e(),this._bound=!1,this._bindHandle(null)),t)}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object(s.b)(this.gl,t),Object(f.a)(t);var r=this.constructor.PARAMETERS||{},n=r[t];if(n){var i=Object(a.f)(this.gl),o=(!("webgl2"in n)||i)&&(!("extension"in n)||this.gl.getExtension(n.extension));if(!o){var u=n.webgl1,c="webgl2"in n?n.webgl2:n.webgl1,l=i?c:u;return l}}return this._getParameter(t,e)}},{key:"getParameters",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={},r=e.parameters,n=e.keys,i=this.constructor.PARAMETERS||{},o=Object(a.f)(this.gl),u={},c=r||Object.keys(i),f=!0,l=!1,h=void 0;try{for(var d,b=c[Symbol.iterator]();!(f=(d=b.next()).done);f=!0){var v=d.value,g=i[v],m=g&&(!("webgl2"in g)||o)&&(!("extension"in g)||this.gl.getExtension(g.extension));if(m){var y=n?Object(s.a)(this.gl,v):v;u[y]=this.getParameter(v,t),n&&"GLenum"===g.type&&(u[y]=Object(s.a)(this.gl,u[y]))}}}catch(p){l=!0,h=p}finally{try{f||null==b.return||b.return()}finally{if(l)throw h}}return u}},{key:"setParameter",value:function(t,e){t=Object(s.b)(this.gl,t),Object(f.a)(t);var r=(this.constructor.PARAMETERS||{})[t];if(r){var n=Object(a.f)(this.gl);if(!((!("webgl2"in r)||n)&&(!("extension"in r)||this.gl.getExtension(r.extension))))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(e=Object(s.b)(e))}return this._setParameter(t,e),this}},{key:"setParameters",value:function(t){for(var e in t)this.setParameter(e,t[e]);return this}},{key:"stubRemovedMethods",value:function(t,e,r){return Object(l.a)(this,t,e,r)}},{key:"initialize",value:function(t){}},{key:"_createHandle",value:function(){throw new Error(h)}},{key:"_deleteHandle",value:function(){throw new Error(h)}},{key:"_bindHandle",value:function(){throw new Error(h)}},{key:"_getOptsFromHandle",value:function(){throw new Error(h)}},{key:"_getParameter",value:function(t,e){throw new Error(h)}},{key:"_setParameter",value:function(t,e){throw new Error(h)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_addStats",value:function(){var t=this.constructor.name,e=o.a.get("Resource Counts");e.get("Resources Created").incrementCount(),e.get("".concat(t,"s Created")).incrementCount(),e.get("".concat(t,"s Active")).incrementCount()}},{key:"_removeStats",value:function(){var t=this.constructor.name;o.a.get("Resource Counts").get("".concat(t,"s Active")).decrementCount()}},{key:"_trackAllocatedMemory",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.name,r=o.a.get("Memory Usage");r.get("GPU Memory").addCount(t),r.get("".concat(e," Memory")).addCount(t),this.byteLength=t}},{key:"_trackDeallocatedMemory",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.constructor.name,e=o.a.get("Memory Usage");e.get("GPU Memory").subtractCount(this.byteLength),e.get("".concat(t," Memory")).subtractCount(this.byteLength),this.byteLength=0}},{key:"handle",get:function(){return this._handle}}]),t}()},LE90:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r("iein");function i(t,e,r){var i=r.removedProps,a=void 0===i?{}:i,o=r.deprecatedProps,u=void 0===o?{}:o,s=r.replacedProps,c=void 0===s?{}:s;for(var f in a)if(f in e){var l=a[f]?"".concat(t,".").concat(a[f]):"N/A";n.g.removed("".concat(t,".").concat(f),l)()}for(var h in u)if(h in e){var d=u[h];n.g.deprecated("".concat(t,".").concat(h),"".concat(t,".").concat(d))()}var b=null;for(var v in c)if(v in e){var g=c[v];n.g.deprecated("".concat(t,".").concat(v),"".concat(t,".").concat(g))(),(b=b||Object.assign({},e))[g]=e[v],delete b[v]}return b||e}},MdWm:function(t,e,r){"use strict";r.d(e,"a",(function(){return O})),r.d(e,"b",(function(){return j}));var n=r("rePB"),i=r("f5Sf"),a=r("H50b"),o=r("1OyB"),u=r("md7G"),s=r("foSv"),c=r("JX7q"),f=r("vuIU"),l=r("Ji7U"),h=r("iein"),d=r("SUVH"),b=r("l6PP"),v=r("uYBD"),g=r("sc/6"),m=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(this,e),Object(d.a)(t),n=Object.assign({depth:1},n,{target:32879,unpackFlipY:!1}),(r=Object(u.a)(this,Object(s.a)(e).call(this,t,n))).initialize(n),Object.seal(Object(c.a)(r)),r}return Object(l.a)(e,t),Object(f.a)(e,null,[{key:"isSupported",value:function(t){return Object(h.f)(t)}}]),Object(f.a)(e,[{key:"setImageData",value:function(t){var e=this,r=t.level,n=void 0===r?0:r,i=t.dataFormat,a=void 0===i?6408:i,o=t.width,u=t.height,s=t.depth,c=void 0===s?1:s,f=t.border,l=void 0===f?0:f,d=t.format,b=t.type,m=void 0===b?5121:b,y=t.offset,p=void 0===y?0:y,O=t.data,j=t.parameters,_=void 0===j?{}:j;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Object(h.k)(this.gl,_,(function(){ArrayBuffer.isView(O)&&e.gl.texImage3D(e.target,n,a,o,u,c,l,d,m,O),O instanceof g.a&&(e.gl.bindBuffer(35052,O.handle),e.gl.texImage3D(e.target,n,a,o,u,c,l,d,m,p))})),O&&O.byteLength)this._trackAllocatedMemory(O.byteLength,"Texture");else{var k=v.a[this.dataFormat]||4,A=v.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*k*A,"Texture")}return this.loaded=!0,this}}]),e}(b.a),y=r("11Ib"),p=r("CxzY");function O(t,e){Object(p.a)(t instanceof i.a||t instanceof a.a||t instanceof m);var r=t.constructor,n=t.gl,o=t.width,u=t.height,s=t.format,c=t.type,f=t.dataFormat,l=t.border,h=t.mipmaps;return new r(n,Object.assign({width:o,height:u,format:s,type:c,dataFormat:f,border:l,mipmaps:h},e))}function j(t,e){var r=t.gl,i=t.width,a=t.height,o=t.id;return new y.a(r,Object.assign({},e,{id:"framebuffer-for-".concat(o),width:i,height:a,attachments:Object(n.a)({},36064,t)}))}},Nw31:function(t,e,r){"use strict";r.d(e,"a",(function(){return O}));var n=r("ODXe"),i=r("1OyB"),a=r("md7G"),o=r("foSv"),u=r("vuIU"),s=r("Ji7U"),c=r("+H0l"),f=r("fxzv"),l=r("sSh/"),h=r("ZaHm"),d=r("ZxFD"),b=r("n+fv"),v=r("bl9R"),g=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),y=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),p={},O=function(t){function e(t){var r;return Object(i.a)(this,e),r=Object(a.a)(this,Object(o.a)(e).call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0)),1===arguments.length&&Array.isArray(t)?r.copy(t):r.identity(),r}return Object(s.a)(e,t),Object(u.a)(e,[{key:"INDICES",get:function(){return y}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return p.IDENTITY=p.IDENTITY||Object.freeze(new e(g)),p.IDENTITY}},{key:"ZERO",get:function(){return p.ZERO=p.ZERO||Object.freeze(new e(m)),p.ZERO}}]),Object(u.a)(e,[{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}},{key:"set",value:function(t,e,r,n,i,a,o,u,s,c,f,l,h,d,b,v){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this[4]=i,this[5]=a,this[6]=o,this[7]=u,this[8]=s,this[9]=c,this[10]=f,this[11]=l,this[12]=h,this[13]=d,this[14]=b,this[15]=v,this.check()}},{key:"setRowMajor",value:function(t,e,r,n,i,a,o,u,s,c,f,l,h,d,b,v){return this[0]=t,this[1]=i,this[2]=s,this[3]=h,this[4]=e,this[5]=a,this[6]=c,this[7]=d,this[8]=r,this[9]=o,this[10]=f,this[11]=b,this[12]=n,this[13]=u,this[14]=l,this[15]=v,this.check()}},{key:"toRowMajor",value:function(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}},{key:"identity",value:function(){return this.copy(g)}},{key:"fromQuaternion",value:function(t){return h.c(this,t),this.check()}},{key:"frustum",value:function(t){var r=t.left,n=t.right,i=t.bottom,a=t.top,o=t.near,u=t.far;return u===1/0?e._computeInfinitePerspectiveOffCenter(this,r,n,i,a,o):h.d(this,r,n,i,a,o,u),this.check()}},{key:"lookAt",value:function(t,e,r){if(1===arguments.length){var n=t;t=n.eye,e=n.center,r=n.up}return e=e||[0,0,0],r=r||[0,1,0],h.g(this,t,e,r),this.check()}},{key:"ortho",value:function(t){var e=t.left,r=t.right,n=t.bottom,i=t.top,a=t.near,o=void 0===a?.1:a,u=t.far,s=void 0===u?500:u;return h.i(this,e,r,n,i,o,s),this.check()}},{key:"orthographic",value:function(t){var r=t.fovy,n=void 0===r?45*Math.PI/180:r,i=t.aspect,a=void 0===i?1:i,o=t.focalDistance,u=void 0===o?1:o,s=t.near,c=void 0===s?.1:s,f=t.far,l=void 0===f?500:f;if(n>2*Math.PI)throw Error("radians");var h=n/2,d=u*Math.tan(h),b=d*a;return(new e).ortho({left:-b,right:b,bottom:-d,top:d,near:c,far:l})}},{key:"perspective",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fovy,r=void 0===e?void 0:e,n=t.fov,i=void 0===n?45*Math.PI/180:n,a=t.aspect,o=void 0===a?1:a,u=t.near,s=void 0===u?.1:u,c=t.far,f=void 0===c?500:c;if((r=r||i)>2*Math.PI)throw Error("radians");return h.j(this,r,o,s,f),this.check()}},{key:"determinant",value:function(){return h.a(this)}},{key:"getScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}},{key:"getTranslation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}},{key:"getRotation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(e||[-0,-0,-0]),n=1/r[0],i=1/r[1],a=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*i,t[2]=this[2]*a,t[3]=0,t[4]=this[4]*n,t[5]=this[5]*i,t[6]=this[6]*a,t[7]=0,t[8]=this[8]*n,t[9]=this[9]*i,t[10]=this[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{key:"getRotationMatrix3",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(e||[-0,-0,-0]),n=1/r[0],i=1/r[1],a=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*i,t[2]=this[2]*a,t[3]=this[4]*n,t[4]=this[5]*i,t[5]=this[6]*a,t[6]=this[8]*n,t[7]=this[9]*i,t[8]=this[10]*a,t}},{key:"transpose",value:function(){return h.q(this,this),this.check()}},{key:"invert",value:function(){return h.f(this,this),this.check()}},{key:"multiplyLeft",value:function(t){return h.h(this,t,this),this.check()}},{key:"multiplyRight",value:function(t){return h.h(this,this,t),this.check()}},{key:"rotateX",value:function(t){return h.l(this,this,t),this.check()}},{key:"rotateY",value:function(t){return h.m(this,this,t),this.check()}},{key:"rotateZ",value:function(t){return h.n(this,this,t),this.check()}},{key:"rotateXYZ",value:function(t){var e=Object(n.a)(t,3),r=e[0],i=e[1],a=e[2];return this.rotateX(r).rotateY(i).rotateZ(a)}},{key:"rotateAxis",value:function(t,e){return h.k(this,this,t,e),this.check()}},{key:"scale",value:function(t){return Array.isArray(t)?h.o(this,this,t):h.o(this,this,[t,t,t]),this.check()}},{key:"translate",value:function(t){return h.p(this,this,t),this.check()}},{key:"transform",value:function(t,e){return 4===t.length?(e=v.n(e||[-0,-0,-0,-0],t,this),Object(c.b)(e,4),e):this.transformAsPoint(t,e)}},{key:"transformAsPoint",value:function(t,e){switch(t.length){case 2:e=d.j(e||[-0,-0],t,this);break;case 3:e=b.o(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(e,t.length),e}},{key:"transformAsVector",value:function(t,e){switch(t.length){case 2:e=Object(l.a)(e||[-0,-0],t,this);break;case 3:e=Object(l.c)(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(e,t.length),e}},{key:"makeRotationX",value:function(t){return this.identity().rotateX(t)}},{key:"makeTranslation",value:function(t,e,r){return this.identity().translate([t,e,r])}},{key:"transformPoint",value:function(t,e){return Object(c.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(t,e)}},{key:"transformVector",value:function(t,e){return Object(c.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(t,e)}},{key:"transformDirection",value:function(t,e){return Object(c.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(t,e)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(t,e,r,n,i,a){var o=2*a/(r-e),u=2*a/(i-n),s=(r+e)/(r-e),c=(i+n)/(i-n),f=-2*a;return t[0]=o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=s,t[9]=c,t[10]=-1,t[11]=-1,t[12]=0,t[13]=0,t[14]=f,t[15]=0,t}}]),e}(f.a)},ODXe:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r("BsWD");function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(s){i=!0,a=s}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return r}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},OklE:function(t,e,r){"use strict";r.d(e,"a",(function(){return J}));var n,i=r("1OyB"),a=r("vuIU"),o=r("md7G"),u=r("JX7q"),s=r("foSv"),c=r("ReuC"),f=r("Ji7U"),l=r("L8KH"),h=r("l6PP"),d=r("11Ib"),b=r("rePB"),v=r("iein"),g=r("n4Ve"),m=r("CxzY"),y=(n={},Object(b.a)(n,5126,I.bind(null,"uniform1fv",A,1,R)),Object(b.a)(n,35664,I.bind(null,"uniform2fv",A,2,R)),Object(b.a)(n,35665,I.bind(null,"uniform3fv",A,3,R)),Object(b.a)(n,35666,I.bind(null,"uniform4fv",A,4,R)),Object(b.a)(n,5124,I.bind(null,"uniform1iv",x,1,R)),Object(b.a)(n,35667,I.bind(null,"uniform2iv",x,2,R)),Object(b.a)(n,35668,I.bind(null,"uniform3iv",x,3,R)),Object(b.a)(n,35669,I.bind(null,"uniform4iv",x,4,R)),Object(b.a)(n,35670,I.bind(null,"uniform1iv",x,1,R)),Object(b.a)(n,35671,I.bind(null,"uniform2iv",x,2,R)),Object(b.a)(n,35672,I.bind(null,"uniform3iv",x,3,R)),Object(b.a)(n,35673,I.bind(null,"uniform4iv",x,4,R)),Object(b.a)(n,35674,I.bind(null,"uniformMatrix2fv",A,4,F)),Object(b.a)(n,35675,I.bind(null,"uniformMatrix3fv",A,9,F)),Object(b.a)(n,35676,I.bind(null,"uniformMatrix4fv",A,16,F)),Object(b.a)(n,35678,P),Object(b.a)(n,35680,P),Object(b.a)(n,5125,I.bind(null,"uniform1uiv",E,1,R)),Object(b.a)(n,36294,I.bind(null,"uniform2uiv",E,2,R)),Object(b.a)(n,36295,I.bind(null,"uniform3uiv",E,3,R)),Object(b.a)(n,36296,I.bind(null,"uniform4uiv",E,4,R)),Object(b.a)(n,35685,I.bind(null,"uniformMatrix2x3fv",A,6,F)),Object(b.a)(n,35686,I.bind(null,"uniformMatrix2x4fv",A,8,F)),Object(b.a)(n,35687,I.bind(null,"uniformMatrix3x2fv",A,6,F)),Object(b.a)(n,35688,I.bind(null,"uniformMatrix3x4fv",A,12,F)),Object(b.a)(n,35689,I.bind(null,"uniformMatrix4x2fv",A,8,F)),Object(b.a)(n,35690,I.bind(null,"uniformMatrix4x3fv",A,12,F)),Object(b.a)(n,35679,P),Object(b.a)(n,35682,P),Object(b.a)(n,36289,P),Object(b.a)(n,36292,P),Object(b.a)(n,36293,P),Object(b.a)(n,36298,P),Object(b.a)(n,36299,P),Object(b.a)(n,36300,P),Object(b.a)(n,36303,P),Object(b.a)(n,36306,P),Object(b.a)(n,36307,P),Object(b.a)(n,36308,P),Object(b.a)(n,36311,P),n),p={},O={},j={},_=[0];function k(t,e,r,n){1===e&&"boolean"==typeof t&&(t=t?1:0),Number.isFinite(t)&&(_[0]=t,t=_);var i=t.length;if(i%e&&v.g.warn("Uniform size should be multiples of ".concat(e),t)(),t instanceof r)return t;var a=n[i];a||(a=new r(i),n[i]=a);for(var o=0;o<i;o++)a[o]=t[o];return a}function A(t,e){return k(t,e,Float32Array,p)}function x(t,e){return k(t,e,Int32Array,O)}function E(t,e){return k(t,e,Uint32Array,j)}function w(t){if("]"!==t[t.length-1])return{name:t,length:1,isArray:!1};var e=t.match(/([^[]*)(\[[0-9]+\])?/);if(!e||e.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(t));return{name:e[1],length:e[2]||1,isArray:Boolean(e[2])}}function T(t,e,r){var n=y[r.type];if(!n)throw new Error("Unknown GLSL uniform type ".concat(r.type));return n().bind(null,t,e)}function M(t,e,r){for(var n in t){var i=t[n];if((!r||Boolean(r[n]))&&!S(i))throw e=e?"".concat(e," "):"",console.error("".concat(e," Bad uniform ").concat(n),i),new Error("".concat(e," Bad uniform ").concat(n))}return!0}function S(t){return Array.isArray(t)||ArrayBuffer.isView(t)?function(t){if(0===t.length)return!1;for(var e=Math.min(t.length,16),r=0;r<e;++r)if(!Number.isFinite(t[r]))return!1;return!0}(t):!!isFinite(t)||(!0===t||!1===t||(t instanceof h.a||(t instanceof g.a||t instanceof d.a&&Boolean(t.texture))))}function L(t,e,r){if(Array.isArray(r)||ArrayBuffer.isView(r))if(t[e])for(var n=t[e],i=0,a=r.length;i<a;++i)n[i]=r[i];else t[e]=r.slice();else t[e]=r}function P(){var t=null;return function(e,r,n){var i=t!==n;return i&&(e.uniform1i(r,n),t=n),i}}function I(t,e,r,n){var i=null,a=null;return function(o,u,s){var c=e(s,r),f=c.length,l=!1;if(null===i)i=new Float32Array(f),a=f,l=!0;else{Object(m.a)(a===f,"Uniform length cannot change.");for(var h=0;h<f;++h)if(c[h]!==i[h]){l=!0;break}}return l&&(n(o,t,u,c),i.set(c)),l}}function R(t,e,r,n){t[e](r,n)}function F(t,e,r,n){t[e](r,!1,n)}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed",r=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,n=t.match(r);return n?n[1]:e}function B(t,e,r,n){for(var i=t.split(/\r?\n/),a={},o={},u=n||D(e)||"(unnamed)",s="".concat(function(t){switch(t){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(r)," shader ").concat(u),c=0;c<i.length;c++){var f=i[c];if(!(f.length<=1)){var l=f.split(":"),h=l[0],d=parseInt(l[2],10);if(isNaN(d))throw new Error("GLSL compilation error in ".concat(s,": ").concat(t));"WARNING"!==h?a[d]=f:o[d]=f}}var b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",n=t.split(/\r?\n/),i=String(n.length+e-1).length;return n.map((function(t,n){var a=n+e,o=String(a).length;return C(a,i-o)+r+t}))}(e);return{shaderName:s,errors:N(a,b),warnings:N(o,b)}}function N(t,e){for(var r="",n=0;n<e.length;n++){var i=e[n];if((t[n+3]||t[n+2]||t[n+1])&&(r+="".concat(i,"\n"),t[n+1])){var a=t[n+1],o=a.split(":",3),u=o[0],s=parseInt(o[1],10)||0,c=a.substring(o.join(":").length+1).trim();r+=C("^^^ ".concat(u,": ").concat(c,"\n\n"),s)}}return r}function C(t,e){for(var r="",n=0;n<e;++n)r+=" ";return"".concat(r).concat(t)}var U=r("SUVH"),V=r("VdrS"),G=function(t){function e(t,r){var n;Object(i.a)(this,e),Object(U.b)(t),Object(m.a)("string"==typeof r.source,"Shader: GLSL source code must be a JavaScript string");var a=D(r.source,null)||r.id||Object(V.c)("unnamed ".concat(e.getTypeName(r.shaderType)));return(n=Object(o.a)(this,Object(s.a)(e).call(this,t,{id:a}))).shaderType=r.shaderType,n.source=r.source,n.initialize(r),n}return Object(f.a)(e,t),Object(a.a)(e,null,[{key:"getTypeName",value:function(t){switch(t){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return Object(m.a)(!1),"unknown"}}}]),Object(a.a)(e,[{key:"initialize",value:function(t){var e=t.source,r=D(e,null);r&&(this.id=Object(V.c)(r)),this._compile(e)}},{key:"getParameter",value:function(t){return this.gl.getShaderParameter(this.handle,t)}},{key:"toString",value:function(){return"".concat(e.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function(){return D(this.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var t=this.gl.getExtension("WEBGL.debug_shaders");return t?t.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL.debug_shaders not implemented"}},{key:"_compile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;t.startsWith("#version ")||(t="#version 100\n".concat(t)),this.source=t,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);var e=this.getParameter(35713);if(!e){var r=this.gl.getShaderInfoLog(this.handle),n=B(r,this.source,this.shaderType,this.id),i=n.shaderName,a=n.errors,o=n.warnings;throw v.g.error("GLSL compilation errors in ".concat(i,"\n").concat(a))(),v.g.warn("GLSL compilation warnings in ".concat(i,"\n").concat(o))(),new Error("GLSL compilation errors in ".concat(i))}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}]),e}(l.a),z=function(t){function e(t,r){return Object(i.a)(this,e),"string"==typeof r&&(r={source:r}),Object(o.a)(this,Object(s.a)(e).call(this,t,Object.assign({},r,{shaderType:35633})))}return Object(f.a)(e,t),Object(a.a)(e,[{key:"_createHandle",value:function(){return this.gl.createShader(35633)}}]),e}(G),H=function(t){function e(t,r){return Object(i.a)(this,e),"string"==typeof r&&(r={source:r}),Object(o.a)(this,Object(s.a)(e).call(this,t,Object.assign({},r,{shaderType:35632})))}return Object(f.a)(e,t),Object(a.a)(e,[{key:"_createHandle",value:function(){return this.gl.createShader(35632)}}]),e}(G),X=r("T2Hy"),W=r("oejM"),q=function(){function t(e){Object(i.a)(this,t),this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}return Object(a.a)(t,[{key:"getAttributeInfo",value:function(t){var e=Number(t);return Number.isFinite(e)?this.attributeInfosByLocation[e]:this.attributeInfosByName[t]||null}},{key:"getAttributeLocation",value:function(t){var e=this.getAttributeInfo(t);return e?e.location:-1}},{key:"getAttributeAccessor",value:function(t){var e=this.getAttributeInfo(t);return e?e.accessor:null}},{key:"getVaryingInfo",value:function(t){var e=Number(t);return Number.isFinite(e)?this.varyingInfos[e]:this.varyingInfosByName[t]||null}},{key:"getVaryingIndex",value:function(t){var e=this.getVaryingInfo();return e?e.location:-1}},{key:"getVaryingAccessor",value:function(t){var e=this.getVaryingInfo();return e?e.accessor:null}},{key:"_readAttributesFromProgram",value:function(t){for(var e=t.gl,r=e.getProgramParameter(t.handle,35721),n=0;n<r;n++){var i=e.getActiveAttrib(t.handle,n),a=i.name,o=i.type,u=i.size,s=e.getAttribLocation(t.handle,a);s>=0&&this._addAttribute(s,a,o,u)}this.attributeInfos.sort((function(t,e){return t.location-e.location}))}},{key:"_readVaryingsFromProgram",value:function(t){var e=t.gl;if(Object(v.f)(e)){for(var r=e.getProgramParameter(t.handle,35971),n=0;n<r;n++){var i=e.getTransformFeedbackVarying(t.handle,n),a=i.name,o=i.type,u=i.size;this._addVarying(n,a,o,u)}this.varyingInfos.sort((function(t,e){return t.location-e.location}))}}},{key:"_addAttribute",value:function(t,e,r,n){var i=Object(W.a)(r),a={type:i.type,size:n*i.components};this._inferProperties(t,e,a);var o={location:t,name:e,accessor:new X.a(a)};this.attributeInfos.push(o),this.attributeInfosByLocation[t]=o,this.attributeInfosByName[o.name]=o}},{key:"_inferProperties",value:function(t,e,r){/instance/i.test(e)&&(r.divisor=1)}},{key:"_addVarying",value:function(t,e,r,n){var i=Object(W.a)(r),a=i.type,o=i.components,u={location:t,name:e,accessor:new X.a({type:a,size:n*o})};this.varyingInfos.push(u),this.varyingInfosByName[u.name]=u}}]),t}(),Y=r("rnmN"),Q=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],J=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,e),(r=Object(o.a)(this,Object(s.a)(e).call(this,t,n))).stubRemovedMethods("Program","v6.0",Q),r._isCached=!1,r.initialize(n),Object.seal(Object(u.a)(r)),r._setId(n.id),r}return Object(f.a)(e,t),Object(a.a)(e,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.hash,r=t.vs,n=t.fs,i=t.varyings,a=t.bufferMode,o=void 0===a?35981:a;return this.hash=e||"",this.vs="string"==typeof r?new z(this.gl,{id:"".concat(t.id,"-vs"),source:r}):r,this.fs="string"==typeof n?new H(this.gl,{id:"".concat(t.id,"-fs"),source:n}):n,Object(m.a)(this.vs instanceof z),Object(m.a)(this.fs instanceof H),this.uniforms={},this._textureUniforms={},this._texturesRenderable=!0,i&&i.length>0&&(Object(U.a)(this.gl),this.varyings=i,this.gl.transformFeedbackVaryings(this.handle,i,o)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new q(this),this.setProps(t)}},{key:"delete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:Object(c.a)(Object(s.a)(e.prototype),"delete",this).call(this,t)}},{key:"setProps",value:function(t){return"uniforms"in t&&this.setUniforms(t.uniforms),this}},{key:"draw",value:function(t){var e=this,r=t.logPriority,n=t.drawMode,i=void 0===n?4:n,a=t.vertexCount,o=t.offset,u=void 0===o?0:o,s=t.start,c=t.end,f=t.isIndexed,l=void 0!==f&&f,h=t.indexType,d=void 0===h?5123:h,b=t.instanceCount,g=void 0===b?0:b,y=t.isInstanced,p=void 0===y?g>0:y,O=t.vertexArray,j=void 0===O?null:O,_=t.transformFeedback,k=t.framebuffer,A=t.parameters,x=void 0===A?{}:A,E=t.uniforms,w=t.samplers;if((E||w)&&(v.g.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(E||{})),v.g.priority>=r){var T=k?k.id:"default",M="mode=".concat(Object(Y.a)(this.gl,i)," verts=").concat(a," ")+"instances=".concat(g," indexType=").concat(Object(Y.a)(this.gl,d)," ")+"isInstanced=".concat(p," isIndexed=").concat(l," ")+"Framebuffer=".concat(T);v.g.log(r,M)()}return Object(m.a)(j),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===a||p&&0===g)&&(j.bindForDraw(a,g,(function(){if(void 0!==k&&(x=Object.assign({},x,{framebuffer:k})),_){var t=Object(W.c)(i);_.begin(t)}e._bindTextures(),Object(v.k)(e.gl,x,(function(){l&&p?e.gl.drawElementsInstanced(i,a,d,u,g):l&&Object(v.f)(e.gl)&&!isNaN(s)&&!isNaN(c)?e.gl.drawRangeElements(i,s,c,a,d,u):l?e.gl.drawElements(i,a,d,u):p?e.gl.drawArraysInstanced(i,u,a,g):e.gl.drawArrays(i,u,a)})),_&&_.end()})),!0)}},{key:"setUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in v.g.priority>=2&&M(t,this.id,this._uniformSetters),this.gl.useProgram(this.handle),t){var r=t[e],n=this._uniformSetters[e];if(n){var i=r,a=!1;if(i instanceof d.a&&(i=i.texture),i instanceof h.a)if(a=this.uniforms[e]!==r){void 0===n.textureIndex&&(n.textureIndex=this._textureIndexCounter++);var o=i,u=n.textureIndex;o.bind(u),i=u,o.loaded||(this._texturesRenderable=!1),this._textureUniforms[e]=o}else i=n.textureIndex;else this._textureUniforms[e]&&delete this._textureUniforms[e];(n(i)||a)&&L(this.uniforms,e,r)}}return this}},{key:"_areTexturesRenderable",value:function(){if(this._texturesRenderable)return!0;for(var t in this._texturesRenderable=!0,this._textureUniforms){var e=this._textureUniforms[t];this._texturesRenderable=this._texturesRenderable&&e.loaded}return this._texturesRenderable}},{key:"_bindTextures",value:function(){for(var t in this._textureUniforms){var e=this._uniformSetters[t].textureIndex;this._textureUniforms[t].bind(e)}}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getOptionsFromHandle",value:function(t){var e=this.gl.getAttachedShaders(t),r={},n=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var s=o.value;switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:r.vs=new z({handle:s});break;case 35632:r.fs=new H({handle:s})}}}catch(c){i=!0,a=c}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return r}},{key:"_getParameter",value:function(t){return this.gl.getProgramParameter(this.handle,t)}},{key:"_setId",value:function(t){if(!t){var e=this._getName();this.id=Object(V.c)(e)}}},{key:"_getName",value:function(){var t=this.vs.getName()||this.fs.getName();return t=(t=t.replace(/shader/i,""))?"".concat(t,"-program"):"program"}},{key:"_compileAndLink",value:function(){var t=this.gl;if((t.attachShader(this.handle,this.vs.handle),t.attachShader(this.handle,this.fs.handle),v.g.time(4,"linkProgram for ".concat(this._getName()))(),t.linkProgram(this.handle),v.g.timeEnd(4,"linkProgram for ".concat(this._getName()))(),t.debug||v.g.level>0)&&(t.validateProgram(this.handle),!t.getProgramParameter(this.handle,35714)))throw new Error("Error linking: ".concat(t.getProgramInfoLog(this.handle)))}},{key:"_readUniformLocationsFromLinkedProgram",value:function(){var t=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(var e=0;e<this._uniformCount;e++){var r=this.gl.getActiveUniform(this.handle,e),n=w(r.name),i=n.name,a=(n.isArray,t.getUniformLocation(this.handle,i));if(this._uniformSetters[i]=T(t,a,r),r.size>1)for(var o=0;o<r.size;o++)a=t.getUniformLocation(this.handle,"".concat(i,"[").concat(o,"]")),this._uniformSetters["".concat(i,"[").concat(o,"]")]=T(t,a,r)}this._textureIndexCounter=0}},{key:"getActiveUniforms",value:function(t,e){return this.gl.getActiveUniforms(this.handle,t,e)}},{key:"getUniformBlockIndex",value:function(t){return this.gl.getUniformBlockIndex(this.handle,t)}},{key:"getActiveUniformBlockParameter",value:function(t,e){return this.gl.getActiveUniformBlockParameter(this.handle,t,e)}},{key:"uniformBlockBinding",value:function(t,e){this.gl.uniformBlockBinding(this.handle,t,e)}}]),e}(l.a)},"Oz/4":function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r("1OyB"),i=r("vuIU"),a=r("md7G"),o=r("foSv"),u=r("Ji7U"),s=r("sYR6"),c=r("a3TU"),f=r("+H0l"),l=r("ZxFD"),h=r("sSh/"),d=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(n.a)(this,e),t=Object(a.a)(this,Object(o.a)(e).call(this,2)),Object(c.e)(r)&&1===arguments.length?t.copy(r):(c.b.debug&&(Object(f.a)(r),Object(f.a)(i)),t[0]=r,t[1]=i),t}return Object(u.a)(e,t),Object(i.a)(e,[{key:"set",value:function(t,e){return this[0]=t,this[1]=e,this.check()}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this.check()}},{key:"fromObject",value:function(t){return c.b.debug&&(Object(f.a)(t.x),Object(f.a)(t.y)),this[0]=t.x,this[1]=t.y,this.check()}},{key:"toObject",value:function(t){return t.x=this[0],t.y=this[1],t}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"transform",value:function(t){return this.transformAsPoint(t)}},{key:"transformAsPoint",value:function(t){return l.j(this,this,t),this.check()}},{key:"transformAsVector",value:function(t){return Object(h.a)(this,this,t),this.check()}},{key:"transformByMatrix3",value:function(t){return l.i(this,this,t),this.check()}},{key:"transformByMatrix2x3",value:function(t){return l.h(this,this,t),this.check()}},{key:"transformByMatrix2",value:function(t){return l.g(this,this,t),this.check()}},{key:"ELEMENTS",get:function(){return 2}}]),e}(s.a)},P5C6:function(t,e,r){"use strict";r.d(e,"b",(function(){return c})),r.d(e,"a",(function(){return f}));var n,i,a=r("rePB"),o=r("g6k1"),u=function(t){return Object(o.h)(t)?void 0:0},s=(n={},Object(a.a)(n,3074,(function(t){return Object(o.h)(t)?void 0:36064})),Object(a.a)(n,35723,(function(t){return Object(o.h)(t)?void 0:4352})),Object(a.a)(n,35977,u),Object(a.a)(n,32937,u),Object(a.a)(n,36795,(function(t,e){var r=Object(o.h)(t)?t.getExtension("EXT_disjoint_timer_query_webgl2"):t.getExtension("EXT_disjoint_timer_query");return r&&r.GPU_DISJOINT_EXT?e(r.GPU_DISJOINT_EXT):0})),Object(a.a)(n,37445,(function(t,e){var r=t.getExtension("WEBGL_debug_renderer_info");return e(r&&r.UNMASKED_VENDOR_WEBGL||7936)})),Object(a.a)(n,37446,(function(t,e){var r=t.getExtension("WEBGL_debug_renderer_info");return e(r&&r.UNMASKED_RENDERER_WEBGL||7937)})),Object(a.a)(n,34047,(function(t,e){var r=t.luma.extensions.EXT_texture_filter_anisotropic;return r?e(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),Object(a.a)(n,32883,u),Object(a.a)(n,35071,u),Object(a.a)(n,37447,u),Object(a.a)(n,36063,(function(t,e){if(!Object(o.h)(t)){var r=t.getExtension("WEBGL_draw_buffers");return r?e(r.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),Object(a.a)(n,35379,u),Object(a.a)(n,35374,u),Object(a.a)(n,35377,u),Object(a.a)(n,34852,(function(t){if(!Object(o.h)(t)){var e=t.getExtension("WEBGL_draw_buffers");return e?e.MAX_DRAW_BUFFERS_WEBGL:0}})),Object(a.a)(n,36203,(function(t){return t.getExtension("OES_element_index")?2147483647:65535})),Object(a.a)(n,33001,(function(t){return t.getExtension("OES_element_index")?16777216:65535})),Object(a.a)(n,33e3,(function(t){return 16777216})),Object(a.a)(n,37157,u),Object(a.a)(n,35373,u),Object(a.a)(n,35657,u),Object(a.a)(n,36183,u),Object(a.a)(n,37137,u),Object(a.a)(n,34045,u),Object(a.a)(n,35978,u),Object(a.a)(n,35979,u),Object(a.a)(n,35968,u),Object(a.a)(n,35376,u),Object(a.a)(n,35375,u),Object(a.a)(n,35659,u),Object(a.a)(n,37154,u),Object(a.a)(n,35371,u),Object(a.a)(n,35658,u),Object(a.a)(n,35076,u),Object(a.a)(n,35077,u),Object(a.a)(n,35380,u),n);var c=(i={},Object(a.a)(i,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){Object(o.a)(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),Object(a.a)(i,"ANGLE_instanced_arrays",{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(t,e){Object(o.a)(0===e,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),Object(a.a)(i,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){Object(o.a)(!1)}}),Object(a.a)(i,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){Object(o.a)(!1)},deleteQuery:function(){Object(o.a)(!1)},beginQuery:function(){Object(o.a)(!1)},endQuery:function(){},getQuery:function(t,e){return this.getQueryObject(t,e)},getQueryParameter:function(t,e){return this.getQueryObject(t,e)},getQueryObject:function(){}}),i),f={readBuffer:function(t,e,r){Object(o.h)(t)&&e(r)},getVertexAttrib:function(t,e,r,n){var i,a=function(t,e){return{webgl2:Object(o.h)(t),ext:t.getExtension(e)}}(t,"ANGLE_instanced_arrays"),u=a.webgl2,s=a.ext;switch(n){case 35069:i=!!u&&void 0;break;case 35070:i=u||s?void 0:0}return void 0!==i?i:e(r,n)},getProgramParameter:function(t,e,r,n){if(!Object(o.h)(t))switch(n){case 35967:return 35981;case 35971:case 35382:return 0}return e(r,n)},getInternalformatParameter:function(t,e,r,n,i){if(!Object(o.h)(t))switch(i){case 32937:return new Int32Array([0])}return t.getInternalformatParameter(r,n,i)},getTexParameter:function(t,e,r,n){switch(n){case 34046:var i=t.luma.extensions.EXT_texture_filter_anisotropic;n=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||34046}return e(r,n)},getParameter:function(t,e,r){var n=s[r],i="function"==typeof n?n(t,e,r):n;return void 0!==i?i:e(r)},hint:function(t,e,r,n){return e(r,n)}}},QFcT:function(t,e,r){var n=r("I+eb"),i=Math.hypot,a=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var r,n,i=0,u=0,s=arguments.length,c=0;u<s;)c<(r=a(arguments[u++]))?(i=i*(n=c/r)*n+1,c=r):i+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*o(i)}})},QPTa:function(t,e,r){"use strict";var n="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",i=(e.a={name:"lights",vs:n,fs:n,getUniforms:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if("lightSources"in e){var r=e.lightSources||{},n=r.ambientLight,a=r.pointLights,u=r.directionalLights,s=n||a&&a.length>0||u&&u.length>0;return s?Object.assign({},o({ambientLight:n,pointLights:a,directionalLights:u}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in e){var c={pointLights:[],directionalLights:[]},f=!0,l=!1,h=void 0;try{for(var d,b=(e.lights||[])[Symbol.iterator]();!(f=(d=b.next()).done);f=!0){var v=d.value;switch(v.type){case"ambient":c.ambientLight=v;break;case"directional":c.directionalLights.push(v);break;case"point":c.pointLights.push(v)}}}catch(g){l=!0,h=g}finally{try{f||null==b.return||b.return()}finally{if(l)throw h}}return t({lightSources:c})}return{}},defines:{MAX_LIGHTS:3}},{});function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,r=void 0===e?[0,0,0]:e,n=t.intensity,i=void 0===n?1:n;return r.map((function(t){return t*i/255}))}function o(t){var e=t.ambientLight,r=t.pointLights,n=void 0===r?[]:r,i=t.directionalLights,o=void 0===i?[]:i,u={};return u["lighting_uAmbientLight.color"]=e?a(e):[0,0,0],n.forEach((function(t,e){u["lighting_uPointLight[".concat(e,"].color")]=a(t),u["lighting_uPointLight[".concat(e,"].position")]=t.position,u["lighting_uPointLight[".concat(e,"].attenuation")]=t.attenuation||[1,0,0]})),u.lighting_uPointLightCount=n.length,o.forEach((function(t,e){u["lighting_uDirectionalLight[".concat(e,"].color")]=a(t),u["lighting_uDirectionalLight[".concat(e,"].direction")]=t.direction})),u.lighting_uDirectionalLightCount=o.length,u}},Qo9l:function(t,e,r){var n=r("2oRo");t.exports=n},RK3t:function(t,e,r){var n=r("0Dky"),i=r("xrYK"),a="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?a.call(t,""):Object(t)}:Object},ReuC:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r("foSv");function i(t,e,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(n.a)(t)););return t}(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(r):a.value}})(t,e,r||t)}},SUVH:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return o}));var n=r("CxzY"),i=r("iein");function a(t){Object(n.a)(Object(i.e)(t),"Invalid WebGLRenderingContext")}function o(t){Object(n.a)(Object(i.f)(t),"Requires WebGL2")}},T2Hy:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r("RHh3"),i=r("1OyB"),a=r("vuIU"),o=r("B9+J"),u=r("CxzY"),s=r("LE90"),c={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},f={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},l=function(){function t(){var e=this;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];n.forEach((function(t){return e._assign(t)})),Object.freeze(this)}return Object(a.a)(t,null,[{key:"getBytesPerElement",value:function(t){return Object(o.c)(t.type||5126).BYTES_PER_ELEMENT}},{key:"getBytesPerVertex",value:function(t){return Object(u.a)(t.size),Object(o.c)(t.type||5126).BYTES_PER_ELEMENT*t.size}},{key:"resolve",value:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Object(n.a)(t,[c].concat(r))}}]),Object(a.a)(t,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"_assign",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==(t=Object(s.a)("Accessor",t,f)).type&&(this.type=t.type,5124!==t.type&&5125!==t.type||(this.integer=!0)),void 0!==t.size&&(this.size=t.size),void 0!==t.offset&&(this.offset=t.offset),void 0!==t.stride&&(this.stride=t.stride),void 0!==t.normalized&&(this.normalized=t.normalized),void 0!==t.integer&&(this.integer=t.integer),void 0!==t.divisor&&(this.divisor=t.divisor),void 0!==t.buffer&&(this.buffer=t.buffer),void 0!==t.index&&("boolean"==typeof index?this.index=t.index?1:0:this.index=t.index),void 0!==t.instanced&&(this.divisor=t.instanced?1:0),void 0!==t.isInstanced&&(this.divisor=t.isInstanced?1:0),this}},{key:"BYTES_PER_ELEMENT",get:function(){return t.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return t.getBytesPerVertex(this)}}]),t}()},TWQb:function(t,e,r){var n=r("/GqU"),i=r("UMSQ"),a=r("I8vh"),o=function(t){return function(e,r,o){var u,s=n(e),c=i(s.length),f=a(o,c);if(t&&r!=r){for(;c>f;)if((u=s[f++])!=u)return!0}else for(;c>f;f++)if((t||f in s)&&s[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},UMSQ:function(t,e,r){var n=r("ppGB"),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},UTVS:function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},VdrS:function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return u}));var n=r("CxzY"),i={};function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";i[t]=i[t]||1;var e=i[t]++;return"".concat(t,"-").concat(e)}function o(t){return Object(n.a)("number"==typeof t,"Input must be a number"),t&&0==(t&t-1)}function u(t){var e=!0;for(var r in t){e=!1;break}return e}},VpIT:function(t,e,r){var n=r("xDBR"),i=r("xs3f");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},Vu81:function(t,e,r){var n=r("0GbY"),i=r("JBy8"),a=r("dBg+"),o=r("glrk");t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(o(t)),r=a.f;return r?e.concat(r(t)):e}},VvNH:function(t,e,r){"use strict";(function(t){var n=r("a3TU"),i=r("Oz/4");r.d(e,"c",(function(){return i.a}));var a=r("zXfU");r.d(e,"d",(function(){return a.a}));var o=r("Nw31");r.d(e,"a",(function(){return o.a}));var u=r("Xjzu");r.d(e,"b",(function(){return u.a})),r.d(e,"f",(function(){return n.c})),r.d(e,"h",(function(){return n.g})),r.d(e,"e",(function(){return n.a})),r.d(e,"g",(function(){return n.f}));var s={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t};(s.global||s.self||s.window).mathgl={config:n.b}}).call(this,r("yLpj"))},XGwC:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},Xjzu:function(t,e,r){"use strict";r.d(e,"a",(function(){return F}));var n=r("1OyB"),i=r("vuIU"),a=r("md7G"),o=r("foSv"),u=r("Ji7U"),s=r("41X0"),c=r("+H0l"),f=r("tS8E"),l=r("yU0y"),h=r("HwUG"),d=r("n+fv"),b=r("bl9R");function v(){var t=new l.a(4);return l.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function g(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function m(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],u=r[0],s=r[1],c=r[2],f=r[3];return t[0]=n*f+o*u+i*c-a*s,t[1]=i*f+o*s+a*u-n*c,t[2]=a*f+o*c+n*s-i*u,t[3]=o*f-n*u-i*s-a*c,t}function y(t,e,r,n){var i,a,o,u,s,c=e[0],f=e[1],h=e[2],d=e[3],b=r[0],v=r[1],g=r[2],m=r[3];return(a=c*b+f*v+h*g+d*m)<0&&(a=-a,b=-b,v=-v,g=-g,m=-m),1-a>l.b?(i=Math.acos(a),o=Math.sin(i),u=Math.sin((1-n)*i)/o,s=Math.sin(n*i)/o):(u=1-n,s=n),t[0]=u*c+s*b,t[1]=u*f+s*v,t[2]=u*h+s*g,t[3]=u*d+s*m,t}function p(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*a+o]-e[3*o+a])*r,t[a]=(e[3*a+i]+e[3*i+a])*r,t[o]=(e[3*o+i]+e[3*i+o])*r}return t}b.b,b.g,b.c,b.l;var O,j,_,k,A,x,E=b.a,w=b.k,T=b.d,M=b.i,S=b.h,L=b.m,P=b.j,I=(b.f,b.e,O=d.b(),j=d.e(1,0,0),_=d.e(0,1,0),function(t,e,r){var n=d.d(e,r);return n<-.999999?(d.c(O,j,e),d.f(O)<1e-6&&d.c(O,_,e),d.i(O,O),g(t,O,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(d.c(O,e,r),t[0]=O[0],t[1]=O[1],t[2]=O[2],t[3]=1+n,P(t,t))}),R=(k=v(),A=v(),x=h.a(),[0,0,0,1]),F=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(n.a)(this,e),t=Object(a.a)(this,Object(o.a)(e).call(this,-0,-0,-0,-0)),Array.isArray(r)&&1===arguments.length?t.copy(r):t.set(r,i,u,s),t}return Object(u.a)(e,t),Object(i.a)(e,[{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}},{key:"set",value:function(t,e,r,n){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this.check()}},{key:"fromMatrix3",value:function(t){return p(this,t),this.check()}},{key:"identity",value:function(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.check()}},{key:"fromAxisRotation",value:function(t,e){return g(this,t,e),this.check()}},{key:"setAxisAngle",value:function(t,e){return this.fromAxisRotation(t,e)}},{key:"len",value:function(){return S(this)}},{key:"lengthSquared",value:function(){return L(this)}},{key:"dot",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.dot only takes one argument");return T(this,t)}},{key:"rotationTo",value:function(t,e){return I(this,t,e),this.check()}},{key:"add",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.add only takes one argument");return E(this,this,t),this.check()}},{key:"calculateW",value:function(){var t,e,r,n,i;return t=this,r=(e=this)[0],n=e[1],i=e[2],t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),this.check()}},{key:"conjugate",value:function(){var t,e;return e=this,(t=this)[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],this.check()}},{key:"invert",value:function(){var t,e,r,n,i,a,o,u;return t=this,r=(e=this)[0],n=e[1],i=e[2],a=e[3],u=(o=r*r+n*n+i*i+a*a)?1/o:0,t[0]=-r*u,t[1]=-n*u,t[2]=-i*u,t[3]=a*u,this.check()}},{key:"lerp",value:function(t,e,r){return M(this,t,e,r),this.check()}},{key:"multiplyRight",value:function(t,e){return Object(f.a)(!e),m(this,this,t),this.check()}},{key:"multiplyLeft",value:function(t,e){return Object(f.a)(!e),m(this,t,this),this.check()}},{key:"normalize",value:function(){var t=this.len(),e=t>0?1/t:0;return this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,0===t&&(this[3]=1),this.check()}},{key:"rotateX",value:function(t){return function(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(r),s=Math.cos(r);t[0]=n*s+o*u,t[1]=i*s+a*u,t[2]=a*s-i*u,t[3]=o*s-n*u}(this,this,t),this.check()}},{key:"rotateY",value:function(t){return function(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(r),s=Math.cos(r);t[0]=n*s-a*u,t[1]=i*s+o*u,t[2]=a*s+n*u,t[3]=o*s-i*u}(this,this,t),this.check()}},{key:"rotateZ",value:function(t){return function(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(r),s=Math.cos(r);t[0]=n*s+i*u,t[1]=i*s-n*u,t[2]=a*s+o*u,t[3]=o*s-a*u}(this,this,t),this.check()}},{key:"scale",value:function(t){return w(this,this,t),this.check()}},{key:"slerp",value:function(t,e,r){switch(arguments.length){case 1:var n=arguments[0],i=n.start;t=void 0===i?R:i,e=n.target,r=n.ratio;break;case 2:var a=Array.prototype.slice.call(arguments);e=a[0],r=a[1],t=this}return y(this,t,e,r),this.check()}},{key:"transformVector4",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return b.o(e,t,this),Object(c.b)(e,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(t,e){return this.setAxisAngle(t,e)}},{key:"premultiply",value:function(t,e){return this.multiplyLeft(t,e)}},{key:"multiply",value:function(t,e){return this.multiplyRight(t,e)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=Object(c.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=Object(c.a)(t)}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=Object(c.a)(t)}},{key:"w",get:function(){return this[3]},set:function(t){this[3]=Object(c.a)(t)}}]),e}(s.a)},ZaHm:function(t,e,r){"use strict";r.d(e,"q",(function(){return i})),r.d(e,"f",(function(){return a})),r.d(e,"a",(function(){return o})),r.d(e,"h",(function(){return u})),r.d(e,"p",(function(){return s})),r.d(e,"o",(function(){return c})),r.d(e,"k",(function(){return f})),r.d(e,"l",(function(){return l})),r.d(e,"m",(function(){return h})),r.d(e,"n",(function(){return d})),r.d(e,"e",(function(){return b})),r.d(e,"c",(function(){return v})),r.d(e,"d",(function(){return g})),r.d(e,"j",(function(){return m})),r.d(e,"i",(function(){return y})),r.d(e,"g",(function(){return p})),r.d(e,"b",(function(){return O}));r("QFcT");var n=r("yU0y");function i(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],o=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function a(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],b=e[12],v=e[13],g=e[14],m=e[15],y=r*u-n*o,p=r*s-i*o,O=r*c-a*o,j=n*s-i*u,_=n*c-a*u,k=i*c-a*s,A=f*v-l*b,x=f*g-h*b,E=f*m-d*b,w=l*g-h*v,T=l*m-d*v,M=h*m-d*g,S=y*M-p*T+O*w+j*E-_*x+k*A;return S?(S=1/S,t[0]=(u*M-s*T+c*w)*S,t[1]=(i*T-n*M-a*w)*S,t[2]=(v*k-g*_+m*j)*S,t[3]=(h*_-l*k-d*j)*S,t[4]=(s*E-o*M-c*x)*S,t[5]=(r*M-i*E+a*x)*S,t[6]=(g*O-b*k-m*p)*S,t[7]=(f*k-h*O+d*p)*S,t[8]=(o*T-u*E+c*A)*S,t[9]=(n*E-r*T-a*A)*S,t[10]=(b*_-v*O+m*y)*S,t[11]=(l*O-f*_-d*y)*S,t[12]=(u*x-o*w-s*A)*S,t[13]=(r*w-n*x+i*A)*S,t[14]=(v*p-b*j-g*y)*S,t[15]=(f*j-l*p+h*y)*S,t):null}function o(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],d=t[12],b=t[13],v=t[14],g=t[15];return(e*o-r*a)*(l*g-h*v)-(e*u-n*a)*(f*g-h*b)+(e*s-i*a)*(f*v-l*b)+(r*u-n*o)*(c*g-h*d)-(r*s-i*o)*(c*v-l*d)+(n*s-i*u)*(c*b-f*d)}function u(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],b=e[11],v=e[12],g=e[13],m=e[14],y=e[15],p=r[0],O=r[1],j=r[2],_=r[3];return t[0]=p*n+O*u+j*l+_*v,t[1]=p*i+O*s+j*h+_*g,t[2]=p*a+O*c+j*d+_*m,t[3]=p*o+O*f+j*b+_*y,p=r[4],O=r[5],j=r[6],_=r[7],t[4]=p*n+O*u+j*l+_*v,t[5]=p*i+O*s+j*h+_*g,t[6]=p*a+O*c+j*d+_*m,t[7]=p*o+O*f+j*b+_*y,p=r[8],O=r[9],j=r[10],_=r[11],t[8]=p*n+O*u+j*l+_*v,t[9]=p*i+O*s+j*h+_*g,t[10]=p*a+O*c+j*d+_*m,t[11]=p*o+O*f+j*b+_*y,p=r[12],O=r[13],j=r[14],_=r[15],t[12]=p*n+O*u+j*l+_*v,t[13]=p*i+O*s+j*h+_*g,t[14]=p*a+O*c+j*d+_*m,t[15]=p*o+O*f+j*b+_*y,t}function s(t,e,r){var n,i,a,o,u,s,c,f,l,h,d,b,v=r[0],g=r[1],m=r[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*m+e[12],t[13]=e[1]*v+e[5]*g+e[9]*m+e[13],t[14]=e[2]*v+e[6]*g+e[10]*m+e[14],t[15]=e[3]*v+e[7]*g+e[11]*m+e[15]):(n=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],b=e[11],t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=c,t[7]=f,t[8]=l,t[9]=h,t[10]=d,t[11]=b,t[12]=n*v+u*g+l*m+e[12],t[13]=i*v+s*g+h*m+e[13],t[14]=a*v+c*g+d*m+e[14],t[15]=o*v+f*g+b*m+e[15]),t}function c(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function f(t,e,r,i){var a,o,u,s,c,f,l,h,d,b,v,g,m,y,p,O,j,_,k,A,x,E,w,T,M=i[0],S=i[1],L=i[2],P=Math.hypot(M,S,L);return P<n.b?null:(M*=P=1/P,S*=P,L*=P,a=Math.sin(r),u=1-(o=Math.cos(r)),s=e[0],c=e[1],f=e[2],l=e[3],h=e[4],d=e[5],b=e[6],v=e[7],g=e[8],m=e[9],y=e[10],p=e[11],O=M*M*u+o,j=S*M*u+L*a,_=L*M*u-S*a,k=M*S*u-L*a,A=S*S*u+o,x=L*S*u+M*a,E=M*L*u+S*a,w=S*L*u-M*a,T=L*L*u+o,t[0]=s*O+h*j+g*_,t[1]=c*O+d*j+m*_,t[2]=f*O+b*j+y*_,t[3]=l*O+v*j+p*_,t[4]=s*k+h*A+g*x,t[5]=c*k+d*A+m*x,t[6]=f*k+b*A+y*x,t[7]=l*k+v*A+p*x,t[8]=s*E+h*w+g*T,t[9]=c*E+d*w+m*T,t[10]=f*E+b*w+y*T,t[11]=l*E+v*w+p*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function l(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*n,t[5]=o*i+f*n,t[6]=u*i+l*n,t[7]=s*i+h*n,t[8]=c*i-a*n,t[9]=f*i-o*n,t[10]=l*i-u*n,t[11]=h*i-s*n,t}function h(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*n,t[1]=o*i-f*n,t[2]=u*i-l*n,t[3]=s*i-h*n,t[8]=a*n+c*i,t[9]=o*n+f*i,t[10]=u*n+l*i,t[11]=s*n+h*i,t}function d(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*n,t[1]=o*i+f*n,t[2]=u*i+l*n,t[3]=s*i+h*n,t[4]=c*i-a*n,t[5]=f*i-o*n,t[6]=l*i-u*n,t[7]=h*i-s*n,t}function b(t,e){var r=e[0],n=e[1],i=e[2],a=e[4],o=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(a,o,u),t[2]=Math.hypot(s,c,f),t}function v(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,u=n+n,s=i+i,c=r*o,f=n*o,l=n*u,h=i*o,d=i*u,b=i*s,v=a*o,g=a*u,m=a*s;return t[0]=1-l-b,t[1]=f+m,t[2]=h-g,t[3]=0,t[4]=f-m,t[5]=1-c-b,t[6]=d+v,t[7]=0,t[8]=h+g,t[9]=d-v,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function g(t,e,r,n,i,a,o){var u=1/(r-e),s=1/(i-n),c=1/(a-o);return t[0]=2*a*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*s,t[6]=0,t[7]=0,t[8]=(r+e)*u,t[9]=(i+n)*s,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}function m(t,e,r,n,i){var a,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(n-i),t[10]=(i+n)*a,t[14]=2*i*n*a):(t[10]=-1,t[14]=-2*n),t}function y(t,e,r,n,i,a,o){var u=1/(e-r),s=1/(n-i),c=1/(a-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*u,t[13]=(i+n)*s,t[14]=(o+a)*c,t[15]=1,t}function p(t,e,r,i){var a,o,u,s,c,f,l,h,d,b,v=e[0],g=e[1],m=e[2],y=i[0],p=i[1],O=i[2],j=r[0],_=r[1],k=r[2];return Math.abs(v-j)<n.b&&Math.abs(g-_)<n.b&&Math.abs(m-k)<n.b?function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}(t):(l=v-j,h=g-_,d=m-k,a=p*(d*=b=1/Math.hypot(l,h,d))-O*(h*=b),o=O*(l*=b)-y*d,u=y*h-p*l,(b=Math.hypot(a,o,u))?(a*=b=1/b,o*=b,u*=b):(a=0,o=0,u=0),s=h*u-d*o,c=d*a-l*u,f=l*o-h*a,(b=Math.hypot(s,c,f))?(s*=b=1/b,c*=b,f*=b):(s=0,c=0,f=0),t[0]=a,t[1]=s,t[2]=l,t[3]=0,t[4]=o,t[5]=c,t[6]=h,t[7]=0,t[8]=u,t[9]=f,t[10]=d,t[11]=0,t[12]=-(a*v+o*g+u*m),t[13]=-(s*v+c*g+f*m),t[14]=-(l*v+h*g+d*m),t[15]=1,t)}function O(t,e){var r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=t[9],d=t[10],b=t[11],v=t[12],g=t[13],m=t[14],y=t[15],p=e[0],O=e[1],j=e[2],_=e[3],k=e[4],A=e[5],x=e[6],E=e[7],w=e[8],T=e[9],M=e[10],S=e[11],L=e[12],P=e[13],I=e[14],R=e[15];return Math.abs(r-p)<=n.b*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(i-O)<=n.b*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(a-j)<=n.b*Math.max(1,Math.abs(a),Math.abs(j))&&Math.abs(o-_)<=n.b*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(u-k)<=n.b*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(s-A)<=n.b*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(c-x)<=n.b*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(f-E)<=n.b*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(l-w)<=n.b*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(h-T)<=n.b*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(d-M)<=n.b*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(b-S)<=n.b*Math.max(1,Math.abs(b),Math.abs(S))&&Math.abs(v-L)<=n.b*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(g-P)<=n.b*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(m-I)<=n.b*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(y-R)<=n.b*Math.max(1,Math.abs(y),Math.abs(R))}},ZxFD:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"e",(function(){return a})),r.d(e,"b",(function(){return o})),r.d(e,"d",(function(){return u})),r.d(e,"c",(function(){return s})),r.d(e,"g",(function(){return c})),r.d(e,"h",(function(){return f})),r.d(e,"i",(function(){return l})),r.d(e,"j",(function(){return h})),r.d(e,"f",(function(){return v}));r("QFcT");var n=r("yU0y");function i(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function a(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function o(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function u(t,e){return t[0]=-e[0],t[1]=-e[1],t}function s(t,e,r,n){var i=e[0],a=e[1];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t}function c(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function f(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function l(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function h(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}var d,b,v=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t};d=new n.a(2),n.a!=Float32Array&&(d[0]=0,d[1]=0),b=d},a3TU:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"d",(function(){return u})),r.d(e,"e",(function(){return s})),r.d(e,"i",(function(){return f})),r.d(e,"h",(function(){return l})),r.d(e,"g",(function(){return h})),r.d(e,"a",(function(){return d})),r.d(e,"f",(function(){return b})),r.d(e,"c",(function(){return v}));r("U8pU"),r("RHh3"),r("KQm4"),r("tS8E");var n=1/Math.PI*180,i=1/180*Math.PI,a={};function o(t){return Math.round(t/a.EPSILON)*a.EPSILON}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.precision,n=void 0===r?a.precision||4:r;return t=o(t),"".concat(parseFloat(t.toPrecision(n)))}function s(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function c(t,e,r){if(s(t)){r=r||((i=t).clone?i.clone():new Array(i.length));for(var n=0;n<r.length&&n<t.length;++n)r[n]=e(t[n],n,r);return r}var i;return e(t)}function f(t){return h(t)}function l(t){return function(t,e){return c(t,(function(t){return t*n}),e)}(t)}function h(t,e){return c(t,(function(t){return t*i}),e)}function d(t,e,r){return c(t,(function(t){return Math.max(e,Math.min(r,t))}))}function b(t,e,r){return s(t)?t.map((function(t,n){return b(t,e[n],r)})):r*e+(1-r)*t}function v(t,e,r){var n=a.EPSILON;r&&(a.EPSILON=r);try{if(t===e)return!0;if(s(t)&&s(e)){if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(!v(t[i],e[i]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):!(!Number.isFinite(t)||!Number.isFinite(e))&&Math.abs(t-e)<=a.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{a.EPSILON=n}}a.EPSILON=1e-12,a.debug=!1,a.precision=4,a.printTypes=!1,a.printDegrees=!1,a.printRowMajor=!0},afO8:function(t,e,r){var n,i,a,o=r("f5p1"),u=r("2oRo"),s=r("hh1v"),c=r("kRJp"),f=r("UTVS"),l=r("93I0"),h=r("0BK2"),d=u.WeakMap;if(o){var b=new d,v=b.get,g=b.has,m=b.set;n=function(t,e){return m.call(b,t,e),e},i=function(t){return v.call(b,t)||{}},a=function(t){return g.call(b,t)}}else{var y=l("state");h[y]=!0,n=function(t,e){return c(t,y,e),e},i=function(t){return f(t,y)?t[y]:{}},a=function(t){return f(t,y)}}t.exports={set:n,get:i,has:a,enforce:function(t){return a(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!s(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},bl9R:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"g",(function(){return a})),r.d(e,"c",(function(){return o})),r.d(e,"l",(function(){return u})),r.d(e,"a",(function(){return s})),r.d(e,"k",(function(){return c})),r.d(e,"h",(function(){return f})),r.d(e,"m",(function(){return l})),r.d(e,"j",(function(){return h})),r.d(e,"d",(function(){return d})),r.d(e,"i",(function(){return b})),r.d(e,"n",(function(){return v})),r.d(e,"o",(function(){return g})),r.d(e,"f",(function(){return m})),r.d(e,"e",(function(){return y}));r("QFcT");var n=r("yU0y");function i(t){var e=new n.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e,r,i){var a=new n.a(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=i,a}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function u(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function s(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function c(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function f(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.hypot(e,r,n,i)}function l(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function h(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=a*o,t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function b(t,e,r,n){var i=e[0],a=e[1],o=e[2],u=e[3];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t[3]=u+n*(r[3]-u),t}function v(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,t}function g(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],u=r[1],s=r[2],c=r[3],f=c*n+u*a-s*i,l=c*i+s*n-o*a,h=c*a+o*i-u*n,d=-o*n-u*i-s*a;return t[0]=f*c+d*-o+l*-s-h*-u,t[1]=l*c+d*-u+h*-o-f*-s,t[2]=h*c+d*-s+f*-u-l*-o,t[3]=e[3],t}function m(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function y(t,e){var r=t[0],i=t[1],a=t[2],o=t[3],u=e[0],s=e[1],c=e[2],f=e[3];return Math.abs(r-u)<=n.b*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=n.b*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-c)<=n.b*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-f)<=n.b*Math.max(1,Math.abs(o),Math.abs(f))}var p,O;p=new n.a(4),n.a!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0,p[3]=0),O=p},bphH:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var n=r("1OyB"),i=r("md7G"),a=r("foSv"),o=r("JX7q"),u=r("vuIU"),s=r("Ji7U"),c=r("iein"),f=r("L8KH"),l=r("sc/6"),h=r("SUVH"),d=r("VdrS"),b=function(t){function e(t){var r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,e),Object(h.a)(t),(r=Object(i.a)(this,Object(a.a)(e).call(this,t,u))).initialize(u),r.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(Object(o.a)(r)),r}return Object(s.a)(e,t),Object(u.a)(e,null,[{key:"isSupported",value:function(t){return Object(c.f)(t)}}]),Object(u.a)(e,[{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,Object(d.a)(this.buffers)||this.bind((function(){return t._unbindBuffers()})),this.setProps(e),this}},{key:"setProps",value:function(t){"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"bindOnUse"in t&&(t=t.bindOnUse),"buffers"in t&&this.setBuffers(t.buffers)}},{key:"setBuffers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((function(){for(var r in e)t.setBuffer(r,e[r])})),this}},{key:"setBuffer",value:function(t,e){var r=this,n=this._getVaryingIndex(t),i=this._getBufferParams(e),a=i.buffer,o=i.byteSize,u=i.byteOffset;return n<0?(this.unused[t]=a,c.g.warn((function(){return"".concat(r.id," unused varying buffer ").concat(t)}))(),this):(this.buffers[n]=e,this.bindOnUse||this._bindBuffer(n,a,u,o),this)}},{key:"begin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(t),this}},{key:"end",value:function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}},{key:"_getBufferParams",value:function(t){var e,r,n;return t instanceof l.a==!1?(n=t.buffer,r=t.byteSize,e=t.byteOffset):n=t,void 0===e&&void 0===r||(e=e||0,r=r||n.byteLength-e),{buffer:n,byteOffset:e,byteSize:r}}},{key:"_getVaryingInfo",value:function(t){return this.configuration&&this.configuration.getVaryingInfo(t)}},{key:"_getVaryingIndex",value:function(t){if(this.configuration)return this.configuration.getVaryingInfo(t).location;var e=Number(t);return Number.isFinite(e)?e:-1}},{key:"_bindBuffers",value:function(){if(this.bindOnUse)for(var t in this.buffers){var e=this._getBufferParams(this.buffers[t]),r=e.buffer,n=e.byteSize,i=e.byteOffset;this._bindBuffer(t,r,i,n)}}},{key:"_unbindBuffers",value:function(){if(this.bindOnUse)for(var t in this.buffers)this._bindBuffer(t,null)}},{key:"_bindBuffer",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,i=e&&e.handle;return i&&void 0!==n?this.gl.bindBufferRange(35982,t,i,r,n):this.gl.bindBufferBase(35982,t,i),this}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}},{key:"_bindHandle",value:function(t){this.gl.bindTransformFeedback(36386,this.handle)}}]),e}(f.a)},busE:function(t,e,r){var n=r("2oRo"),i=r("kRJp"),a=r("UTVS"),o=r("zk60"),u=r("iSVu"),s=r("afO8"),c=s.get,f=s.enforce,l=String(String).split("String");(t.exports=function(t,e,r,u){var s=!!u&&!!u.unsafe,c=!!u&&!!u.enumerable,h=!!u&&!!u.noTargetGet;"function"==typeof r&&("string"!=typeof e||a(r,"name")||i(r,"name",e),f(r).source=l.join("string"==typeof e?e:"")),t!==n?(s?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=r:i(t,e,r)):c?t[e]=r:o(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u(this)}))},c9N0:function(t,e,r){"use strict";var n=r("VvNH");r.d(e,"a",(function(){return n.a})),r.d(e,"b",(function(){return n.b})),r.d(e,"c",(function(){return n.c})),r.d(e,"d",(function(){return n.d})),r.d(e,"e",(function(){return n.e})),r.d(e,"f",(function(){return n.f})),r.d(e,"g",(function(){return n.g})),r.d(e,"h",(function(){return n.h}))},d3kR:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return u})),r.d(e,"a",(function(){return s}));var n=r("tMmZ"),i=r("iein"),a=r("CxzY");function o(t,e){return u(t,e)}function u(t,e){return(e=Array.isArray(e)?e:[e]).every((function(e){return c(t,e)}))}function s(t){for(var e in t.luma=t.luma||{},t.luma.caps=t.luma.caps||{},n.b)void 0===t.luma.caps[e]&&(t.luma.caps[e]=c(t,e));return t.luma.caps}function c(t,e){return t.luma=t.luma||{},t.luma.caps=t.luma.caps||{},void 0===t.luma.caps[e]&&(t.luma.caps[e]=function(t,e){var r,o=n.b[e];Object(a.a)(o,e);var u=Object(i.f)(t)&&o[1]||o[0];if("function"==typeof u)r=u(t);else if(Array.isArray(u)){r=!0;var s=!0,c=!1,f=void 0;try{for(var l,h=u[Symbol.iterator]();!(s=(l=h.next()).done);s=!0){var d=l.value;r=r&&Boolean(t.getExtension(d))}}catch(b){c=!0,f=b}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}}else"string"==typeof u?r=Boolean(t.getExtension(u)):"boolean"==typeof u?r=u:Object(a.a)(!1);return r}(t,e)),t.luma.caps[e]||i.g.log(2,"Feature: ".concat(e," not supported"))(),t.luma.caps[e]}},"dBg+":function(t,e){e.f=Object.getOwnPropertySymbols},"eDl+":function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},f5Sf:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var n=r("1OyB"),i=r("md7G"),a=r("foSv"),o=r("JX7q"),u=r("vuIU"),s=r("Ji7U"),c=r("l6PP"),f=r("SUVH"),l=r("CxzY"),h="";function d(t,e){return Object(l.a)("string"==typeof t),t=h+t,new Promise((function(r,n){try{var i=new Image;i.onload=function(){return r(i)},i.onerror=function(){return n(new Error("Could not load image ".concat(t,".")))},i.crossOrigin=e&&e.crossOrigin||"anonymous",i.src=t}catch(a){n(a)}}))}var b=function(t){function e(t){var r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,e),Object(f.b)(t),(u instanceof Promise||"string"==typeof u)&&(u={data:u}),"string"==typeof u.data&&(u=Object.assign({},u,{data:d(u.data)})),(r=Object(i.a)(this,Object(a.a)(e).call(this,t,Object.assign({},u,{target:3553})))).initialize(u),Object.seal(Object(o.a)(r)),r}return Object(s.a)(e,t),Object(u.a)(e,null,[{key:"isSupported",value:function(t,e){return c.a.isSupported(t,e)}}]),e}(c.a)},f5p1:function(t,e,r){var n=r("2oRo"),i=r("iSVu"),a=n.WeakMap;t.exports="function"==typeof a&&/native code/.test(i(a))},fxzv:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r("1OyB"),i=r("vuIU"),a=r("md7G"),o=r("foSv"),u=r("Ji7U"),s=r("41X0"),c=r("+H0l"),f=r("a3TU"),l=function(t){function e(){return Object(n.a)(this,e),Object(a.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(i.a)(e,[{key:"toString",value:function(){var t="[";if(f.b.printRowMajor){t+="row-major:";for(var e=0;e<this.RANK;++e)for(var r=0;r<this.RANK;++r)t+=" ".concat(this[r*this.RANK+e])}else{t+="column-major:";for(var n=0;n<this.ELEMENTS;++n)t+=" ".concat(this[n])}return t+="]"}},{key:"getElementIndex",value:function(t,e){return e*this.RANK+t}},{key:"getElement",value:function(t,e){return this[e*this.RANK+t]}},{key:"setElement",value:function(t,e,r){return this[e*this.RANK+t]=Object(c.a)(r),this}},{key:"getColumn",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),r=t*this.RANK,n=0;n<this.RANK;++n)e[n]=this[r+n];return e}},{key:"setColumn",value:function(t,e){for(var r=t*this.RANK,n=0;n<this.RANK;++n)this[r+n]=e[n];return this}}]),e}(s.a)},g6k1:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"d",(function(){return o})),r.d(e,"f",(function(){return a})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return u})),r.d(e,"e",(function(){return c})),r.d(e,"g",(function(){return d})),r.d(e,"h",(function(){return b})),r.d(e,"i",(function(){return v}));var n=r("d3wX");function i(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}function a(t){for(var e in t)return!1;return!0}function o(t,e){if(t===e)return!0;var r=Array.isArray(t)||ArrayBuffer.isView(t),n=Array.isArray(e)||ArrayBuffer.isView(e);if(r&&n&&t.length===e.length){for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}return!1}function u(t){if(t.canvas&&t.luma){var e=t.luma.canvasSizeInfo.clientWidth;return e?t.drawingBufferWidth/e:1}return 1}function s(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=u(t),i=t.drawingBufferWidth,a=t.drawingBufferHeight;return f(e,n,i,a,r)}function c(t){var e="undefined"==typeof window?1:window.devicePixelRatio||1;return Number.isFinite(t)?t<=0?1:t:t?e:1}function f(t,e,r,n,i){var a,o=l(t[0],e,r),u=h(t[1],e,n,i),s=l(t[0]+1,e,r),c=s===r-1?s:s-1;return s=h(t[1]+1,e,n,i),i?(a=u,u=s=0===s?s:s+1):a=s===n-1?s:s-1,{x:o,y:u,width:Math.max(c-o+1,1),height:Math.max(a-u+1,1)}}function l(t,e,r){return Math.min(Math.round(t*e),r-1)}function h(t,e,r,n){return n?Math.max(0,r-1-Math.round(t*e)):Math.min(Math.round(t*e),r-1)}function d(t){return Boolean(t&&Number.isFinite(t._version))}function b(t){return Boolean(t&&2===t._version)}var v=new n.a({id:"luma.gl"})},"g6v/":function(t,e,r){var n=r("0Dky");t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},gXd2:function(t,e,r){"use strict";r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return s})),r.d(e,"d",(function(){return c}));var n=r("rp2x"),i=r("9Q0L"),a=r("g6k1");function o(t,e){if(Object(a.a)(Object(a.g)(t),"setParameters requires a WebGL context"),!Object(a.f)(e)){var r={};for(var i in e){var o=Number(i),u=n.e[i];u&&("string"==typeof u?r[u]=!0:u(t,e[i],o))}var s=t.state&&t.state.cache;if(s)for(var c in r){(0,n.a[c])(t,e,s)}}}function u(t,e){if("number"==typeof(e=e||n.c)){var r=e,i=n.d[r];return i?i(t,r):t.getParameter(r)}var a=Array.isArray(e)?e:Object.keys(e),o={},u=!0,s=!1,c=void 0;try{for(var f,l=a[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){var h=f.value,d=n.d[h];o[h]=d?d(t,Number(h)):t.getParameter(Number(h))}}catch(b){s=!0,c=b}finally{try{u||null==l.return||l.return()}finally{if(s)throw c}}return o}function s(t){o(t,n.c)}function c(t,e,r){if(Object(a.f)(e))return r(t);var n,u=e.nocatch,s=void 0===u||u;if(Object(i.c)(t),o(t,e),s)n=r(t),Object(i.b)(t);else try{n=r(t)}finally{Object(i.b)(t)}return n}},glrk:function(t,e,r){var n=r("hh1v");t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},hQ05:function(t,e,r){"use strict";r.d(e,"a",(function(){return x}));var n=r("U8pU"),i=r("o0o1"),a=r.n(i),o=r("HaE+"),u=r("1OyB"),s=r("vuIU"),c=r("iein"),f=r("rta6"),l=r("CxzY"),h=r("md7G"),d=r("foSv"),b=r("JX7q"),v=r("Ji7U"),g=r("L8KH"),m=r("d3kR"),y=r("tMmZ"),p=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.a)(this,e),(r=Object(h.a)(this,Object(d.a)(e).call(this,t,n))).target=null,r._queryPending=!1,r._pollingPromise=null,Object.seal(Object(b.a)(r)),r}return Object(v.a)(e,t),Object(s.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(c.f)(t),n=Object(m.c)(t,y.a.TIMER_QUERY),i=r||n,a=!0,o=!1,u=void 0;try{for(var s,f=e[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var h=s.value;switch(h){case"queries":i=i&&r;break;case"timers":i=i&&n;break;default:Object(l.a)(!1)}}}catch(d){o=!0,u=d}finally{try{a||null==f.return||f.return()}finally{if(o)throw u}}return i}}]),Object(s.a)(e,[{key:"beginTimeElapsedQuery",value:function(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.conservative,r=void 0!==e&&e;return this.begin(r?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(35976)}},{key:"begin",value:function(t){return this._queryPending||(this.target=t,this.gl.beginQuery(this.target,this.handle)),this}},{key:"end",value:function(){return this._queryPending||this.target&&(this.gl.endQuery(this.target),this.target=null,this._queryPending=!0),this}},{key:"isResultAvailable",value:function(){if(!this._queryPending)return!1;var t=this.gl.getQueryParameter(this.handle,34919);return t&&(this._queryPending=!1),t}},{key:"isTimerDisjoint",value:function(){return this.gl.getParameter(36795)}},{key:"getResult",value:function(){return this.gl.getQueryParameter(this.handle,34918)}},{key:"getTimerMilliseconds",value:function(){return this.getResult()/1e6}},{key:"createPoll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;var r=0;return this._pollingPromise=new Promise((function(n,i){requestAnimationFrame((function a(){t.isResultAvailable()?(n(t.getResult()),t._pollingPromise=null):r++>e?(i("Timed out"),t._pollingPromise=null):requestAnimationFrame(a)}))})),this._pollingPromise}},{key:"_createHandle",value:function(){return e.isSupported(this.gl)?this.gl.createQuery():null}},{key:"_deleteHandle",value:function(){this.gl.deleteQuery(this.handle)}}]),e}(g.a);function O(t){return"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}var j=r("11Ib"),_=r("xSaR"),k=Object(_.isBrowser)()&&"undefined"!=typeof document,A=0,x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(this,t);var r=e.onCreateContext,n=void 0===r?function(t){return Object(c.a)(t)}:r,i=e.onAddHTML,a=void 0===i?null:i,o=e.onInitialize,s=void 0===o?function(){}:o,l=e.onRender,h=void 0===l?function(){}:l,d=e.onFinalize,b=void 0===d?function(){}:d,v=e.onError,g=e.gl,m=void 0===g?null:g,y=e.glOptions,p=void 0===y?{}:y,O=e.debug,j=void 0!==O&&O,_=e.createFramebuffer,k=void 0!==_&&_,x=e.autoResizeViewport,E=void 0===x||x,w=e.autoResizeDrawingBuffer,T=void 0===w||w,M=e.stats,S=void 0===M?f.a.get("animation-loop-".concat(A++)):M,L=e.useDevicePixels,P=void 0===L||L;"useDevicePixelRatio"in e&&(c.g.deprecated("useDevicePixelRatio","useDevicePixels")(),P=e.useDevicePixelRatio),this.props={onCreateContext:n,onAddHTML:a,onInitialize:s,onRender:h,onFinalize:b,onError:v,gl:m,glOptions:p,debug:j,createFramebuffer:k},this.gl=m,this.needsRedraw=null,this.timeline=null,this.stats=S,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:E,autoResizeDrawingBuffer:T,useDevicePixels:P}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}var e;return Object(s.a)(t,[{key:"delete",value:function(){this.stop(),this._setDisplay(null)}},{key:"setNeedsRedraw",value:function(t){return Object(l.a)("string"==typeof t),this.needsRedraw=this.needsRedraw||t,this}},{key:"setProps",value:function(t){return"autoResizeViewport"in t&&(this.autoResizeViewport=t.autoResizeViewport),"autoResizeDrawingBuffer"in t&&(this.autoResizeDrawingBuffer=t.autoResizeDrawingBuffer),"useDevicePixels"in t&&(this.useDevicePixels=t.useDevicePixels),this}},{key:"start",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;var r=this._getPageLoadPromise().then((function(){return!t._running||t._initialized?null:(t._createWebGLContext(e),t._createFramebuffer(),t._startEventHandling(),t._initializeCallbackData(),t._updateCallbackData(),t._resizeCanvasDrawingBuffer(),t._resizeViewport(),t._gpuTimeQuery=p.isSupported(t.gl,["timers"])?new p(t.gl):null,t._initialized=!0,t.onInitialize(t.animationProps))})).then((function(e){t._running&&(t._addCallbackData(e||{}),!1!==e&&t._startLoop())}));return this.props.onError&&r.catch(this.props.onError),this}},{key:"redraw",value:function(){return this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers(),this}},{key:"stop",value:function(){return this._running&&(this._finalizeCallbackData(),O(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}},{key:"attachTimeline",value:function(t){return this.timeline=t,this.timeline}},{key:"detachTimeline",value:function(){this.timeline=null}},{key:"waitForRender",value:function(){var t=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((function(e){t._resolveNextFrame=e}))),this._nextFramePromise}},{key:"toDataURL",value:(e=Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setNeedsRedraw("toDataURL"),t.next=3,this.waitForRender();case 3:return t.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"onCreateContext",value:function(){var t;return(t=this.props).onCreateContext.apply(t,arguments)}},{key:"onInitialize",value:function(){var t;return(t=this.props).onInitialize.apply(t,arguments)}},{key:"onRender",value:function(){var t;return(t=this.props).onRender.apply(t,arguments)}},{key:"onFinalize",value:function(){var t;return(t=this.props).onFinalize.apply(t,arguments)}},{key:"getHTMLControlValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=document.getElementById(t);return r?Number(r.value):e}},{key:"setViewParameters",value:function(){return c.g.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}},{key:"_startLoop",value:function(){var t=this;O(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame((function e(){t._running&&(t.redraw(),t._animationFrameId=t._requestAnimationFrame(e))}))}},{key:"_getPageLoadPromise",value:function(){return this._pageLoadPromise||(this._pageLoadPromise=k?new Promise((function(t,e){k&&"complete"===document.readyState?t(document):window.addEventListener("load",(function(){t(document)}))})):Promise.resolve({})),this._pageLoadPromise}},{key:"_setDisplay",value:function(t){this.display&&(this.display.delete(),this.display.animationLoop=null),t&&(t.animationLoop=this),this.display=t}},{key:"_requestAnimationFrame",value:function(t){var e;this.display&&this.display.requestAnimationFrame(t)||(e=t,"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1e3/60))}},{key:"_renderFrame",value:function(){var t;this.display?(t=this.display)._renderFrame.apply(t,arguments):this.onRender.apply(this,arguments)}},{key:"_clearNeedsRedraw",value:function(){this.needsRedraw=null}},{key:"_setupFrame",value:function(){this._onSetupFrame?this._onSetupFrame(this.animationProps):(this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer())}},{key:"_initializeCallbackData",value:function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}},{key:"_updateCallbackData",value:function(){var t=this._getSizeAndAspect(),e=t.width,r=t.height,n=t.aspect;e===this.animationProps.width&&r===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=r,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}},{key:"_finalizeCallbackData",value:function(){this.onFinalize(this.animationProps)}},{key:"_addCallbackData",value:function(t){"object"===Object(n.a)(t)&&null!==t&&(this.animationProps=Object.assign({},this.animationProps,t))}},{key:"_createWebGLContext",value:function(t){if(this.offScreen=t.canvas&&"undefined"!=typeof OffscreenCanvas&&t.canvas instanceof OffscreenCanvas,t=Object.assign({},t,this.props.glOptions),this.gl=this.props.gl?Object(c.d)(this.props.gl,t):this.onCreateContext(t),!Object(c.e)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");Object(c.h)(this.gl),this._createInfoDiv()}},{key:"_createInfoDiv",value:function(){if(this.gl.canvas&&this.props.onAddHTML){var t=document.createElement("div");document.body.appendChild(t),t.style.position="relative";var e=document.createElement("div");e.style.position="absolute",e.style.left="10px",e.style.bottom="10px",e.style.width="300px",e.style.background="white",t.appendChild(this.gl.canvas),t.appendChild(e);var r=this.props.onAddHTML(e);r&&(e.innerHTML=r)}}},{key:"_getSizeAndAspect",value:function(){var t=this.gl.drawingBufferWidth,e=this.gl.drawingBufferHeight,r=1,n=this.gl.canvas;return n&&n.clientHeight?r=n.clientWidth/n.clientHeight:t>0&&e>0&&(r=t/e),{width:t,height:e,aspect:r}}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&Object(c.i)(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function(){this.props.createFramebuffer&&(this.framebuffer=new j.a(this.gl))}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}},{key:"_beginTimers",value:function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}},{key:"_endTimers",value:function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}},{key:"_startEventHandling",value:function(){var t=this.gl.canvas;t&&(t.addEventListener("mousemove",this._onMousemove),t.addEventListener("mouseleave",this._onMouseleave))}},{key:"_onMousemove",value:function(t){this.animationProps._mousePosition=[t.offsetX,t.offsetY]}},{key:"_onMouseleave",value:function(t){this.animationProps._mousePosition=null}}]),t}()},haqy:function(t,e,r){"use strict";r.d(e,"a",(function(){return R}));var n=r("1OyB"),i=r("vuIU"),a=r("ODXe"),o=r("rePB"),u=r("rMhL"),s=r("uzDn"),c=r("U8pU"),f={number:{validate:function(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},array:{validate:function(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function l(t){var e=h(t);return"object"===e?t?"type"in t?Object.assign({},t,f[t.type]):"value"in t?(e=h(t.value),Object.assign({type:e},t,f[e])):{type:"object",value:t}:{type:"object",value:null}:Object.assign({type:e,value:t},f[e])}function h(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":Object(c.a)(t)}var d=function(){function t(e){var r=e.name,i=e.vs,a=e.fs,o=e.dependencies,u=void 0===o?[]:o,c=e.uniforms,f=e.getUniforms,h=e.deprecations,d=void 0===h?[]:h,b=e.defines,v=void 0===b?{}:b,g=e.inject,m=void 0===g?{}:g,y=e.vertexShader,p=e.fragmentShader;Object(n.a)(this,t),Object(s.a)("string"==typeof r),this.name=r,this.vs=i||y,this.fs=a||p,this.getModuleUniforms=f,this.dependencies=u,this.deprecations=this._parseDeprecationDefinitions(d),this.defines=v,this.injections=function(t){var e={vs:{},fs:{}};for(var r in t){var n=t[r],i=r.slice(0,2);"string"==typeof n&&(n={injection:n}),e[i][r]=n}return e}(m),c&&(this.uniforms=function(t){var e={};for(var r in t){var n=l(t[r]);e[r]=n}return e}(c))}return Object(i.a)(t,[{key:"getModuleSource",value:function(t){var e;switch(t){case"vs":e=this.vs||"";break;case"fs":e=this.fs||"";break;default:Object(s.a)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(e,"// END MODULE_").concat(this.name,"\n\n")}},{key:"getUniforms",value:function(t,e){return this.getModuleUniforms?this.getModuleUniforms(t,e):this.uniforms?this._defaultGetUniforms(t):{}}},{key:"getDefines",value:function(){return this.defines}},{key:"checkDeprecations",value:function(t,e){this.deprecations.forEach((function(r){r.regex.test(t)&&(r.deprecated?e.deprecated(r.old,r.new)():e.removed(r.old,r.new)())}))}},{key:"_parseDeprecationDefinitions",value:function(t){return t.forEach((function(t){switch(t.type){case"function":t.regex=new RegExp("\\b".concat(t.old,"\\("));break;default:t.regex=new RegExp("".concat(t.type," ").concat(t.old,";"))}})),t}},{key:"_defaultGetUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={},r=this.uniforms;for(var n in r){var i=r[n];n in t&&!i.private?(i.validate&&Object(s.a)(i.validate(t[n],i),"".concat(this.name,": invalid ").concat(n)),e[n]=t[n]):e[n]=i.value}return e}}]),t}();function b(t){return v(function t(e,r){return e.map((function(e){return e instanceof d||(Object(s.a)("string"!=typeof e,"Shader module use by name is deprecated. Import shader module '".concat(e,"' and use it directly.")),Object(s.a)(e.name,"shader module has no name"),(e=new d(e)).dependencies=t(e.dependencies)),e}))}(t))}function v(t){var e={},r={};return g({modules:t,level:0,moduleMap:e,moduleDepth:r}),Object.keys(r).sort((function(t,e){return r[e]-r[t]})).map((function(t){return e[t]}))}function g(t){var e=t.modules,r=t.level,n=t.moduleMap,i=t.moduleDepth;if(r>=5)throw new Error("Possible loop in shader dependency graph");var a=!0,o=!1,u=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n[f.name]=f,(void 0===i[f.name]||i[f.name]<r)&&(i[f.name]=r)}}catch(y){o=!0,u=y}finally{try{a||null==c.return||c.return()}finally{if(o)throw u}}var l=!0,h=!1,d=void 0;try{for(var b,v=e[Symbol.iterator]();!(l=(b=v.next()).done);l=!0){var m=b.value;m.dependencies&&g({modules:m.dependencies,level:r+1,moduleMap:n,moduleDepth:i})}}catch(y){h=!0,d=y}finally{try{l||null==v.return||v.return()}finally{if(h)throw d}}}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="undefined"!=typeof window&&window.navigator||{},r=t.userAgent||e.userAgent||"",n=-1!==r.indexOf("MSIE "),i=-1!==r.indexOf("Trident/");return n||i}var y={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},p={};Object.keys(y).forEach((function(t){p[t]=t}));var O={};function j(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=y[e];if(Object(s.a)(n,e),!m(r))return!0;if(e in O)return O[e];var i=n[0],a=r.behavior||"enable",o="#extension GL_".concat(i," : ").concat(a,"\nvoid main(void) {}"),u=t.createShader(35633);t.shaderSource(u,o),t.compileShader(u);var c=t.getShaderParameter(u,35713);return t.deleteShader(u),O[e]=c,c}function _(t,e){var r=y[e];Object(s.a)(r,e);var n=function(t){return Boolean(t&&2===t._version)}(t)&&r[1]||r[0],i="string"==typeof n?Boolean(t.getExtension(n)):n;return Object(s.a)(!1===i||!0===i),i}function k(t,e){return(e=Array.isArray(e)?e:[e]).every((function(e){return _(t,e)}))}var A=r("rpxL");function x(t,e,r){switch(e){case 300:return r?function(t){return t.replace(/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n").replace(/^[ \t]*attribute[ \t]+(.+;)/gm,"in $1").replace(/^[ \t]*varying[ \t]+(.+;)/gm,"out $1").replace(/\btexture2D\(/g,"texture(").replace(/\btextureCube\(+/g,"texture(").replace(/\btexture2DLodEXT\(/g,"textureLod(").replace(/\btextureCubeLodEXT\(/g,"textureLod(")}(t):function(t){return t.replace(/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n").replace(/^[ \t]*varying[ \t]+(.+;)/gm,"in $1").replace(/\btexture2D\(/g,"texture(").replace(/\btextureCube\(/g,"texture(").replace(/\btexture2DLodEXT\(/g,"textureLod(").replace(/\btextureCubeLodEXT\(/g,"textureLod(")}(t);case 100:return r?function(t){return t.replace(/^#version[ \t]+300[ \t]+es/,"#version 100").replace(/^[ \t]*in[ \t]+(.+;)/gm,"attribute $1").replace(/^[ \t]*out[ \t]+(.+;)/gm,"varying $1").replace(/\btexture\(/g,"texture2D(").replace(/\btextureLod\(/g,"texture2DLodEXT(")}(t):function(t){var e=(t=t.replace(/^#version[ \t]+300[ \t]+es/,"#version 100").replace(/^[ \t]*in[ \t]+/gm,"varying ").replace(/\btexture\(/g,"texture2D(").replace(/\btextureLod\(/g,"texture2DLodEXT(")).match(w);if(e){var r=e[1];t=t.replace(w,"").replace(new RegExp("\\b".concat(r,"\\b"),"g"),"gl_FragColor")}return t}(t);default:throw new Error("unknown GLSL version ".concat(e))}}var E,w=/^[ \t]*out[ \t]+vec4[ \t]+(\w+)[ \t]*;\s+/m;var T="\n\n".concat(A.a,"\n\n"),M=(E={},Object(o.a)(E,u.b,"vertex"),Object(o.a)(E,u.a,"fragment"),E);function S(t,e){var r=e.vs,n=e.fs,i=b(e.modules||[]);return{gl:t,vs:L(t,Object.assign({},e,{source:r,type:u.b,modules:i})),fs:L(t,Object.assign({},e,{source:n,type:u.a,modules:i})),getUniforms:P(i)}}function L(t,e){var r=e.id,n=e.source,i=e.type,o=e.modules,c=e.defines,f=void 0===c?{}:c,l=e.hookFunctions,h=void 0===l?[]:l,d=e.inject,b=void 0===d?{}:d,v=e.transpileToGLSL100,g=void 0!==v&&v,m=e.prologue,y=void 0===m||m,O=e.log;Object(s.a)("string"==typeof n,"shader source must be a string");var _=i===u.b,E=n.split("\n"),w=100,S="",L=n;0===E[0].indexOf("#version ")?(w=300,S=E[0],L=E.slice(1).join("\n")):S="#version ".concat(w);var P={};o.forEach((function(t){Object.assign(P,t.getDefines())})),Object.assign(P,f);var I=y?"".concat(S,"\n").concat(function(t){var e=t.id,r=t.source,n=t.type;return e&&"string"==typeof e&&-1===r.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(e,"_").concat(M[n],"\n\n"):""}({id:r,source:n,type:i}),"\n").concat(function(t){var e=t.type;return"\n#define SHADER_TYPE_".concat(M[e].toUpperCase(),"\n")}({type:i}),"\n").concat(function(t){switch(function(t){var e=t.getExtension("WEBGL_debug_renderer_info"),r=t.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||7936),n=t.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||7937);return{gpuVendor:function(t,e){if(t.match(/NVIDIA/i)||e.match(/NVIDIA/i))return"NVIDIA";if(t.match(/INTEL/i)||e.match(/INTEL/i))return"INTEL";if(t.match(/AMD/i)||e.match(/AMD/i)||t.match(/ATI/i)||e.match(/ATI/i))return"AMD";return"UNKNOWN GPU"}(r,n),vendor:r,renderer:n,version:t.getParameter(7938),shadingLanguageVersion:t.getParameter(35724)}}(t).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(t),"\n").concat(function(t,e,r){var n="#if (__VERSION__ > 120)\n\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return k(t,p.GLSL_FRAG_DEPTH)&&(n+="// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),k(t,p.GLSL_DERIVATIVES)&&j(t,p.GLSL_DERIVATIVES)&&(n+="// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define DERIVATIVES\n#endif\n"),k(t,p.GLSL_FRAG_DATA)&&j(t,p.GLSL_FRAG_DATA,{behavior:"require"})&&(n+="// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define DRAW_BUFFERS\n#endif\n"),k(t,p.GLSL_TEXTURE_LOD)&&(n+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n# define TEXTURE_LOD\n#define texture2DLod texture2DLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define textureCubeLod textureCubeLodEXT\n#define texture2DGrad texture2DGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define textureCubeGrad textureCubeGradEXT\n#endif\n"),n}(t),"\n").concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,r="";for(var n in t){0===e&&(r+="\n// APPLICATION DEFINES\n"),e++;var i=t[n];(i||Number.isFinite(i))&&(r+="#define ".concat(n.toUpperCase()," ").concat(t[n],"\n"))}0===e&&(r+="\n");return r}(P),"\n").concat(_?"":"precision highp float;\n\n","\n"):"".concat(S,"\n");h=function(t){var e={vs:{},fs:{}};return t.forEach((function(t){var r;"string"!=typeof t?t=(r=t).hook:r={};var n=(t=t.trim()).split(":"),i=Object(a.a)(n,2),o=i[0],u=i[1],s=t.replace(/\(.+/,"");e[o][s]=Object.assign(r,{signature:u})})),e}(h);var R={},F={},D={};for(var B in b){var N="string"==typeof b[B]?{injection:b[B],order:0}:b[B],C=B.match(/^(v|f)s:(#)?([\w-]+)$/);if(C){var U=C[2],V=C[3];U?"decl"===V?F[B]=[N]:D[B]=[N]:R[B]=[N]}else D[B]=[N]}var G=!0,z=!1,H=void 0;try{for(var X,W=o[Symbol.iterator]();!(G=(X=W.next()).done);G=!0){var q=X.value;O&&q.checkDeprecations(L,O),I+=q.getModuleSource(i,w);var Y=q.injections[i];for(var Q in Y){var J=Q.match(/^(v|f)s:#([\w-]+)$/);if(J){var K="decl"===J[2]?F:D;K[Q]=K[Q]||[],K[Q].push(Y[Q])}else R[Q]=R[Q]||[],R[Q].push(Y[Q])}}}catch(Z){z=!0,H=Z}finally{try{G||null==W.return||W.return()}finally{if(z)throw H}}return I+=T,I=Object(A.c)(I,i,F),I+=function(t,e){var r="";for(var n in t){var i=t[n];if(r+="void ".concat(i.signature," {\n"),i.header&&(r+="  ".concat(i.header)),e[n]){var a=e[n];a.sort((function(t,e){return t.order-e.order}));var o=!0,u=!1,s=void 0;try{for(var c,f=a[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var l=c.value;r+="  ".concat(l.injection,"\n")}}catch(Z){u=!0,s=Z}finally{try{o||null==f.return||f.return()}finally{if(u)throw s}}}i.footer&&(r+="  ".concat(i.footer)),r+="}\n"}return r}(h[i],R),I+=L,I=x(I=Object(A.c)(I,i,D),g?100:w,_)}function P(t){return function(e){var r={},n=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var s=o.value.getUniforms(e,r);Object.assign(r,s)}}catch(c){i=!0,a=c}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return r}}var I=r("OklE"),R=function(){function t(e){Object(n.a)(this,t),this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}return Object(i.a)(t,null,[{key:"getDefaultProgramManager",value:function(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new t(e),e.luma.defaultProgramManager}}]),Object(i.a)(t,[{key:"addDefaultModule",value:function(t){this._defaultModules.find((function(e){return e.name===t.name}))||this._defaultModules.push(t),this.stateHash++}},{key:"removeDefaultModule",value:function(t){var e="string"==typeof t?t:t.name;this._defaultModules=this._defaultModules.filter((function(t){return t.name!==e})),this.stateHash++}},{key:"addShaderHook",value:function(t,e){e&&(t=Object.assign(e,{hook:t})),this._hookFunctions.push(t),this.stateHash++}},{key:"get",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.vs,n=void 0===r?"":r,i=e.fs,a=void 0===i?"":i,o=e.defines,u=void 0===o?{}:o,s=e.inject,c=void 0===s?{}:s,f=e.varyings,l=void 0===f?[]:f,h=e.bufferMode,d=void 0===h?35981:h,b=e.transpileToGLSL100,v=void 0!==b&&b,g=this._getModuleList(e.modules),m=this._getHash(n),y=this._getHash(a),p=g.map((function(e){return t._getHash(e.name)})).sort(),O=l.map((function(e){return t._getHash(e)})),j=Object.keys(u).sort(),_=Object.keys(c).sort(),k=[],A=[],x=!0,E=!1,w=void 0;try{for(var T,M=j[Symbol.iterator]();!(x=(T=M.next()).done);x=!0){var L=T.value;k.push(this._getHash(L)),k.push(this._getHash(u[L]))}}catch(V){E=!0,w=V}finally{try{x||null==M.return||M.return()}finally{if(E)throw w}}var P=!0,R=!1,F=void 0;try{for(var D,B=_[Symbol.iterator]();!(P=(D=B.next()).done);P=!0){var N=D.value;A.push(this._getHash(N)),A.push(this._getHash(c[N]))}}catch(V){R=!0,F=V}finally{try{P||null==B.return||B.return()}finally{if(R)throw F}}var C="".concat(m,"/").concat(y,"D").concat(k.join("/"),"M").concat(p.join("/"),"I").concat(A.join("/"),"V").concat(O.join("/"),"H").concat(this.stateHash,"B").concat(d).concat(v?"T":"");if(!this._programCache[C]){var U=S(this.gl,{vs:n,fs:a,modules:g,inject:c,defines:u,hookFunctions:this._hookFunctions,transpileToGLSL100:v});this._programCache[C]=new I.a(this.gl,{hash:C,vs:U.vs,fs:U.fs,varyings:l,bufferMode:d}),this._getUniforms[C]=U.getUniforms||function(t){},this._useCounts[C]=0}return this._useCounts[C]++,this._programCache[C]}},{key:"getUniforms",value:function(t){return this._getUniforms[t.hash]||null}},{key:"release",value:function(t){var e=t.hash;this._useCounts[e]--,0===this._useCounts[e]&&(this._programCache[e].delete(),delete this._programCache[e],delete this._getUniforms[e],delete this._useCounts[e])}},{key:"_getHash",value:function(t){return void 0===this._hashes[t]&&(this._hashes[t]=this._hashCounter++),this._hashes[t]}},{key:"_getModuleList",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=new Array(this._defaultModules.length+t.length),r={},n=0,i=0,a=this._defaultModules.length;i<a;++i){var o=this._defaultModules[i],u=o.name;e[n++]=o,r[u]=!0}for(var s=0,c=t.length;s<c;++s){var f=t[s],l=f.name;r[l]||(e[n++]=f,r[l]=!0)}return e.length=n,e}}]),t}()},hh1v:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},iSVu:function(t,e,r){var n=r("xs3f"),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},iein:function(t,e,r){"use strict";r.d(e,"j",(function(){return n.c})),r.d(e,"h",(function(){return n.b})),r.d(e,"k",(function(){return n.d})),r.d(e,"a",(function(){return f})),r.d(e,"i",(function(){return h})),r.d(e,"d",(function(){return l})),r.d(e,"g",(function(){return o.i})),r.d(e,"c",(function(){return o.c})),r.d(e,"b",(function(){return o.b})),r.d(e,"e",(function(){return o.g})),r.d(e,"f",(function(){return o.h}));r("Hogv");var n=r("gXd2"),i=r("9Q0L"),a=r("xSaR"),o=r("g6k1"),u=Object(a.isBrowser)(),s=u&&"undefined"!=typeof document,c={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(u,"createGLContext on available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils");var e,r=t=Object.assign({},c,t),n=r.width,i=r.height;function a(e){if(t.throwOnError)throw new Error(e);return console.error(e),null}t.onError=a;var s=t,f=s.canvas,h=b({canvas:f,width:n,height:i,onError:a});return(e=d(h,t))?(v(e=l(e,t)),e):null}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||t._instrumented)return t;t._version=t._version||g(t),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{};var r=e=Object.assign({},c,e),n=r.manageState,s=r.debug;return n&&Object(i.a)(t,{copyState:!1,log:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.i.log.apply(o.i,[1].concat(e))()}}),u&&s&&(a.global.makeDebugContext?(t=a.global.makeDebugContext(t,e),o.i.level=Math.max(o.i.level,1)):o.i.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),t._instrumented=!0,t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.canvas){var r=Object(o.e)(e.useDevicePixels);m(t,r,e)}else{var n=t.getExtension("STACKGL_resize_drawingbuffer");n&&"width"in e&&"height"in e&&n.resize(e.width,e.height)}}function d(t,e){var r=e.onError,n=function(t){return r("WebGL context: ".concat(t.statusMessage||"error"))};t.addEventListener("webglcontextcreationerror",n,!1);var i=e.webgl1,a=void 0===i||i,o=e.webgl2,u=void 0===o||o,s=null;return u&&(s=(s=s||t.getContext("webgl2",e))||t.getContext("experimental-webgl2",e)),a&&(s=(s=s||t.getContext("webgl",e))||t.getContext("experimental-webgl",e)),t.removeEventListener("webglcontextcreationerror",n,!1),s||r("Failed to create ".concat(u&&!a?"WebGL2":"WebGL"," context"))}function b(t){var e,r=t.canvas,n=t.width,i=void 0===n?800:n,a=t.height,o=void 0===a?600:a,u=t.onError;"string"==typeof r?(s&&"complete"===document.readyState||u("createGLContext called on canvas '".concat(r,"' before page was loaded")),e=document.getElementById(r)):r?e=r:((e=document.createElement("canvas")).id="lumagl-canvas",e.style.width=Number.isFinite(i)?"".concat(i,"px"):"100%",e.style.height=Number.isFinite(o)?"".concat(o,"px"):"100%",document.body.insertBefore(e,document.body.firstChild));return e}function v(t){var e=Object(o.h)(t)?"WebGL2":"WebGL1",r=function(t){var e=t.getParameter(7936),r=t.getParameter(7937),n=t.getExtension("WEBGL_debug_renderer_info");return{vendor:n&&t.getParameter(n.UNMASKED_VENDOR_WEBGL||7936)||e,renderer:n&&t.getParameter(n.UNMASKED_RENDERER_WEBGL||7937)||r,vendorMasked:e,rendererMasked:r,version:t.getParameter(7938),shadingLanguageVersion:t.getParameter(35724)}}(t),n=r?"(".concat(r.vendor,",").concat(r.renderer,")"):"",i=t.debug?" debug":"";o.i.info(1,"".concat(e).concat(i," context ").concat(n))()}function g(t){return"undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext?2:1}function m(t,e,r){var n="width"in r?r.width:t.canvas.clientWidth,i="height"in r?r.height:t.canvas.clientHeight;n&&i||(o.i.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,n=t.canvas.width||1,i=t.canvas.height||1),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{};var a=t.luma.canvasSizeInfo;if(a.clientWidth!==n||a.clientHeight!==i||a.devicePixelRatio!==e){var u=e,s=Math.floor(n*u),c=Math.floor(i*u);t.canvas.width=s,t.canvas.height=c,t.drawingBufferWidth===s&&t.drawingBufferHeight===c||(o.i.warn("Device pixel ratio clamped")(),u=Math.min(t.drawingBufferWidth/n,t.drawingBufferHeight/i),t.canvas.width=Math.floor(n*u),t.canvas.height=Math.floor(i*u)),Object.assign(t.luma.canvasSizeInfo,{clientWidth:n,clientHeight:i,devicePixelRatio:e})}}},jWbo:function(t,e,r){"use strict";(function(t,n){var i=r("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.console=e.process=e.document=e.global=e.window=e.self=void 0;var a=i(r("cDf5")),o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t,document:"undefined"!=typeof document&&document,process:"object"===(void 0===n?"undefined":(0,a.default)(n))&&n},u=o.self||o.window||o.global;e.self=u;var s=o.window||o.self||o.global;e.window=s;var c=o.global||o.self||o.window;e.global=c;var f=o.document||{};e.document=f;var l=o.process||{};e.process=l;var h=console;e.console=h}).call(this,r("yLpj"),r("8oxB"))},kD43:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r("o0o1"),i=r.n(n),a=(r("wcNg"),r("HaE+")),o=r("VLYs"),u=r(12),s=r("P+ME"),c="undefined"!=typeof __VERSION__?__VERSION__:"beta",f={};function l(t,e,r){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(i.a.mark((function t(e,r,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=null),void 0===n&&(n={}),r&&(e=d(e,r,n)),f[e]=f[e]||b(e),t.next=6,f[e];case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t,e,r){var n=r.modules||{};return n[t]?n[t]:o.b?r.CDN?(Object(s.a)(r.CDN.startsWith("http")),r.CDN+"/"+e+"@"+c+"/dist/libs/"+t):o.c?"../src/libs/"+t:"modules/"+e+"/src/libs/"+t:"modules/"+e+"/dist/libs/"+t}function b(t){return v.apply(this,arguments)}function v(){return(v=Object(a.a)(i.a.mark((function t(e){var r,n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.endsWith("wasm")){t.next=7;break}return t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.arrayBuffer();case 6:return t.abrupt("return",t.sent);case 7:if(o.b){t.next=9;break}return t.abrupt("return",Object(u.requireFromFile)(e));case 9:if(!o.c){t.next=11;break}return t.abrupt("return",importScripts(e));case 11:return t.next=13,fetch(e);case 13:return n=t.sent,t.next=16,n.text();case 16:return a=t.sent,t.abrupt("return",g(a,e));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,e){if(!o.b)return Object(u.requireFromString)(t,e);if(o.c)return eval.call(o.a,t),null;var r=document.createElement("script");r.id=e;try{r.appendChild(document.createTextNode(t))}catch(n){r.text=t}return document.body.appendChild(r),null}},kOOl:function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},kRJp:function(t,e,r){var n=r("g6v/"),i=r("m/L8"),a=r("XGwC");t.exports=n?function(t,e,r){return i.f(t,e,a(1,r))}:function(t,e,r){return t[e]=r,t}},l6PP:function(t,e,r){"use strict";r.d(e,"a",(function(){return y}));var n=r("1OyB"),i=r("md7G"),a=r("foSv"),o=r("vuIU"),u=r("Ji7U"),s=r("L8KH"),c=r("sc/6"),f=r("uYBD"),l=r("iein"),h=r("xSaR"),d=r("SUVH"),b=r("VdrS"),v=r("CxzY"),g=[9729,9728],m=h.global.WebGLBuffer||function(){},y=function(t){function e(t,r){var o;Object(n.a)(this,e);var u=r.id,s=void 0===u?Object(b.c)("texture"):u,c=r.handle,f=r.target;return(o=Object(i.a)(this,Object(a.a)(e).call(this,t,{id:s,handle:c}))).target=f,o.textureUnit=void 0,o.loaded=!1,o.width=void 0,o.height=void 0,o.depth=void 0,o.format=void 0,o.type=void 0,o.dataFormat=void 0,o.border=void 0,o.textureUnit=void 0,o.mipmaps=void 0,o}return Object(u.a)(e,t),Object(o.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.format,n=e.linearFiltering,i=!0;return r&&(i=(i=i&&Object(f.d)(t,r))&&(!n||Object(f.e)(t,r))),i}}]),Object(o.a)(e,[{key:"toString",value:function(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.data;if(r instanceof Promise)return r.then((function(r){return t.initialize(Object.assign({},e,{pixels:r,data:r}))})),this;var n=e.pixels,i=void 0===n?null:n,a=e.format,o=void 0===a?6408:a,u=e.border,s=void 0===u?0:u,c=e.recreate,f=void 0!==c&&c,h=e.parameters,d=void 0===h?{}:h,b=e.pixelStore,v=void 0===b?{}:b,g=e.textureUnit,m=void 0===g?void 0:g,y=e.mipmaps,p=void 0===y||y;r||(r=i);var O=e.width,j=e.height,_=e.dataFormat,k=e.type,A=e.depth,x=void 0===A?0:A,E=this._deduceParameters({format:o,type:k,dataFormat:_,compressed:!1,data:r,width:O,height:j});return O=E.width,j=E.height,_=E.dataFormat,k=E.type,this.width=O,this.height=j,this.depth=x,this.format=o,this.type=k,this.dataFormat=_,this.border=s,this.textureUnit=m,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),p&&this._isNPOT()&&(l.g.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),p=!1,this._updateForNPOT(d)),this.mipmaps=p,this.setImageData({data:r,width:O,height:j,depth:x,format:o,type:k,dataFormat:_,border:s,mipmaps:p,parameters:v}),p&&this.generateMipmap(),this.setParameters(d),f&&(this.data=r),this}},{key:"resize",value:function(t){var e=t.height,r=t.width,n=t.mipmaps,i=void 0!==n&&n;return r!==this.width||e!==this.height?this.initialize({width:r,height:e,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:i}):this}},{key:"generateMipmap",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(l.g.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Object(l.k)(this.gl,e,(function(){t.gl.generateMipmap(t.target)})),this.gl.bindTexture(this.target,null),this)}},{key:"setImageData",value:function(t){this._trackDeallocatedMemory("Texture");var e=t.target,r=void 0===e?this.target:e,n=t.pixels,i=void 0===n?null:n,a=t.level,o=void 0===a?0:a,u=t.format,s=void 0===u?this.format:u,c=t.border,h=void 0===c?this.border:c,b=t.offset,g=void 0===b?0:b,m=t.parameters,y=void 0===m?{}:m,p=t.data,O=void 0===p?null:p,j=t.type,_=void 0===j?this.type:j,k=t.width,A=void 0===k?this.width:k,x=t.height,E=void 0===x?this.height:x,w=t.dataFormat,T=void 0===w?this.dataFormat:w,M=t.compressed,S=void 0!==M&&M;O||(O=i);var L=this._deduceParameters({format:s,type:_,dataFormat:T,compressed:S,data:O,width:A,height:E});_=L.type,T=L.dataFormat,S=L.compressed,A=L.width,E=L.height;var P=this.gl;P.bindTexture(this.target,this.handle);var I,R=this._getDataType({data:O,compressed:S});if(O=R.data,I=R.dataType,Object(l.k)(this.gl,y,(function(){switch(I){case"null":P.texImage2D(r,o,s,A,E,h,T,_,O);break;case"typed-array":P.texImage2D(r,o,s,A,E,h,T,_,O,g);break;case"buffer":Object(d.a)(P),P.bindBuffer(35052,O.handle||O),P.texImage2D(r,o,s,A,E,h,T,_,g),P.bindBuffer(35052,null);break;case"browser-object":Object(l.f)(P)?P.texImage2D(r,o,s,A,E,h,T,_,O):P.texImage2D(r,o,s,T,_,O);break;case"compressed":P.compressedTexImage2D(r,o,s,A,E,h,O);break;default:Object(v.a)(!1,"Unknown image data type")}})),O&&O.byteLength)this._trackAllocatedMemory(O.byteLength,"Texture");else{var F=f.a[this.dataFormat]||4,D=f.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*F*D,"Texture")}return this.loaded=!0,this}},{key:"setSubImageData",value:function(t){var e=this,r=t.target,n=void 0===r?this.target:r,i=t.pixels,a=void 0===i?null:i,o=t.data,u=void 0===o?null:o,s=t.x,f=void 0===s?0:s,h=t.y,b=void 0===h?0:h,g=t.width,y=void 0===g?this.width:g,p=t.height,O=void 0===p?this.height:p,j=t.level,_=void 0===j?0:j,k=t.format,A=void 0===k?this.format:k,x=t.type,E=void 0===x?this.type:x,w=t.dataFormat,T=void 0===w?this.dataFormat:w,M=t.compressed,S=void 0!==M&&M,L=t.offset,P=void 0===L?0:L,I=t.border,R=(void 0===I&&this.border,t.parameters),F=void 0===R?{}:R,D=this._deduceParameters({format:A,type:E,dataFormat:T,compressed:S,data:u,width:y,height:O});if(E=D.type,T=D.dataFormat,S=D.compressed,y=D.width,O=D.height,Object(v.a)(0===this.depth,"texSubImage not supported for 3D textures"),u||(u=a),u&&u.data){var B=u;u=B.data,y=B.shape[0],O=B.shape[1]}u instanceof c.a&&(u=u.handle),this.gl.bindTexture(this.target,this.handle),Object(l.k)(this.gl,F,(function(){S?e.gl.compressedTexSubImage2D(n,_,f,b,y,O,A,u):null===u?e.gl.texSubImage2D(n,_,f,b,y,O,T,E,null):ArrayBuffer.isView(u)?e.gl.texSubImage2D(n,_,f,b,y,O,T,E,u,P):u instanceof m?(Object(d.a)(e.gl),e.gl.bindBuffer(35052,u),e.gl.texSubImage2D(n,_,f,b,y,O,T,E,P),e.gl.bindBuffer(35052,null)):Object(l.f)(e.gl)?e.gl.texSubImage2D(n,_,f,b,y,O,T,E,u):e.gl.texSubImage2D(n,_,f,b,T,E,u)})),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(){return l.g.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,e=this.gl;return void 0!==t&&(this.textureUnit=t,e.activeTexture(33984+t)),e.bindTexture(this.target,this.handle),t}},{key:"unbind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,e=this.gl;return void 0!==t&&(this.textureUnit=t,e.activeTexture(33984+t)),e.bindTexture(this.target,null),t}},{key:"_getDataType",value:function(t){var e=t.data,r=t.compressed;return void 0!==r&&r?{data:e,dataType:"compressed"}:null===e?{data:e,dataType:"null"}:ArrayBuffer.isView(e)?{data:e,dataType:"typed-array"}:e instanceof c.a?{data:e.handle,dataType:"buffer"}:e instanceof m?{data:e,dataType:"buffer"}:{data:e,dataType:"browser-object"}}},{key:"_deduceParameters",value:function(t){var e=t.format,r=t.data,n=t.width,i=t.height,a=t.dataFormat,o=t.type,u=t.compressed,s=f.b[e];a=a||s&&s.dataFormat,o=o||s&&s.types[0],u=u||s&&s.compressed;var c=this._deduceImageSize(r,n,i);return{dataFormat:a,type:o,compressed:u,width:n=c.width,height:i=c.height,format:e,data:r}}},{key:"_deduceImageSize",value:function(t,e,r){var n;return n="undefined"!=typeof ImageData&&t instanceof ImageData?{width:t.width,height:t.height}:"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement?{width:t.naturalWidth,height:t.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?{width:t.width,height:t.height}:"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t?{width:e,height:r}:{width:e>=0?e:1,height:r>=0?r:1},Object(v.a)(n,"Could not deduced texture size"),Object(v.a)(void 0===e||n.width===e,"Deduced texture width does not match supplied width"),Object(v.a)(void 0===r||n.height===r,"Deduced texture height does not match supplied height"),n}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}},{key:"_getParameter",value:function(t){switch(t){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);var e=this.gl.getTexParameter(this.target,t);return this.gl.bindTexture(this.target,null),e}}},{key:"_setParameter",value:function(t,e){switch(this.gl.bindTexture(this.target,this.handle),e=this._getNPOTParam(t,e),t){case 33082:case 33083:this.gl.texParameterf(this.handle,t,e);break;case 4096:case 4097:Object(v.a)(!1);break;default:this.gl.texParameteri(this.target,t,e)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!Object(l.f)(this.gl)&&(!(!this.width||!this.height)&&(!Object(b.b)(this.width)||!Object(b.b)(this.height)))}},{key:"_updateForNPOT",value:function(t){void 0===t[this.gl.TEXTURE_MIN_FILTER]&&(t[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===t[this.gl.TEXTURE_WRAP_S]&&(t[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===t[this.gl.TEXTURE_WRAP_T]&&(t[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(t,e){if(this._isNPOT())switch(t){case 10241:-1===g.indexOf(e)&&(e=9729);break;case 10242:case 10243:33071!==e&&(e=33071)}return e}}]),e}(s.a)},lMq5:function(t,e,r){var n=r("0Dky"),i=/#|\.prototype\./,a=function(t,e){var r=u[o(t)];return r==c||r!=s&&("function"==typeof e?n(e):!!e)},o=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=a.data={},s=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},"m/L8":function(t,e,r){var n=r("g6v/"),i=r("DPsx"),a=r("glrk"),o=r("wE6v"),u=Object.defineProperty;e.f=n?u:function(t,e,r){if(a(t),e=o(e,!0),a(r),i)try{return u(t,e,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},"n+fv":function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"g",(function(){return a})),r.d(e,"e",(function(){return o})),r.d(e,"h",(function(){return u})),r.d(e,"i",(function(){return s})),r.d(e,"d",(function(){return c})),r.d(e,"c",(function(){return f})),r.d(e,"o",(function(){return l})),r.d(e,"n",(function(){return h})),r.d(e,"p",(function(){return d})),r.d(e,"j",(function(){return b})),r.d(e,"k",(function(){return v})),r.d(e,"l",(function(){return g})),r.d(e,"a",(function(){return m})),r.d(e,"m",(function(){return p})),r.d(e,"f",(function(){return O}));r("QFcT");var n=r("yU0y");function i(){var t=new n.a(3);return n.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function a(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function o(t,e,r){var i=new n.a(3);return i[0]=t,i[1]=e,i[2]=r,i}function u(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function s(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function c(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function f(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],u=r[1],s=r[2];return t[0]=i*s-a*u,t[1]=a*o-n*s,t[2]=n*u-i*o,t}function l(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,t[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,t[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,t}function h(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t}function d(t,e,r){var n=r[0],i=r[1],a=r[2],o=r[3],u=e[0],s=e[1],c=e[2],f=i*c-a*s,l=a*u-n*c,h=n*s-i*u,d=i*h-a*l,b=a*f-n*h,v=n*l-i*f,g=2*o;return f*=g,l*=g,h*=g,d*=2,b*=2,v*=2,t[0]=u+f+d,t[1]=s+l+b,t[2]=c+h+v,t}function b(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function v(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function g(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function m(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],u=e[2],s=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(a*a+o*o+u*u),f=s&&c(t,e)/s;return Math.acos(Math.min(Math.max(f,-1),1))}var y,p=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t},O=a;y=i()},n4Ve:function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));var n,i=r("1OyB"),a=r("md7G"),o=r("foSv"),u=r("JX7q"),s=r("vuIU"),c=r("Ji7U"),f=r("L8KH"),l=r("rePB"),h="EXT_color_buffer_float",d=(n={},Object(l.a)(n,33189,{bpp:2}),Object(l.a)(n,33190,{gl2:!0,bpp:3}),Object(l.a)(n,36012,{gl2:!0,bpp:4}),Object(l.a)(n,36168,{bpp:1}),Object(l.a)(n,34041,{bpp:4}),Object(l.a)(n,35056,{gl2:!0,bpp:4}),Object(l.a)(n,36013,{gl2:!0,bpp:5}),Object(l.a)(n,32854,{bpp:2}),Object(l.a)(n,36194,{bpp:2}),Object(l.a)(n,32855,{bpp:2}),Object(l.a)(n,33321,{gl2:!0,bpp:1}),Object(l.a)(n,33330,{gl2:!0,bpp:1}),Object(l.a)(n,33329,{gl2:!0,bpp:1}),Object(l.a)(n,33332,{gl2:!0,bpp:2}),Object(l.a)(n,33331,{gl2:!0,bpp:2}),Object(l.a)(n,33334,{gl2:!0,bpp:4}),Object(l.a)(n,33333,{gl2:!0,bpp:4}),Object(l.a)(n,33323,{gl2:!0,bpp:2}),Object(l.a)(n,33336,{gl2:!0,bpp:2}),Object(l.a)(n,33335,{gl2:!0,bpp:2}),Object(l.a)(n,33338,{gl2:!0,bpp:4}),Object(l.a)(n,33337,{gl2:!0,bpp:4}),Object(l.a)(n,33340,{gl2:!0,bpp:8}),Object(l.a)(n,33339,{gl2:!0,bpp:8}),Object(l.a)(n,32849,{gl2:!0,bpp:3}),Object(l.a)(n,32856,{gl2:!0,bpp:4}),Object(l.a)(n,32857,{gl2:!0,bpp:4}),Object(l.a)(n,36220,{gl2:!0,bpp:4}),Object(l.a)(n,36238,{gl2:!0,bpp:4}),Object(l.a)(n,36975,{gl2:!0,bpp:4}),Object(l.a)(n,36214,{gl2:!0,bpp:8}),Object(l.a)(n,36232,{gl2:!0,bpp:8}),Object(l.a)(n,36226,{gl2:!0,bpp:16}),Object(l.a)(n,36208,{gl2:!0,bpp:16}),Object(l.a)(n,33325,{gl2:h,bpp:2}),Object(l.a)(n,33327,{gl2:h,bpp:4}),Object(l.a)(n,34842,{gl2:h,bpp:8}),Object(l.a)(n,33326,{gl2:h,bpp:4}),Object(l.a)(n,33328,{gl2:h,bpp:8}),Object(l.a)(n,34836,{gl2:h,bpp:16}),Object(l.a)(n,35898,{gl2:h,bpp:4}),n),b=r("iein"),v=r("CxzY");function g(t,e,r){var n=r[e];if(!n)return!1;var i=Object(b.f)(t)&&n.gl2||n.gl1;return"string"==typeof i?t.getExtension(i):i}var m=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,e),(r=Object(a.a)(this,Object(o.a)(e).call(this,t,n))).initialize(n),Object.seal(Object(u.a)(r)),r}return Object(c.a)(e,t),Object(s.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.format;return!r||g(t,r,d)}},{key:"getSamplesForFormat",value:function(t,e){var r=e.format;return t.getInternalformatParameter(36161,r,32937)}}]),Object(s.a)(e,[{key:"initialize",value:function(t){var e=t.format,r=t.width,n=void 0===r?1:r,i=t.height,a=void 0===i?1:i,o=t.samples,u=void 0===o?0:o;return Object(v.a)(e,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==u&&Object(b.f)(this.gl)?this.gl.renderbufferStorageMultisample(36161,u,e,n,a):this.gl.renderbufferStorage(36161,e,n,a),this.format=e,this.width=n,this.height=a,this.samples=u,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*d[this.format].bpp),this}},{key:"resize",value:function(t){var e=t.width,r=t.height;return e!==this.width||r!==this.height?this.initialize({width:e,height:r,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_bindHandle",value:function(t){this.gl.bindRenderbuffer(36161,t)}},{key:"_syncHandle",value:function(t){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(t){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,t)}}]),e}(f.a)},oejM:function(t,e,r){"use strict";r.d(e,"c",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return f}));var n,i=r("ODXe"),a=r("rePB"),o=r("CxzY"),u=(n={},Object(a.a)(n,5126,[5126,1,"float"]),Object(a.a)(n,35664,[5126,2,"vec2"]),Object(a.a)(n,35665,[5126,3,"vec3"]),Object(a.a)(n,35666,[5126,4,"vec4"]),Object(a.a)(n,5124,[5124,1,"int"]),Object(a.a)(n,35667,[5124,2,"ivec2"]),Object(a.a)(n,35668,[5124,3,"ivec3"]),Object(a.a)(n,35669,[5124,4,"ivec4"]),Object(a.a)(n,5125,[5125,1,"uint"]),Object(a.a)(n,36294,[5125,2,"uvec2"]),Object(a.a)(n,36295,[5125,3,"uvec3"]),Object(a.a)(n,36296,[5125,4,"uvec4"]),Object(a.a)(n,35670,[5126,1,"bool"]),Object(a.a)(n,35671,[5126,2,"bvec2"]),Object(a.a)(n,35672,[5126,3,"bvec3"]),Object(a.a)(n,35673,[5126,4,"bvec4"]),Object(a.a)(n,35674,[5126,8,"mat2"]),Object(a.a)(n,35685,[5126,8,"mat2x3"]),Object(a.a)(n,35686,[5126,8,"mat2x4"]),Object(a.a)(n,35675,[5126,12,"mat3"]),Object(a.a)(n,35687,[5126,12,"mat3x2"]),Object(a.a)(n,35688,[5126,12,"mat3x4"]),Object(a.a)(n,35676,[5126,16,"mat4"]),Object(a.a)(n,35689,[5126,16,"mat4x2"]),Object(a.a)(n,35690,[5126,16,"mat4x3"]),n);function s(t){switch(t){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return Object(o.a)(!1),0}}function c(t){var e=u[t];if(!e)return null;var r=Object(i.a)(e,2);return{type:r[0],components:r[1]}}function f(t,e){switch(t){case 5120:case 5121:case 5122:case 5123:t=5126}for(var r in u){var n=Object(i.a)(u[r],3),a=n[0],o=n[1],s=n[2];if(a===t&&o===e)return{glType:r,name:s}}return null}},p7wt:function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return c}));r("sc/6");var n=r("11Ib"),i=(r("l6PP"),r("iein"),r("SUVH"),r("B9+J")),a=r("CxzY");function o(t){switch(t){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return Object(a.a)(!1),0}}var u=r("MdWm");function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.sourceX,n=void 0===r?0:r,o=e.sourceY,u=void 0===o?0:o,s=e.sourceFormat,c=void 0===s?6408:s,h=e.sourceAttachment,d=void 0===h?36064:h,b=e.target,v=void 0===b?null:b,g=e.sourceWidth,m=e.sourceHeight,y=e.sourceType,p=f(t),O=p.framebuffer,j=p.deleteFramebuffer;Object(a.a)(O);var _=O.gl,k=O.handle,A=O.attachments;g=g||O.width,m=m||O.height,36064===d&&null===k&&(d=1028),Object(a.a)(A[d]),v=l(v,y=y||A[d].type,c,g,m),y=y||Object(i.b)(v);var x=_.bindFramebuffer(36160,k);return _.readPixels(n,u,g,m,c,y,v),_.bindFramebuffer(36160,x||null),j&&O.delete(),v}function c(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.sourceAttachment,n=void 0===r?36064:r,a=e.targetMaxHeight,o=void 0===a?Number.MAX_SAFE_INTEGER:a,u=s(t,{sourceAttachment:n}),c=t.width,f=t.height;f>o;){var l=Object(i.d)({data:u,width:c,height:f});u=l.data,c=l.width,f=l.height}Object(i.a)({data:u,width:c,height:f});var h=document.createElement("canvas");h.width=c,h.height=f;var d=h.getContext("2d"),b=d.createImageData(c,f);return b.data.set(u),d.putImageData(b,0,0),h.toDataURL()}function f(t){return t instanceof n.a?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:Object(u.b)(t),deleteFramebuffer:!0}}function l(t,e,r,n,a){return t||(e=e||5121,new(Object(i.c)(e,{clamped:!1}))(n*a*o(r)))}},pRFE:function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return s}));var n=r("ODXe"),i=r("iein"),a=r("SUVH"),o=r("CxzY");function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.framebuffer,n=void 0===r?null:r,a=e.color,u=void 0===a?null:a,s=e.depth,c=void 0===s?null:s,f=e.stencil,l=void 0===f?null:f,h={};n&&(h.framebuffer=n);var d=0;u&&(d|=16384,!0!==u&&(h.clearColor=u)),c&&(d|=256,!0!==c&&(h.clearDepth=c)),l&&(d|=1024,!0!==c&&(h.clearStencil=c)),Object(o.a)(0!==d,"clear: bad arguments"),Object(i.k)(t,h,(function(){t.clear(d)}))}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.framebuffer,u=void 0===r?null:r,s=e.buffer,c=void 0===s?6144:s,f=e.drawBuffer,l=void 0===f?0:f,h=e.value,d=void 0===h?[0,0,0,0]:h;Object(a.a)(t),Object(i.k)(t,{framebuffer:u},(function(){switch(c){case 6144:switch(d.constructor){case Int32Array:t.clearBufferiv(c,l,d);break;case Uint32Array:t.clearBufferuiv(c,l,d);break;case Float32Array:default:t.clearBufferfv(c,l,d)}break;case 6145:t.clearBufferfv(6145,0,[d]);break;case 6146:t.clearBufferiv(6146,0,[d]);break;case 34041:var e=Object(n.a)(d,2),r=e[0],i=e[1];t.clearBufferfi(34041,0,r,i);break;default:Object(o.a)(!1,"clear: bad arguments")}}))}},ppGB:function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},rMhL:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return i}));var n="vs",i="fs"},rnmN:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return a}));var n=r("CxzY");function i(t,e){if("string"!=typeof e)return e;var r=Number(e);if(!isNaN(r))return r;var i=t[e=e.replace(/^.*\./,"")];return Object(n.a)(void 0!==i,"Accessing undefined constant GL.".concat(e)),i}function a(t,e){for(var r in e=Number(e),t)if(t[r]===e)return"GL.".concat(r);return String(e)}},rp2x:function(t,e,r){"use strict";r.d(e,"c",(function(){return f})),r.d(e,"e",(function(){return v})),r.d(e,"a",(function(){return m})),r.d(e,"b",(function(){return y})),r.d(e,"d",(function(){return O}));var n,i,a,o=r("ODXe"),u=r("KQm4"),s=r("rePB"),c=r("g6k1"),f=(n={},Object(s.a)(n,3042,!1),Object(s.a)(n,32773,new Float32Array([0,0,0,0])),Object(s.a)(n,32777,32774),Object(s.a)(n,34877,32774),Object(s.a)(n,32969,1),Object(s.a)(n,32968,0),Object(s.a)(n,32971,1),Object(s.a)(n,32970,0),Object(s.a)(n,3106,new Float32Array([0,0,0,0])),Object(s.a)(n,3107,[!0,!0,!0,!0]),Object(s.a)(n,2884,!1),Object(s.a)(n,2885,1029),Object(s.a)(n,2929,!1),Object(s.a)(n,2931,1),Object(s.a)(n,2932,513),Object(s.a)(n,2928,new Float32Array([0,1])),Object(s.a)(n,2930,!0),Object(s.a)(n,3024,!0),Object(s.a)(n,36006,null),Object(s.a)(n,2886,2305),Object(s.a)(n,33170,4352),Object(s.a)(n,2849,1),Object(s.a)(n,32823,!1),Object(s.a)(n,32824,0),Object(s.a)(n,10752,0),Object(s.a)(n,32938,1),Object(s.a)(n,32939,!1),Object(s.a)(n,3089,!1),Object(s.a)(n,3088,new Int32Array([0,0,1024,1024])),Object(s.a)(n,2960,!1),Object(s.a)(n,2961,0),Object(s.a)(n,2968,4294967295),Object(s.a)(n,36005,4294967295),Object(s.a)(n,2962,519),Object(s.a)(n,2967,0),Object(s.a)(n,2963,4294967295),Object(s.a)(n,34816,519),Object(s.a)(n,36003,0),Object(s.a)(n,36004,4294967295),Object(s.a)(n,2964,7680),Object(s.a)(n,2965,7680),Object(s.a)(n,2966,7680),Object(s.a)(n,34817,7680),Object(s.a)(n,34818,7680),Object(s.a)(n,34819,7680),Object(s.a)(n,2978,[0,0,1024,1024]),Object(s.a)(n,3333,4),Object(s.a)(n,3317,4),Object(s.a)(n,37440,!1),Object(s.a)(n,37441,!1),Object(s.a)(n,37443,37444),Object(s.a)(n,35723,4352),Object(s.a)(n,36010,null),Object(s.a)(n,35977,!1),Object(s.a)(n,3330,0),Object(s.a)(n,3332,0),Object(s.a)(n,3331,0),Object(s.a)(n,3314,0),Object(s.a)(n,32878,0),Object(s.a)(n,3316,0),Object(s.a)(n,3315,0),Object(s.a)(n,32877,0),n),l=function(t,e,r){return e?t.enable(r):t.disable(r)},h=function(t,e,r){return t.hint(r,e)},d=function(t,e,r){return t.pixelStorei(r,e)};function b(t){return Array.isArray(t)||ArrayBuffer.isView(t)}var v=(i={},Object(s.a)(i,3042,l),Object(s.a)(i,32773,(function(t,e){return t.blendColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,32777,"blendEquation"),Object(s.a)(i,34877,"blendEquation"),Object(s.a)(i,32969,"blendFunc"),Object(s.a)(i,32968,"blendFunc"),Object(s.a)(i,32971,"blendFunc"),Object(s.a)(i,32970,"blendFunc"),Object(s.a)(i,3106,(function(t,e){return t.clearColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,3107,(function(t,e){return t.colorMask.apply(t,Object(u.a)(e))})),Object(s.a)(i,2884,l),Object(s.a)(i,2885,(function(t,e){return t.cullFace(e)})),Object(s.a)(i,2929,l),Object(s.a)(i,2931,(function(t,e){return t.clearDepth(e)})),Object(s.a)(i,2932,(function(t,e){return t.depthFunc(e)})),Object(s.a)(i,2928,(function(t,e){return t.depthRange.apply(t,Object(u.a)(e))})),Object(s.a)(i,2930,(function(t,e){return t.depthMask(e)})),Object(s.a)(i,3024,l),Object(s.a)(i,35723,h),Object(s.a)(i,36006,(function(t,e){var r=Object(c.h)(t)?36009:36160;return t.bindFramebuffer(r,e)})),Object(s.a)(i,2886,(function(t,e){return t.frontFace(e)})),Object(s.a)(i,33170,h),Object(s.a)(i,2849,(function(t,e){return t.lineWidth(e)})),Object(s.a)(i,32823,l),Object(s.a)(i,32824,"polygonOffset"),Object(s.a)(i,10752,"polygonOffset"),Object(s.a)(i,35977,l),Object(s.a)(i,32938,"sampleCoverage"),Object(s.a)(i,32939,"sampleCoverage"),Object(s.a)(i,3089,l),Object(s.a)(i,3088,(function(t,e){return t.scissor.apply(t,Object(u.a)(e))})),Object(s.a)(i,2960,l),Object(s.a)(i,2961,(function(t,e){return t.clearStencil(e)})),Object(s.a)(i,2968,(function(t,e){return t.stencilMaskSeparate(1028,e)})),Object(s.a)(i,36005,(function(t,e){return t.stencilMaskSeparate(1029,e)})),Object(s.a)(i,2962,"stencilFuncFront"),Object(s.a)(i,2967,"stencilFuncFront"),Object(s.a)(i,2963,"stencilFuncFront"),Object(s.a)(i,34816,"stencilFuncBack"),Object(s.a)(i,36003,"stencilFuncBack"),Object(s.a)(i,36004,"stencilFuncBack"),Object(s.a)(i,2964,"stencilOpFront"),Object(s.a)(i,2965,"stencilOpFront"),Object(s.a)(i,2966,"stencilOpFront"),Object(s.a)(i,34817,"stencilOpBack"),Object(s.a)(i,34818,"stencilOpBack"),Object(s.a)(i,34819,"stencilOpBack"),Object(s.a)(i,2978,(function(t,e){return t.viewport.apply(t,Object(u.a)(e))})),Object(s.a)(i,3333,d),Object(s.a)(i,3317,d),Object(s.a)(i,37440,d),Object(s.a)(i,37441,d),Object(s.a)(i,37443,d),Object(s.a)(i,3330,d),Object(s.a)(i,3332,d),Object(s.a)(i,3331,d),Object(s.a)(i,36010,(function(t,e){return t.bindFramebuffer(36008,e)})),Object(s.a)(i,3314,d),Object(s.a)(i,32878,d),Object(s.a)(i,3316,d),Object(s.a)(i,3315,d),Object(s.a)(i,32877,d),Object(s.a)(i,"framebuffer",(function(t,e){var r=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,r)})),Object(s.a)(i,"blend",(function(t,e){return e?t.enable(3042):t.disable(3042)})),Object(s.a)(i,"blendColor",(function(t,e){return t.blendColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,"blendEquation",(function(t,e){e=b(e)?e:[e,e],t.blendEquationSeparate.apply(t,Object(u.a)(e))})),Object(s.a)(i,"blendFunc",(function(t,e){e=b(e)&&2===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,t.blendFuncSeparate.apply(t,Object(u.a)(e))})),Object(s.a)(i,"clearColor",(function(t,e){return t.clearColor.apply(t,Object(u.a)(e))})),Object(s.a)(i,"clearDepth",(function(t,e){return t.clearDepth(e)})),Object(s.a)(i,"clearStencil",(function(t,e){return t.clearStencil(e)})),Object(s.a)(i,"colorMask",(function(t,e){return t.colorMask.apply(t,Object(u.a)(e))})),Object(s.a)(i,"cull",(function(t,e){return e?t.enable(2884):t.disable(2884)})),Object(s.a)(i,"cullFace",(function(t,e){return t.cullFace(e)})),Object(s.a)(i,"depthTest",(function(t,e){return e?t.enable(2929):t.disable(2929)})),Object(s.a)(i,"depthFunc",(function(t,e){return t.depthFunc(e)})),Object(s.a)(i,"depthMask",(function(t,e){return t.depthMask(e)})),Object(s.a)(i,"depthRange",(function(t,e){return t.depthRange.apply(t,Object(u.a)(e))})),Object(s.a)(i,"dither",(function(t,e){return e?t.enable(3024):t.disable(3024)})),Object(s.a)(i,"derivativeHint",(function(t,e){t.hint(35723,e)})),Object(s.a)(i,"frontFace",(function(t,e){return t.frontFace(e)})),Object(s.a)(i,"mipmapHint",(function(t,e){return t.hint(33170,e)})),Object(s.a)(i,"lineWidth",(function(t,e){return t.lineWidth(e)})),Object(s.a)(i,"polygonOffsetFill",(function(t,e){return e?t.enable(32823):t.disable(32823)})),Object(s.a)(i,"polygonOffset",(function(t,e){return t.polygonOffset.apply(t,Object(u.a)(e))})),Object(s.a)(i,"sampleCoverage",(function(t,e){return t.sampleCoverage.apply(t,Object(u.a)(e))})),Object(s.a)(i,"scissorTest",(function(t,e){return e?t.enable(3089):t.disable(3089)})),Object(s.a)(i,"scissor",(function(t,e){return t.scissor.apply(t,Object(u.a)(e))})),Object(s.a)(i,"stencilTest",(function(t,e){return e?t.enable(2960):t.disable(2960)})),Object(s.a)(i,"stencilMask",(function(t,e){var r=e=b(e)?e:[e,e],n=Object(o.a)(r,2),i=n[0],a=n[1];t.stencilMaskSeparate(1028,i),t.stencilMaskSeparate(1029,a)})),Object(s.a)(i,"stencilFunc",(function(t,e){var r=e=b(e)&&3===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,n=Object(o.a)(r,6),i=n[0],a=n[1],s=n[2],c=n[3],f=n[4],l=n[5];t.stencilFuncSeparate(1028,i,a,s),t.stencilFuncSeparate(1029,c,f,l)})),Object(s.a)(i,"stencilOp",(function(t,e){var r=e=b(e)&&3===e.length?[].concat(Object(u.a)(e),Object(u.a)(e)):e,n=Object(o.a)(r,6),i=n[0],a=n[1],s=n[2],c=n[3],f=n[4],l=n[5];t.stencilOpSeparate(1028,i,a,s),t.stencilOpSeparate(1029,c,f,l)})),Object(s.a)(i,"viewport",(function(t,e){return t.viewport.apply(t,Object(u.a)(e))})),i);function g(t,e,r){return void 0!==e[t]?e[t]:r[t]}var m={blendEquation:function(t,e,r){return t.blendEquationSeparate(g(32777,e,r),g(34877,e,r))},blendFunc:function(t,e,r){return t.blendFuncSeparate(g(32969,e,r),g(32968,e,r),g(32971,e,r),g(32970,e,r))},polygonOffset:function(t,e,r){return t.polygonOffset(g(32824,e,r),g(10752,e,r))},sampleCoverage:function(t,e,r){return t.sampleCoverage(g(32938,e,r),g(32939,e,r))},stencilFuncFront:function(t,e,r){return t.stencilFuncSeparate(1028,g(2962,e,r),g(2967,e,r),g(2963,e,r))},stencilFuncBack:function(t,e,r){return t.stencilFuncSeparate(1029,g(34816,e,r),g(36003,e,r),g(36004,e,r))},stencilOpFront:function(t,e,r){return t.stencilOpSeparate(1028,g(2964,e,r),g(2965,e,r),g(2966,e,r))},stencilOpBack:function(t,e,r){return t.stencilOpSeparate(1029,g(34817,e,r),g(34818,e,r),g(34819,e,r))}},y={enable:function(t,e){return t(Object(s.a)({},e,!0))},disable:function(t,e){return t(Object(s.a)({},e,!1))},pixelStorei:function(t,e,r){return t(Object(s.a)({},e,r))},hint:function(t,e,r){return t(Object(s.a)({},e,r))},bindFramebuffer:function(t,e,r){var n;switch(e){case 36160:return t((n={},Object(s.a)(n,36006,r),Object(s.a)(n,36010,r),n));case 36009:return t(Object(s.a)({},36006,r));case 36008:return t(Object(s.a)({},36010,r));default:return null}},blendColor:function(t,e,r,n,i){return t(Object(s.a)({},32773,new Float32Array([e,r,n,i])))},blendEquation:function(t,e){var r;return t((r={},Object(s.a)(r,32777,e),Object(s.a)(r,34877,e),r))},blendEquationSeparate:function(t,e,r){var n;return t((n={},Object(s.a)(n,32777,e),Object(s.a)(n,34877,r),n))},blendFunc:function(t,e,r){var n;return t((n={},Object(s.a)(n,32969,e),Object(s.a)(n,32968,r),Object(s.a)(n,32971,e),Object(s.a)(n,32970,r),n))},blendFuncSeparate:function(t,e,r,n,i){var a;return t((a={},Object(s.a)(a,32969,e),Object(s.a)(a,32968,r),Object(s.a)(a,32971,n),Object(s.a)(a,32970,i),a))},clearColor:function(t,e,r,n,i){return t(Object(s.a)({},3106,new Float32Array([e,r,n,i])))},clearDepth:function(t,e){return t(Object(s.a)({},2931,e))},clearStencil:function(t,e){return t(Object(s.a)({},2961,e))},colorMask:function(t,e,r,n,i){return t(Object(s.a)({},3107,[e,r,n,i]))},cullFace:function(t,e){return t(Object(s.a)({},2885,e))},depthFunc:function(t,e){return t(Object(s.a)({},2932,e))},depthRange:function(t,e,r){return t(Object(s.a)({},2928,new Float32Array([e,r])))},depthMask:function(t,e){return t(Object(s.a)({},2930,e))},frontFace:function(t,e){return t(Object(s.a)({},2886,e))},lineWidth:function(t,e){return t(Object(s.a)({},2849,e))},polygonOffset:function(t,e,r){var n;return t((n={},Object(s.a)(n,32824,e),Object(s.a)(n,10752,r),n))},sampleCoverage:function(t,e,r){var n;return t((n={},Object(s.a)(n,32938,e),Object(s.a)(n,32939,r),n))},scissor:function(t,e,r,n,i){return t(Object(s.a)({},3088,new Int32Array([e,r,n,i])))},stencilMask:function(t,e){var r;return t((r={},Object(s.a)(r,2968,e),Object(s.a)(r,36005,e),r))},stencilMaskSeparate:function(t,e,r){return t(Object(s.a)({},1028===e?2968:36005,r))},stencilFunc:function(t,e,r,n){var i;return t((i={},Object(s.a)(i,2962,e),Object(s.a)(i,2967,r),Object(s.a)(i,2963,n),Object(s.a)(i,34816,e),Object(s.a)(i,36003,r),Object(s.a)(i,36004,n),i))},stencilFuncSeparate:function(t,e,r,n,i){var a;return t((a={},Object(s.a)(a,1028===e?2962:34816,r),Object(s.a)(a,1028===e?2967:36003,n),Object(s.a)(a,1028===e?2963:36004,i),a))},stencilOp:function(t,e,r,n){var i;return t((i={},Object(s.a)(i,2964,e),Object(s.a)(i,2965,r),Object(s.a)(i,2966,n),Object(s.a)(i,34817,e),Object(s.a)(i,34818,r),Object(s.a)(i,34819,n),i))},stencilOpSeparate:function(t,e,r,n,i){var a;return t((a={},Object(s.a)(a,1028===e?2964:34817,r),Object(s.a)(a,1028===e?2965:34818,n),Object(s.a)(a,1028===e?2966:34819,i),a))},viewport:function(t,e,r,n,i){return t(Object(s.a)({},2978,[e,r,n,i]))}},p=function(t,e){return t.isEnabled(e)},O=(a={},Object(s.a)(a,3042,p),Object(s.a)(a,2884,p),Object(s.a)(a,2929,p),Object(s.a)(a,3024,p),Object(s.a)(a,32823,p),Object(s.a)(a,32926,p),Object(s.a)(a,32928,p),Object(s.a)(a,3089,p),Object(s.a)(a,2960,p),Object(s.a)(a,35977,p),a)},rpxL:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return h})),r.d(e,"b",(function(){return d}));var n,i=r("rePB"),a=r("rMhL"),o=r("uzDn"),u=(n={},Object(i.a)(n,a.b,"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n"),Object(i.a)(n,a.a,"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"),n),s="__LUMA_INJECT_DECLARATIONS__",c=/void\s+main\s*\([^)]*\)\s*\{\n?/,f=/}\n?[^{}]*$/,l=[];function h(t,e,r,n){var i=e===a.b,o=function(e){var n=r[e];n.sort((function(t,e){return t.order-e.order})),l.length=n.length;for(var a=0,o=n.length;a<o;++a)l[a]=n[a].injection;var u="".concat(l.join("\n"),"\n");switch(e){case"vs:#decl":i&&(t=t.replace(s,u));break;case"vs:#main-start":i&&(t=t.replace(c,(function(t){return t+u})));break;case"vs:#main-end":i&&(t=t.replace(f,(function(t){return u+t})));break;case"fs:#decl":i||(t=t.replace(s,u));break;case"fs:#main-start":i||(t=t.replace(c,(function(t){return t+u})));break;case"fs:#main-end":i||(t=t.replace(f,(function(t){return u+t})));break;default:t=t.replace(e,(function(t){return t+u}))}};for(var h in r)o(h);return t=t.replace(s,""),n&&(t=t.replace(/\}\s*$/,(function(t){return t+u[e]}))),t}function d(t){var e={};return Object(o.a)(Array.isArray(t)&&t.length>1),t.forEach((function(t){for(var r in t)e[r]=e[r]?"".concat(e[r],"\n").concat(t[r]):t[r]})),e}},rta6:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("1OyB"),i=r("vuIU"),a=r("iein"),o=r("laie"),u=r("xSaR"),s=new(function(){function t(){Object(n.a)(this,t),this.stats=new Map}return Object(i.a)(t,[{key:"get",value:function(t){return this.stats.has(t)||this.stats.set(t,new o.b({id:t})),this.stats.get(t)}}]),t}());if(u.global.luma&&"8.2.0"!==u.global.luma.VERSION)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(u.global.luma.VERSION," vs ").concat("8.2.0"));u.global.luma||(Object(u.isBrowser)()&&a.g.log(1,"luma.gl ".concat("8.2.0"," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),u.global.luma=u.global.luma||{VERSION:"8.2.0",version:"8.2.0",log:a.g,stats:s,globals:{modules:{},nodeIO:{}}});u.global.luma},"sSh/":function(t,e,r){"use strict";function n(t,e,r){var n=e[0],i=e[1],a=r[3]*n+r[7]*i||1;return t[0]=(r[0]*n+r[4]*i)/a,t[1]=(r[1]*n+r[5]*i)/a,t}function i(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[3]*n+r[7]*i+r[11]*a||1;return t[0]=(r[0]*n+r[4]*i+r[8]*a)/o,t[1]=(r[1]*n+r[5]*i+r[9]*a)/o,t[2]=(r[2]*n+r[6]*i+r[10]*a)/o,t}function a(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t[2]=e[2],t}function o(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=r[0]*n+r[3]*i+r[6]*a,t[1]=r[1]*n+r[4]*i+r[7]*a,t[2]=r[2]*n+r[5]*i+r[8]*a,t[3]=e[3],t}r.d(e,"a",(function(){return n})),r.d(e,"c",(function(){return i})),r.d(e,"b",(function(){return a})),r.d(e,"d",(function(){return o}))},sYR6:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r("1OyB"),i=r("vuIU"),a=r("md7G"),o=r("foSv"),u=r("Ji7U"),s=r("41X0"),c=r("+H0l"),f=r("tS8E"),l=function(t){function e(){return Object(n.a)(this,e),Object(a.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(i.a)(e,[{key:"copy",value:function(t){return Object(f.a)(!1),this}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var t=0,e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSquared(t))}},{key:"distanceSquared",value:function(t){for(var e=0,r=0;r<this.ELEMENTS;++r){var n=this[r]-t[r];e+=n*n}return Object(c.a)(e)}},{key:"dot",value:function(t){for(var e=0,r=0;r<this.ELEMENTS;++r)e+=this[r]*t[r];return Object(c.a)(e)}},{key:"normalize",value:function(){var t=this.magnitude();if(0!==t)for(var e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}},{key:"multiply",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,i=e;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]*=a[o];return this.check()}},{key:"divide",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,i=e;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]/=a[o];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(t){return this.distance(t)}},{key:"distanceToSquared",value:function(t){return this.distanceSquared(t)}},{key:"getComponent",value:function(t){return Object(f.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),Object(c.a)(this[t])}},{key:"setComponent",value:function(t,e){return Object(f.a)(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}},{key:"addVectors",value:function(t,e){return this.copy(t).add(e)}},{key:"subVectors",value:function(t,e){return this.copy(t).subtract(e)}},{key:"multiplyVectors",value:function(t,e){return this.copy(t).multiply(e)}},{key:"addScaledVector",value:function(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=Object(c.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=Object(c.a)(t)}}]),e}(s.a)},"sc/6":function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));var n=r("1OyB"),i=r("vuIU"),a=r("md7G"),o=r("foSv"),u=r("JX7q"),s=r("Ji7U"),c=r("L8KH"),f=r("T2Hy"),l=r("SUVH"),h=r("B9+J"),d=r("iein"),b=r("LE90"),v=r("CxzY"),g={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},m={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:g},y={removedProps:g},p=function(t){function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,e),(r=Object(a.a)(this,Object(o.a)(e).call(this,t,i))).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),r.target=i.target||(r.gl.webgl2?36662:34962),r.initialize(i),Object.seal(Object(u.a)(r)),r}return Object(s.a)(e,t),Object(i.a)(e,[{key:"getElementCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/f.a.getBytesPerElement(t))}},{key:"getVertexCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/f.a.getBytesPerVertex(t))}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(t)&&(t={data:t}),Number.isFinite(t)&&(t={byteLength:t}),t=Object(b.a)("Buffer",t,m),this.usage=t.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},t,t.accessor)),t.data?this._setData(t.data,t.offset,t.byteLength):this._setByteLength(t.byteLength||0),this}},{key:"setProps",value:function(t){return"accessor"in(t=Object(b.a)("Buffer",t,y))&&this.setAccessor(t.accessor),this}},{key:"setAccessor",value:function(t){return delete(t=Object.assign({},t)).buffer,this.accessor=new f.a(t),this}},{key:"reallocate",value:function(t){return t>this.byteLength?(this._setByteLength(t),!0):(this.bytesUsed=t,!1)}},{key:"setData",value:function(t){return this.initialize(t)}},{key:"subData",value:function(t){ArrayBuffer.isView(t)&&(t={data:t});var e=t,r=e.data,n=e.offset,i=void 0===n?0:n,a=e.srcOffset,o=void 0===a?0:a,u=t.byteLength||t.length;Object(v.a)(r);var s=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(s,this.handle),0!==o||void 0!==u?(Object(l.a)(this.gl),this.gl.bufferSubData(this.target,i,r,o,u)):this.gl.bufferSubData(s,i,r),this.gl.bindBuffer(s,null),this.debugData=null,this._inferType(r),this}},{key:"copyData",value:function(t){var e=t.sourceBuffer,r=t.readOffset,n=void 0===r?0:r,i=t.writeOffset,a=void 0===i?0:i,o=t.size,u=this.gl;return Object(l.a)(u),u.bindBuffer(36662,e.handle),u.bindBuffer(36663,this.handle),u.copyBufferSubData(36662,36663,n,a,o),u.bindBuffer(36662,null),u.bindBuffer(36663,null),this.debugData=null,this}},{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dstData,r=void 0===e?null:e,n=t.srcByteOffset,i=void 0===n?0:n,a=t.dstOffset,o=void 0===a?0:a,u=t.length,s=void 0===u?0:u;Object(l.a)(this.gl);var c,f,d=Object(h.c)(this.accessor.type||5126,{clamped:!1}),b=this._getAvailableElementCount(i),g=o;r?c=(f=r.length)-g:f=g+(c=Math.min(b,s||b));var m=Math.min(b,c);return s=s||m,Object(v.a)(s<=m),r=r||new d(f),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,i,r,o,s),this.gl.bindBuffer(36662,null),r}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,r=void 0===e?this.target:e,n=t.index,i=void 0===n?this.accessor&&this.accessor.index:n,a=t.offset,o=void 0===a?0:a,u=t.size;return 35345===r||35982===r?void 0!==u?this.gl.bindBufferRange(r,i,this.handle,o,u):(Object(v.a)(0===o),this.gl.bindBufferBase(r,i,this.handle)):this.gl.bindBuffer(r,this.handle),this}},{key:"unbind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,r=void 0===e?this.target:e,n=t.index,i=void 0===n?this.accessor&&this.accessor.index:n,a=35345===r||35982===r;return a?this.gl.bindBufferBase(r,i,null):this.gl.bindBuffer(r,null),this}},{key:"getDebugData",value:function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}},{key:"invalidateDebugData",value:function(){this.debugData=null}},{key:"_setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.byteLength+e;Object(v.a)(ArrayBuffer.isView(t)),this._trackDeallocatedMemory();var n=this._getTarget();this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,this.usage),this.gl.bufferSubData(n,e,t),this.gl.bindBuffer(n,null),this.debugData=t.slice(0,10),this.bytesUsed=r,this._trackAllocatedMemory(r);var i=Object(h.b)(t);return Object(v.a)(i),this.setAccessor(new f.a(this.accessor,{type:i})),this}},{key:"_setByteLength",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;Object(v.a)(t>=0),this._trackDeallocatedMemory();var r=t;0===t&&(r=new Float32Array(0));var n=this._getTarget();return this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,e),this.gl.bindBuffer(n,null),this.usage=e,this.debugData=null,this.bytesUsed=t,this._trackAllocatedMemory(t),this}},{key:"_getTarget",value:function(){return this.gl.webgl2?36663:this.target}},{key:"_getAvailableElementCount",value:function(t){var e=t/Object(h.c)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-e}},{key:"_inferType",value:function(t){this.accessor.type||this.setAccessor(new f.a(this.accessor,{type:Object(h.b)(t)}))}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_getParameter",value:function(t){this.gl.bindBuffer(this.target,this.handle);var e=this.gl.getBufferParameter(this.target,t);return this.gl.bindBuffer(this.target,null),e}},{key:"setByteLength",value:function(t){return d.g.deprecated("setByteLength","reallocate")(),this.reallocate(t)}},{key:"updateAccessor",value:function(t){return d.g.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new f.a(this.accessor,t),this}},{key:"type",get:function(){return d.g.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return d.g.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}}]),e}(c.a)},sgaE:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r("iein");function i(t,e,r,i){var a="See luma.gl ".concat(r," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(t);i.forEach((function(t){o.methodName||(o[t]=function(){throw n.g.removed("Calling removed method ".concat(e,".").concat(t,": "),a)(),new Error(t)})}))}},tMmZ:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n,i=r("rePB"),a=r("11Ib"),o=r("f5Sf"),u={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};e.b=(n={},Object(i.a)(n,u.WEBGL2,[!1,!0]),Object(i.a)(n,u.VERTEX_ARRAY_OBJECT,["OES_vertex_array_object",!0]),Object(i.a)(n,u.TIMER_QUERY,["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"]),Object(i.a)(n,u.INSTANCED_RENDERING,["ANGLE_instanced_arrays",!0]),Object(i.a)(n,u.MULTIPLE_RENDER_TARGETS,["WEBGL_draw_buffers",!0]),Object(i.a)(n,u.ELEMENT_INDEX_UINT32,["OES_element_index_uint",!0]),Object(i.a)(n,u.BLEND_EQUATION_MINMAX,["EXT_blend_minmax",!0]),Object(i.a)(n,u.FLOAT_BLEND,["EXT_float_blend"]),Object(i.a)(n,u.COLOR_ENCODING_SRGB,["EXT_sRGB",!0]),Object(i.a)(n,u.TEXTURE_DEPTH,["WEBGL_depth_texture",!0]),Object(i.a)(n,u.TEXTURE_FLOAT,["OES_texture_float",!0]),Object(i.a)(n,u.TEXTURE_HALF_FLOAT,["OES_texture_half_float",!0]),Object(i.a)(n,u.TEXTURE_FILTER_LINEAR_FLOAT,["OES_texture_float_linear"]),Object(i.a)(n,u.TEXTURE_FILTER_LINEAR_HALF_FLOAT,["OES_texture_half_float_linear"]),Object(i.a)(n,u.TEXTURE_FILTER_ANISOTROPIC,["EXT_texture_filter_anisotropic"]),Object(i.a)(n,u.COLOR_ATTACHMENT_RGBA32F,[function(t){var e=new o.a(t,{format:6408,type:5126,dataFormat:6408}),r=new a.a(t,{id:"test-framebuffer",check:!1,attachments:Object(i.a)({},36064,e)}),n=r.getStatus();return e.delete(),r.delete(),36053===n},"EXT_color_buffer_float"]),Object(i.a)(n,u.COLOR_ATTACHMENT_FLOAT,[!1,"EXT_color_buffer_float"]),Object(i.a)(n,u.COLOR_ATTACHMENT_HALF_FLOAT,["EXT_color_buffer_half_float"]),Object(i.a)(n,u.GLSL_FRAG_DATA,["WEBGL_draw_buffers",!0]),Object(i.a)(n,u.GLSL_FRAG_DEPTH,["EXT_frag_depth",!0]),Object(i.a)(n,u.GLSL_DERIVATIVES,["OES_standard_derivatives",!0]),Object(i.a)(n,u.GLSL_TEXTURE_LOD,["EXT_shader_texture_lod",!0]),n)},tS8E:function(t,e,r){"use strict";function n(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}r.d(e,"a",(function(){return n}))},uXCu:function(t,e,r){"use strict";(function(t){var n=r("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=o,e.isBrowserMainThread=function(){return o()&&"undefined"!=typeof document};var i=n(r("cDf5")),a=n(r("15yl"));function o(){return!("object"===(void 0===t?"undefined":(0,i.default)(t))&&"[object process]"===String(t)&&!t.browser)||(0,a.default)()}}).call(this,r("8oxB"))},uYBD:function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return f})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return h}));var n,i,a,o=r("rePB"),u=r("iein"),s=(n={},Object(o.a)(n,6407,{dataFormat:6407,types:[5121,33635]}),Object(o.a)(n,6408,{dataFormat:6408,types:[5121,32819,32820]}),Object(o.a)(n,6406,{dataFormat:6406,types:[5121]}),Object(o.a)(n,6409,{dataFormat:6409,types:[5121]}),Object(o.a)(n,6410,{dataFormat:6410,types:[5121]}),Object(o.a)(n,33326,{dataFormat:6403,types:[5126],gl2:!0}),Object(o.a)(n,33328,{dataFormat:33319,types:[5126],gl2:!0}),Object(o.a)(n,34837,{dataFormat:6407,types:[5126],gl2:!0}),Object(o.a)(n,34836,{dataFormat:6408,types:[5126],gl2:!0}),n),c=(i={},Object(o.a)(i,6403,1),Object(o.a)(i,36244,1),Object(o.a)(i,33319,2),Object(o.a)(i,33320,2),Object(o.a)(i,6407,3),Object(o.a)(i,36248,3),Object(o.a)(i,6408,4),Object(o.a)(i,36249,4),Object(o.a)(i,6402,1),Object(o.a)(i,34041,1),Object(o.a)(i,6406,1),Object(o.a)(i,6409,1),Object(o.a)(i,6410,2),i),f=(a={},Object(o.a)(a,5126,4),Object(o.a)(a,5125,4),Object(o.a)(a,5124,4),Object(o.a)(a,5123,2),Object(o.a)(a,5122,2),Object(o.a)(a,5131,2),Object(o.a)(a,5120,1),Object(o.a)(a,5121,1),a);function l(t,e){var r=s[e];if(!r)return!1;if(void 0===r.gl1&&void 0===r.gl2)return!0;var n=Object(u.f)(t)&&r.gl2||r.gl1;return"string"==typeof n?t.getExtension(n):n}function h(t,e){var r=s[e];switch(r&&r.types[0]){case 5126:return t.getExtension("OES_texture_float_linear");case 5131:return t.getExtension("OES_texture_half_float_linear");default:return!0}}},uzDn:function(t,e,r){"use strict";function n(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}r.d(e,"a",(function(){return n}))},vpQ4:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r("rePB");function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?Object(arguments[e]):{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),i.forEach((function(e){Object(n.a)(t,e,r[e])}))}return t}},wE6v:function(t,e,r){var n=r("hh1v");t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},xDBR:function(t,e){t.exports=!1},xSaR:function(t,e,r){t.exports=r("0SKY")},xrYK:function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},xs3f:function(t,e,r){var n=r("2oRo"),i=r("zk60"),a=n["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=a},yU0y:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return i})),r.d(e,"c",(function(){return a}));r("QFcT");var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},ykdB:function(t,e,r){"use strict";r.d(e,"a",(function(){return X}));var n=r("rePB"),i=r("1OyB"),a=r("vuIU"),o=r("iein"),u=r("haqy"),s=r("VdrS"),c=r("CxzY"),f=r("pRFE"),l=r("OklE"),h=r("T2Hy"),d=r("sc/6"),b=r("md7G"),v=r("JX7q"),g=r("foSv"),m=r("ReuC"),y=r("Ji7U"),p=r("L8KH"),O=null;function j(t,e){var r;return new t((r=t.BYTES_PER_ELEMENT*e,(!O||O.byteLength<r)&&(O=new ArrayBuffer(r)),O),0,e)}var _=r("XbXb"),k="elements must be GL.ELEMENT_ARRAY_BUFFER",A=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,e);var a=n.id||n.program&&n.program.id;return(r=Object(b.a)(this,Object(g.a)(e).call(this,t,Object.assign({},n,{id:a})))).buffer=null,r.bufferValue=null,r.isDefaultArray=n.isDefaultArray||!1,r.initialize(n),Object.seal(Object(v.a)(r)),r}return Object(y.a)(e,t),Object(a.a)(e,null,[{key:"isSupported",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!e.constantAttributeZero||(Object(o.f)(t)||"Chrome"===Object(_.a)())}},{key:"getDefaultArray",value:function(t){return t.luma=t.luma||{},t.luma.defaultVertexArray||(t.luma.defaultVertexArray=new e(t,{handle:null,isDefaultArray:!0})),t.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(t){return e.MAX_ATTRIBUTES=e.MAX_ATTRIBUTES||t.getParameter(34921),e.MAX_ATTRIBUTES}},{key:"setConstant",value:function(t,r,n){switch(n.constructor){case Float32Array:e._setConstantFloatArray(t,r,n);break;case Int32Array:e._setConstantIntArray(t,r,n);break;case Uint32Array:e._setConstantUintArray(t,r,n);break;default:Object(c.a)(!1)}}}]),Object(a.a)(e,[{key:"delete",value:function(){Object(m.a)(Object(g.a)(e.prototype),"delete",this).call(this),this.buffer&&this.buffer.delete()}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(t)}},{key:"setProps",value:function(t){return this}},{key:"setElementBuffer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(c.a)(!e||34963===e.target,k),this.bind((function(){t.gl.bindBuffer(34963,e?e.handle:null)})),this}},{key:"setBuffer",value:function(t,e,r){if(34963===e.target)return this.setElementBuffer(e,r);var n=r.size,i=r.type,a=r.stride,u=r.offset,s=r.normalized,f=r.integer,l=r.divisor,h=this.gl;return t=Number(t),this.bind((function(){h.bindBuffer(34962,e.handle),f?(Object(c.a)(Object(o.f)(h)),h.vertexAttribIPointer(t,n,i,a,u)):h.vertexAttribPointer(t,n,i,s,a,u),h.enableVertexAttribArray(t),h.vertexAttribDivisor(t,l||0)})),this}},{key:"enable",value:function(t){var r=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!n&&0===t&&!e.isSupported(this.gl,{constantAttributeZero:!0});return i||(t=Number(t),this.bind((function(){return n?r.gl.enableVertexAttribArray(t):r.gl.disableVertexAttribArray(t)}))),this}},{key:"getConstantBuffer",value:function(t,e,r){var n=this._normalizeConstantArrayValue(e,r),i=n.byteLength*t,a=n.length*t,o=!this.buffer;if(this.buffer=this.buffer||new d.a(this.gl,i),o=(o=o||this.buffer.reallocate(i))||!this._compareConstantArrayValues(n,this.bufferValue)){var u=j(e.constructor,a);!function(t){for(var e=t.target,r=t.source,n=t.start,i=void 0===n?0:n,a=t.count,o=void 0===a?1:a,u=r.length,s=o*u,c=0,f=i;c<u;c++)e[f++]=r[c];for(;c<s;)c<s-c?(e.copyWithin(i+c,i,i+c),c*=2):(e.copyWithin(i+c,i,i+s-c),c=s)}({target:u,source:n,start:0,count:a}),this.buffer.subData(u),this.bufferValue=e}return this.buffer}},{key:"_normalizeConstantArrayValue",value:function(t,e){return Array.isArray(t)?new Float32Array(t):t}},{key:"_compareConstantArrayValues",value:function(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}},{key:"_createHandle",value:function(){return this.gl.createVertexArray()}},{key:"_deleteHandle",value:function(t){return this.gl.deleteVertexArray(t),[this.elements]}},{key:"_bindHandle",value:function(t){this.gl.bindVertexArray(t)}},{key:"_getParameter",value:function(t,e){var r=this,n=e.location;return Object(c.a)(Number.isFinite(n)),this.bind((function(){switch(t){case 34373:return r.gl.getVertexAttribOffset(n,t);default:return r.gl.getVertexAttrib(n,t)}}))}},{key:"MAX_ATTRIBUTES",get:function(){return e.getMaxAttributes(this.gl)}}],[{key:"_setConstantFloatArray",value:function(t,e,r){switch(r.length){case 1:t.vertexAttrib1fv(e,r);break;case 2:t.vertexAttrib2fv(e,r);break;case 3:t.vertexAttrib3fv(e,r);break;case 4:t.vertexAttrib4fv(e,r);break;default:Object(c.a)(!1)}}},{key:"_setConstantIntArray",value:function(t,e,r){switch(Object(c.a)(Object(o.f)(t)),r.length){case 1:t.vertexAttribI1iv(e,r);break;case 2:t.vertexAttribI2iv(e,r);break;case 3:t.vertexAttribI3iv(e,r);break;case 4:t.vertexAttribI4iv(e,r);break;default:Object(c.a)(!1)}}},{key:"_setConstantUintArray",value:function(t,e,r){switch(Object(c.a)(Object(o.f)(t)),r.length){case 1:t.vertexAttribI1uiv(e,r);break;case 2:t.vertexAttribI2uiv(e,r);break;case 3:t.vertexAttribI3uiv(e,r);break;case 4:t.vertexAttribI4uiv(e,r);break;default:Object(c.a)(!1)}}}]),e}(p.a),x=r("sgaE"),E=/^(.+)__LOCATION_([0-9]+)$/,w=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],T=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,t);var n=r.id||r.program&&r.program.id;this.id=n,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new A(e),Object(x.a)(this,"VertexArray","v6.0",w),this.initialize(r),Object.seal(this)}return Object(a.a)(t,[{key:"delete",value:function(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(t)}},{key:"reset",value:function(){this.elements=null,this.elementsAccessor=null;var t=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(t).fill(null),this.accessors=new Array(t).fill(null),this.unused={},this.drawParams=null,this}},{key:"setProps",value:function(t){return"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"attributes"in t&&this.setAttributes(t.attributes),"elements"in t&&this.setElementBuffer(t.elements),"bindOnUse"in t&&(t=t.bindOnUse),this}},{key:"clearDrawParams",value:function(){this.drawParams=null}},{key:"getDrawParams",value:function(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}},{key:"setAttributes",value:function(t){var e=this;return Object.assign(this.attributes,t),this.vertexArrayObject.bind((function(){for(var r in t){var n=t[r];e._setAttribute(r,n)}e.gl.bindBuffer(34962,null)})),this}},{key:"setElementBuffer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=t,this.elementsAccessor=e,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(t,e),this}},{key:"setBuffer",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===e.target)return this.setElementBuffer(e,r);var n=this._resolveLocationAndAccessor(t,e,e.accessor,r),i=n.location,a=n.accessor;return i>=0&&(this.values[i]=e,this.accessors[i]=a,this.clearDrawParams(),this.vertexArrayObject.setBuffer(i,e,a)),this}},{key:"setConstant",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._resolveLocationAndAccessor(t,e,Object.assign({size:e.length},r)),i=n.location,a=n.accessor;return i>=0&&(e=this.vertexArrayObject._normalizeConstantArrayValue(e,a),this.values[i]=e,this.accessors[i]=a,this.clearDrawParams(),this.vertexArrayObject.enable(i,!1)),this}},{key:"unbindBuffers",value:function(){var t=this;return this.vertexArrayObject.bind((function(){t.elements&&t.vertexArrayObject.setElementBuffer(null),t.buffer=t.buffer||new d.a(t.gl,{accessor:{size:4}});for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++)t.values[e]instanceof d.a&&(t.gl.disableVertexAttribArray(e),t.gl.bindBuffer(34962,t.buffer.handle),t.gl.vertexAttribPointer(e,1,5126,!1,0,0))})),this}},{key:"bindBuffers",value:function(){var t=this;return this.vertexArrayObject.bind((function(){t.elements&&t.setElementBuffer(t.elements);for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++){var r=t.values[e];r instanceof d.a&&t.setBuffer(e,r)}})),this}},{key:"bindForDraw",value:function(t,e,r){var n,i=this;return this.vertexArrayObject.bind((function(){i._setConstantAttributes(t,e),n=r()})),n}},{key:"_resolveLocationAndAccessor",value:function(t,e,r,n){var i=this,a=this._getAttributeIndex(t),u=a.location,s=a.name;if(!Number.isFinite(u)||u<0)return this.unused[t]=e,o.g.once(3,(function(){return"unused value ".concat(t," in ").concat(i.id)}))(),this;var f=this._getAttributeInfo(s||u);if(!f)return{location:-1,accessor:null};var l=this.accessors[u]||{},d=h.a.resolve(f.accessor,l,r,n),b=d.size,v=d.type;return Object(c.a)(Number.isFinite(b)&&Number.isFinite(v)),{location:u,accessor:d}}},{key:"_getAttributeInfo",value:function(t){return this.configuration&&this.configuration.getAttributeInfo(t)}},{key:"_getAttributeIndex",value:function(t){var e=Number(t);if(Number.isFinite(e))return{location:e};var r=E.exec(t),n=r?r[1]:t,i=r?Number(r[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(n)+i,name:n}:{location:-1}}},{key:"_setAttribute",value:function(t,e){if(e instanceof d.a)this.setBuffer(t,e);else if(Array.isArray(e)&&e.length&&e[0]instanceof d.a){var r=e[0],n=e[1];this.setBuffer(t,r,n)}else if(ArrayBuffer.isView(e)||Array.isArray(e)){var i=e;this.setConstant(t,i)}else{if(!(e.buffer instanceof d.a))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var a=e;this.setBuffer(t,a.buffer,a)}}},{key:"_setConstantAttributes",value:function(t,e){var r=Math.max(0|t,0|e),n=this.values[0];ArrayBuffer.isView(n)&&this._setConstantAttributeZero(n,r);for(var i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)n=this.values[i],ArrayBuffer.isView(n)&&this._setConstantAttribute(i,n)}},{key:"_setConstantAttributeZero",value:function(t,e){if(A.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,t);else{var r=this.vertexArrayObject.getConstantBuffer(e,t);this.vertexArrayObject.setBuffer(0,r,this.accessors[0])}}},{key:"_setConstantAttribute",value:function(t,e){A.setConstant(this.gl,t,e)}},{key:"_updateDrawParams",value:function(){for(var t={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this._updateDrawParamsForLocation(t,e);return this.elements&&(t.elementCount=this.elements.getElementCount(this.elements.accessor),t.isIndexed=!0,t.indexType=this.elementsAccessor.type||this.elements.accessor.type,t.indexOffset=this.elementsAccessor.offset||0),t.indexCount===1/0&&(t.indexCount=0),t.vertexCount===1/0&&(t.vertexCount=0),t.instanceCount===1/0&&(t.instanceCount=0),t}},{key:"_updateDrawParamsForLocation",value:function(t,e){var r=this.values[e],n=this.accessors[e];if(r){var i=n.divisor>0;if(t.isInstanced=t.isInstanced||i,r instanceof d.a){var a=r;if(i){var o=a.getVertexCount(n);t.instanceCount=Math.min(t.instanceCount,o)}else{var u=a.getVertexCount(n);t.vertexCount=Math.min(t.vertexCount,u)}}}}},{key:"setElements",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.g.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(t,e)}}]),t}(),M=r("bphH"),S=r("rnmN"),L=r("oejM");function P(t,e){for(var r=e.maxElts,n=void 0===r?16:r,i=e.size,a=void 0===i?1:i,o="[",u=0;u<t.length&&u<n;++u)u>0&&(o+=",".concat(u%a==0?" ":"")),o+=I(t[u],e);var s=t.length>n?"...":"]";return"".concat(o).concat(s)}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=1e-16,n=e.isInteger,i=void 0!==n&&n;if(Array.isArray(t)||ArrayBuffer.isView(t))return P(t,e);if(!Number.isFinite(t))return String(t);if(Math.abs(t)<r)return i?"0":"0.";if(i)return t.toFixed(0);if(Math.abs(t)>100&&Math.abs(t)<1e4)return t.toFixed(0);var a=t.toPrecision(2),o=a.indexOf(".0");return o===a.length-2?a.slice(0,-1):a}function R(t,e,r,i){var a,o,u=t.gl;if(!e)return o={},Object(n.a)(o,i,"null"),Object(n.a)(o,"Format ","N/A"),o;var s,c,f,l="NOT PROVIDED",h="N/A",b="N/A",v="N/A";if(r&&(l=r.type,h=r.size,s=-1!==(l=String(l).replace("Array","")).indexOf("nt")),e instanceof d.a){var g,m,y=e,p=y.getDebugData(),O=p.data;if(c=p.modified?"*":"",f=O,b=(v=y.byteLength)/O.BYTES_PER_ELEMENT/h,r){var j=r.divisor>0;m="".concat(j?"I ":"P "," ").concat(b," (x").concat(h,"=").concat(v," bytes ").concat(Object(S.a)(u,l),")")}else s=!0,m="".concat(v," bytes");return g={},Object(n.a)(g,i,"".concat(c).concat(I(f,{size:h,isInteger:s}))),Object(n.a)(g,"Format ",m),g}return f=e,h=e.length,s=-1!==(l=String(e.constructor.name).replace("Array","")).indexOf("nt"),a={},Object(n.a)(a,i,"".concat(I(f,{size:h,isInteger:s})," (constant)")),Object(n.a)(a,"Format ","".concat(h,"x").concat(l," (constant)")),a}function F(t,e){var r=e.type,n=e.size,i=Object(L.b)(r,n);return i?"".concat(t," (").concat(i.name,")"):t}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.header,r=void 0===e?"Uniforms":e,i=t.program,a=t.uniforms,o=t.undefinedOnly,u=void 0!==o&&o;Object(c.a)(i);var s=".*_.*",f=".*Matrix",l=i._uniformSetters,h={},d=Object.keys(l).sort(),b=0,v=!0,g=!1,m=void 0;try{for(var y,p=d[Symbol.iterator]();!(v=(y=p.next()).done);v=!0){var O=y.value;O.match(s)||O.match(f)||B({table:h,header:r,uniforms:a,uniformName:O,undefinedOnly:u})&&b++}}catch(C){g=!0,m=C}finally{try{v||null==p.return||p.return()}finally{if(g)throw m}}var j=!0,_=!1,k=void 0;try{for(var A,x=d[Symbol.iterator]();!(j=(A=x.next()).done);j=!0){var E=A.value;E.match(f)&&B({table:h,header:r,uniforms:a,uniformName:E,undefinedOnly:u})&&b++}}catch(C){_=!0,k=C}finally{try{j||null==x.return||x.return()}finally{if(_)throw k}}var w=!0,T=!1,M=void 0;try{for(var S,L=d[Symbol.iterator]();!(w=(S=L.next()).done);w=!0){var P=S.value;h[P]||B({table:h,header:r,uniforms:a,uniformName:P,undefinedOnly:u})&&b++}}catch(C){T=!0,M=C}finally{try{w||null==L.return||L.return()}finally{if(T)throw M}}var R=0,F={};if(!u)for(var D in a){var N=a[D];h[D]||(R++,F[D]=Object(n.a)({Type:"NOT USED: ".concat(N)},r,I(N)))}return{table:h,count:b,unusedTable:F,unusedCount:R}}function B(t){var e,r=t.table,i=t.header,a=t.uniforms,o=t.uniformName,u=t.undefinedOnly,s=a[o],c=function(t){return null!=t}(s);return(!u||!c)&&(r[o]=(e={},Object(n.a)(e,i,c?I(s):"N/A"),Object(n.a)(e,"Uniform Type",c?s:"NOT PROVIDED"),e),!0)}function N(t){var e=t.accessor,r=e.type,n=e.size,i=Object(L.b)(r,n);return i?"".concat(i.name," ").concat(t.name):t.name}var C=r("vpQ4"),U={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function V(t,e){var r=(e||{}).attributeMap,n=void 0===r?U:r;return n&&n[t]||t}function G(t,e){var r;switch(t){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":r="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":r="vectors"}switch(r){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2}Object(c.a)(Number.isFinite(e.size),"attribute ".concat(t," needs size"))}var z=function(){},H={},X=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,t);var n=r.id,a=void 0===n?Object(s.c)("model"):n;Object(c.a)(Object(o.e)(e)),this.id=a,this.gl=e,this.id=r.id||Object(s.c)("Model"),this.lastLogTime=0,this.initialize(r)}return Object(a.a)(t,[{key:"initialize",value:function(t){this.props={},this.programManager=t.programManager||u.a.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;var e=t.program,r=void 0===e?null:e,n=t.vs,i=t.fs,a=t.modules,o=t.defines,s=t.inject,f=t.varyings,l=t.bufferMode,h=t.transpileToGLSL100;this.programProps={program:r,vs:n,fs:i,modules:a,defines:o,inject:s,varyings:f,bufferMode:l,transpileToGLSL100:h},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(t.moduleSettings))),this.drawMode=void 0!==t.drawMode?t.drawMode:4,this.vertexCount=t.vertexCount||0,this.geometryBuffers={},this.isInstanced=t.isInstanced||t.instanced||t.instanceCount>0,this._setModelProps(t),this.geometry={},Object(c.a)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}},{key:"setProps",value:function(t){this._setModelProps(t)}},{key:"delete",value:function(){for(var t in this._attributes)this._attributes[t]!==this.attributes[t]&&this._attributes[t].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getProgram",value:function(){return this.program}},{key:"setProgram",value:function(t){var e=t.program,r=t.vs,n=t.fs,i=t.modules,a=t.defines,o=t.inject,u=t.varyings,s=t.bufferMode,c=t.transpileToGLSL100;this.programProps={program:e,vs:r,fs:n,modules:i,defines:a,inject:o,varyings:u,bufferMode:s,transpileToGLSL100:c},this._programDirty=!0}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"setDrawMode",value:function(t){return this.drawMode=t,this}},{key:"setVertexCount",value:function(t){return Object(c.a)(Number.isFinite(t)),this.vertexCount=t,this}},{key:"setInstanceCount",value:function(t){return Object(c.a)(Number.isFinite(t)),this.instanceCount=t,this}},{key:"setGeometry",value:function(t){return this.drawMode=t.drawMode,this.vertexCount=t.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(t,e,r){var n={},i=e.indices;for(var a in e.attributes){var o=e.attributes[a],u=V(a,r);if("indices"===a)i=o;else if(o.constant)n[u]=o.value;else{var s=o.value,f=Object(C.a)({},o);delete f.value,n[u]=[new d.a(t,s),f],G(a,f)}}if(i){var l=i.value||i;Object(c.a)(l instanceof Uint16Array||l instanceof Uint32Array,'attribute array for "indices" must be of integer type');var h={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};n.indices=[new d.a(t,{data:l,target:34963}),h]}return n}(this.gl,t),this.vertexArray.setAttributes(this.geometryBuffers),this}},{key:"setAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(s.a)(t))return this;var e={};for(var r in t){var n=t[r];e[r]=n.getValue?n.getValue():n}return this.vertexArray.setAttributes(e),this}},{key:"setUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,t),this}},{key:"getModuleUniforms",value:function(t){this._checkProgram();var e=this.programManager.getUniforms(this.program);return e?e(t):{}}},{key:"updateModuleSettings",value:function(t){var e=this.getModuleUniforms(t||{});return this.setUniforms(e)}},{key:"clear",value:function(t){return Object(f.a)(this.program.gl,t),this}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();var e,r=t.moduleSettings,n=void 0===r?null:r,i=t.framebuffer,a=t.uniforms,u=void 0===a?{}:a,s=t.attributes,c=void 0===s?{}:s,f=t.transformFeedback,l=void 0===f?this.transformFeedback:f,h=t.parameters,d=void 0===h?{}:h,b=t.vertexArray,v=void 0===b?this.vertexArray:b;this.setAttributes(c),this.updateModuleSettings(n),this.setUniforms(u),o.g.priority>=2&&(e=this._logDrawCallStart(2));var g=this.vertexArray.getDrawParams(),m=this.props,y=m.isIndexed,p=void 0===y?g.isIndexed:y,O=m.indexType,j=void 0===O?g.indexType:O,_=m.indexOffset,k=void 0===_?g.indexOffset:_,A=m.vertexArrayInstanced,x=void 0===A?g.isInstanced:A;x&&!this.isInstanced&&o.g.warn("Found instanced attributes on non-instanced model",this.id)();var E=this.isInstanced,w=this.instanceCount,T=this.props,M=T.onBeforeRender,S=void 0===M?z:M,L=T.onAfterRender,P=void 0===L?z:L;S(),this.program.setUniforms(this.uniforms);var I=this.program.draw(Object.assign(H,t,{logPriority:e,uniforms:null,framebuffer:i,parameters:d,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:v,transformFeedback:l,isIndexed:p,indexType:j,isInstanced:E,instanceCount:w,offset:p?k:0}));return P(),o.g.priority>=2&&this._logDrawCallEnd(e,v,i),I}},{key:"transform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.discard,r=void 0===e||e,i=t.feedbackBuffers,a=t.unbindModels,o=void 0===a?[]:a,u=t.parameters;i&&this._setFeedbackBuffers(i),r&&(u=Object.assign({},u,Object(n.a)({},35977,r))),o.forEach((function(t){return t.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},t,{parameters:u}))}finally{o.forEach((function(t){return t.vertexArray.bindBuffers()}))}return this}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.g.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(t).draw()}},{key:"_setModelProps",value:function(t){Object.assign(this.props,t),"uniforms"in t&&this.setUniforms(t.uniforms),"pickable"in t&&(this.pickable=t.pickable),"instanceCount"in t&&(this.instanceCount=t.instanceCount),"geometry"in t&&this.setGeometry(t.geometry),"attributes"in t&&this.setAttributes(t.attributes),"_feedbackBuffers"in t&&this._setFeedbackBuffers(t._feedbackBuffers)}},{key:"_checkProgram",value:function(){var t=this._programDirty||this.programManager.stateHash!==this._programManagerState;if(t){var e=this.programProps.program;if(e)this._managedProgram=!1;else{var r=this.programProps,n=r.vs,i=r.fs,a=r.modules,o=r.inject,u=r.defines,s=r.varyings,f=r.bufferMode,h=r.transpileToGLSL100;e=this.programManager.get({vs:n,fs:i,modules:a,inject:o,defines:u,varyings:s,bufferMode:f,transpileToGLSL100:h}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}Object(c.a)(e instanceof l.a,"Model needs a program"),this._programDirty=!1,e!==this.program&&(this.program=e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new T(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}}},{key:"_deleteGeometryBuffers",value:function(){for(var t in this.geometryBuffers){var e=this.geometryBuffers[t][0]||this.geometryBuffers[t];e instanceof d.a&&e.delete()}}},{key:"_setAnimationProps",value:function(t){if(this.animated){Object(c.a)(t,"Model.draw(): animated uniforms but no animationProps");var e=this._evaluateAnimateUniforms(t);Object.assign(this.uniforms,e)}}},{key:"_setFeedbackBuffers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(s.a)(t))return this;var e=this.program.gl;return this.transformFeedback=this.transformFeedback||new M.a(e,{program:this.program}),this.transformFeedback.setBuffers(t),this}},{key:"_logDrawCallStart",value:function(t){var e=t>3?0:1e4;if(!(Date.now()-this.lastLogTime<e))return this.lastLogTime=Date.now(),o.g.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:o.g.level<=2})(),t}},{key:"_logDrawCallEnd",value:function(t,e,r,i){if(void 0!==t){var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vertexArray,r=t.header,n=void 0===r?"Attributes":r;if(!e.configuration)return{};var i={};e.elements&&(i.ELEMENT_ARRAY_BUFFER=R(e,e.elements,null,n));var a=e.values;for(var o in a){var u=e._getAttributeInfo(o);if(u){var s="".concat(o,": ").concat(u.name),c=e.accessors[u.location];c&&(s="".concat(o,": ").concat(F(u.name,c))),i[s]=R(e,a[o],c,n)}}return i}({vertexArray:e,header:"".concat(this.id," attributes"),attributes:this._attributes}),u=D({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r)}),s=u.table,c=u.unusedTable,f=u.unusedCount,l=D({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r),undefinedOnly:!0}),h=l.table;l.count>0&&o.g.log("MISSING UNIFORMS",Object.keys(h))(),f>0&&o.g.log("UNUSED UNIFORMS",Object.keys(c))();var d=function(t){var e={},r="Accessors for ".concat(t.id),i=!0,a=!1,o=void 0;try{for(var u,s=t.attributeInfos[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;if(c){var f=N(c);e["in ".concat(f)]=Object(n.a)({},r,JSON.stringify(c.accessor))}}}catch(y){a=!0,o=y}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}var l=!0,h=!1,d=void 0;try{for(var b,v=t.varyingInfos[Symbol.iterator]();!(l=(b=v.next()).done);l=!0){var g=b.value;if(g){var m=N(g);e["out ".concat(m)]=Object(n.a)({},r,JSON.stringify(g.accessor))}}}catch(y){h=!0,d=y}finally{try{l||null==v.return||v.return()}finally{if(h)throw d}}return e}(this.vertexArray.configuration);o.g.table(t,a)(),o.g.table(t,s)(),o.g.table(t+1,d)(),i&&i.log({logLevel:2,message:"Rendered to ".concat(i.id)}),o.g.groupEnd(2,">>> DRAWING MODEL ".concat(this.id))()}}}]),t}()},yoRg:function(t,e,r){var n=r("UTVS"),i=r("/GqU"),a=r("TWQb").indexOf,o=r("0BK2");t.exports=function(t,e){var r,u=i(t),s=0,c=[];for(r in u)!n(o,r)&&n(u,r)&&c.push(r);for(;e.length>s;)n(u,r=e[s++])&&(~a(c,r)||c.push(r));return c}},zBJ4:function(t,e,r){var n=r("2oRo"),i=r("hh1v"),a=n.document,o=i(a)&&i(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},zXfU:function(t,e,r){"use strict";r.d(e,"a",(function(){return v}));var n=r("1OyB"),i=r("md7G"),a=r("foSv"),o=r("vuIU"),u=r("Ji7U"),s=r("sYR6"),c=r("a3TU"),f=r("+H0l"),l=r("n+fv"),h=r("sSh/"),d=[0,0,0],b={},v=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(n.a)(this,e),t=Object(i.a)(this,Object(a.a)(e).call(this,-0,-0,-0)),1===arguments.length&&Object(c.e)(r)?t.copy(r):(c.b.debug&&(Object(f.a)(r),Object(f.a)(o),Object(f.a)(u)),t[0]=r,t[1]=o,t[2]=u),t}return Object(u.a)(e,t),Object(o.a)(e,null,[{key:"ZERO",get:function(){return b.ZERO=b.ZERO||Object.freeze(new e(0,0,0,0))}}]),Object(o.a)(e,[{key:"set",value:function(t,e,r){return this[0]=t,this[1]=e,this[2]=r,this.check()}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}},{key:"fromObject",value:function(t){return c.b.debug&&(Object(f.a)(t.x),Object(f.a)(t.y),Object(f.a)(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}},{key:"toObject",value:function(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}},{key:"angle",value:function(t){return l.a(this,t)}},{key:"cross",value:function(t){return l.c(this,this,t),this.check()}},{key:"rotateX",value:function(t){var e=t.radians,r=t.origin,n=void 0===r?d:r;return l.j(this,this,n,e),this.check()}},{key:"rotateY",value:function(t){var e=t.radians,r=t.origin,n=void 0===r?d:r;return l.k(this,this,n,e),this.check()}},{key:"rotateZ",value:function(t){var e=t.radians,r=t.origin,n=void 0===r?d:r;return l.l(this,this,n,e),this.check()}},{key:"transform",value:function(t){return this.transformAsPoint(t)}},{key:"transformAsPoint",value:function(t){return l.o(this,this,t),this.check()}},{key:"transformAsVector",value:function(t){return Object(h.c)(this,this,t),this.check()}},{key:"transformByMatrix3",value:function(t){return l.n(this,this,t),this.check()}},{key:"transformByMatrix2",value:function(t){return Object(h.b)(this,this,t),this.check()}},{key:"transformByQuaternion",value:function(t){return l.p(this,this,t),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=Object(f.a)(t)}}]),e}(s.a)},zk60:function(t,e,r){var n=r("2oRo"),i=r("kRJp");t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}}}]);