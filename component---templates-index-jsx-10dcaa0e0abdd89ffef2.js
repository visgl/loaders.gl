(window.webpackJsonp=window.webpackJsonp||[]).push([[13,4,12],{194:function(e,t,n){"use strict";n.r(t);n(7);var r,i=n(2),a=n.n(i),s=n(0),o=n.n(s),u=n(299),c=(n(78),n(242),n(81),n(80),n(31),n(210)),f=n.n(c),l=(n(211),n(18)),h=n.n(l),d=n(212),p=n.n(d),g=n(243),b=n(313),m=n(334),v=n.n(m),y=n(213),x=n(436),w=n(425),j=n(435),O=n(441),A=n(277),_=((r={})[v.a.TEXTURE_CUBE_MAP_POSITIVE_X]="right",r[v.a.TEXTURE_CUBE_MAP_NEGATIVE_X]="left",r[v.a.TEXTURE_CUBE_MAP_POSITIVE_Y]="top",r[v.a.TEXTURE_CUBE_MAP_NEGATIVE_Y]="bottom",r[v.a.TEXTURE_CUBE_MAP_POSITIVE_Z]="front",r[v.a.TEXTURE_CUBE_MAP_NEGATIVE_Z]="back",r),E="https://raw.githubusercontent.com/uber-common/deck.gl-data/master/luma.gl/examples/gltf/",k="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/",S=k+"model-index.json",T="DamagedHelmet/glTF-Binary/DamagedHelmet.glb";var B='\n<p><b>glTF Loader</b>.</p>\n<p>Rendered using luma.gl.</p>\n<div>\n  Model<br/>\n  <select id="modelSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="'+T+'">Default</option>\n  </select>\n  <br>\n</div>\n<div>\n  Show<br/>\n  <select id="showSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="0 0 0 0 0 0 0 0">Final Result</option>\n\n    <option value="0 1 0 0 0 0 0 0">Base Color</option>\n    <option value="0 0 1 0 0 0 0 0">Metallic</option>\n    <option value="0 0 0 1 0 0 0 0">Roughness</option>\n    <option value="1 0 0 0 0 0 0 0">Diffuse</option>\n\n    <option value="0 0 0 0 1 0 0 0">Specular Reflection</option>\n    <option value="0 0 0 0 0 1 0 0">Geometric Occlusion</option>\n    <option value="0 0 0 0 0 0 1 0">Microfacet Distribution</option>\n    <option value="0 0 0 0 0 0 0 1">Specular</option>\n  </select>\n  <br>\n</div>\n<div>\n  Regular Lights<br/>\n  <select id="lightSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="default">Default</option>\n    <option value="ambient">Ambient Only</option>\n    <option value="directional1">1x Directional (Red) + Ambient</option>\n    <option value="directional3">3x Directional (RGB)</option>\n    <option value="point1far">1x Point Light Far (Red) + Ambient</option>\n    <option value="point1near">1x Point Light Near (Red) + Ambient</option>\n  </select>\n  <br>\n</div>\n<div>\n  Image-Based Light<br/>\n  <select id="iblSelector" style="border: 1px solid gray; width: 200px;">\n    <option value="exclusive">On (Exclusive)</option>\n    <option value="addition">On (Addition to Regular)</option>\n    <option value="off">Off (Only Regular)</option>\n  </select>\n  <br/>\n</div>\n<p><img src="https://img.shields.io/badge/WebVR-Supported-orange.svg" /></p>\n',L={default:{directionalLights:[{color:[255,255,255],direction:[0,.5,.5],intensity:1}]},ambient:{ambientLight:{color:[255,255,255],intensity:1}},directional1:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},directional3:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1},{color:[0,0,255],direction:[0,0,1],intensity:1},{color:[0,255,0],direction:[0,1,0],intensity:1}]},point1far:{pointLights:[{color:[255,0,0],position:[200,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},point1near:{pointLights:[{color:[255,0,0],position:[10,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}}},U={pbrDebug:!0,imageBasedLightingEnvironment:null,lights:!1};function R(e,t,n){return C.apply(this,arguments)}function C(){return(C=p()(f.a.mark(function e(t,n,r){var i,a,s,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(t,j.a,Object.assign({},r,{gl:n,DracoLoader:b.a}));case 2:return i=e.sent,a=i.gltf,s=i.scenes,o=i.animator,s[0].traverse(function(e,t){t.worldMatrix;return y.C.info(4,"Using model: ",e)()}),e.abrupt("return",{scenes:s,animator:o,gltf:a});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var M=function(e){a()(n,e),n.getInfo=function(){return B};var t=n.prototype;function n(t){var n,r=void 0===t?{}:t,i=r.modelFile,a=void 0===i?null:i,s=r.initialZoom,o=void 0===s?2:s;return(n=e.call(this)||this).scenes=[],n.animator=null,n.gl=null,n.modelFile=a,n.glOptions={webgl2:!0,alpha:!1},n.mouse={lastX:0,lastY:0},n.translate=o,n.rotation=[0,0],n.rotationStart=[0,0],n.rotationAnimation=!0,n.u_ScaleDiffBaseMR=[0,0,0,0],n.u_ScaleFGDSpec=[0,0,0,0],n.onInitialize=n.onInitialize.bind(h()(n)),n.onRender=n.onRender.bind(h()(n)),n}return t.getInfo=function(){return B},t.initializeEventHandling=function(e){var t=this;e.onwheel=function(e){t.translate+=e.deltaY/10,t.translate<.5&&(t.translate=.5),e.preventDefault()},e.onpointerdown=function(n){t.mouse.lastX=n.clientX,t.mouse.lastY=n.clientY,t.rotationStart[0]=t.rotation[0],t.rotationStart[1]=t.rotation[1],e.setPointerCapture(n.pointerId),n.preventDefault(),t.rotationAnimation=!1},e.onpointermove=function(e){if(e.buttons){var n=e.clientX-t.mouse.lastX,r=e.clientY-t.mouse.lastY;t.rotation[0]=t.rotationStart[0]+r/100,t.rotation[1]=t.rotationStart[1]+n/100}},e.ondragover=function(e){e.dataTransfer.dropEffect="link",e.preventDefault()},e.ondrop=function(){var e=p()(f.a.mark(function e(n){var r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!n.dataTransfer.files||1!==n.dataTransfer.files.length){e.next=8;break}return r=n.dataTransfer.files[0],t._deleteScenes(),e.next=6,R(r,t.gl,t.loadOptions);case 6:i=e.sent,Object.assign(t,i);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},t.onInitialize=function(e){var t=this,n=e.gl,r=e.canvas;if(Object(y.K)(n,{depthTest:!0,blend:!1}),this.loadOptions=Object.assign({},U),this.environment=new x.a(n,{brdfLutUrl:E+"/brdfLUT.png",getTexUrl:function(e,t,n){return E+"/papermill/"+e+"/"+e+"_"+_[t]+"_"+n+".jpg"}}),this.loadOptions.imageBasedLightingEnvironment=this.environment,this.gl=n,this.modelFile){R(this.modelFile,this.gl,{pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0}).then(function(e){return Object.assign(t,e)})}else{var i=document.getElementById("modelSelector"),a=i&&i.value||T;R(k+a,this.gl,this.loadOptions).then(function(e){return Object.assign(t,e)}),i&&(i.onchange=function(e){t._deleteScenes();var n=i&&i.value||T;R(k+n,t.gl,t.loadOptions).then(function(e){return Object.assign(t,e)})}),window.fetch(S).then(function(e){return e.json()}).then(function(e){return function(e,t){if(t){var n=["glTF-Draco","glTF-Binary","glTF-Embedded","glTF"];e.forEach(function(e){var r=e.name,i=e.variants,a=n.find(function(e){return i[e]}),s=document.createElement("option");s.text=r+" ("+a+")",s.value=r+"/"+a+"/"+i[a],t.appendChild(s)})}}(e,i)})}var s=document.getElementById("showSelector");s&&(s.onchange=function(e){var n=s.value.split(" ").map(function(e){return parseFloat(e)});t.u_ScaleDiffBaseMR=n.slice(0,4),t.u_ScaleFGDSpec=n.slice(4)});var o=document.getElementById("lightSelector");o&&(o.onchange=function(e){t.light=o.value});var u=document.getElementById("iblSelector");u&&(u.onchange=function(e){t._updateLightSettings(u.value),t._rebuildModel()}),this.initializeEventHandling(r)},t._updateLightSettings=function(e){switch(e){case"exclusive":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:this.environment,lights:!1});break;case"addition":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:this.environment,lights:!0});break;case"off":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:null,lights:!0})}},t._rebuildModel=function(){(this.gltf.meshes||[]).forEach(function(e){return delete e._mesh}),(this.gltf.nodes||[]).forEach(function(e){return delete e._node}),(this.gltf.bufferViews||[]).forEach(function(e){return delete e.lumaBuffers}),this._deleteScenes(),Object.assign(this,Object(w.a)(this.gl,this.gltf,this.loadOptions))},t._deleteScenes=function(){this.scenes.forEach(function(e){return e.delete()}),this.scenes=[],y.D.get("Resource Counts").forEach(function(e){var t=e.name,n=e.count;y.C.info(3,t+": "+n)()})},t.applyLight=function(e){e.updateModuleSettings({lightSources:L[this.light||"default"]})},t.onRender=function(e){var t=this,n=e.gl,r=e.time,i=e.aspect,a=e.viewMatrix,s=e.projectionMatrix;Object(y.u)(n,{color:[.2,.2,.2,1],depth:!0}),this.rotationAnimation&&(this.rotation[1]=r/3600);var o=this.rotation,u=o[0],c=o[1],f=[-this.translate*Math.sin(c)*Math.cos(-u),-this.translate*Math.sin(-u),this.translate*Math.cos(c)*Math.cos(-u)],l=new O.a(a?Array.from(a):null).translate([0,0,-this.translate]).rotateX(u).rotateY(c),h=s?new O.a(Array.from(s)):(new O.a).perspective({fov:Object(A.f)(40),aspect:i,near:.1,far:9e3});if(!this.scenes.length)return!1;this.animator&&this.animator.animate(r);var d=!0;return this.scenes[0].traverse(function(e,n){var r=n.worldMatrix,i=new O.a(h).multiplyRight(l).multiplyRight(r);t.applyLight(e),d=d&&e.draw({uniforms:{u_Camera:f,u_MVPMatrix:i,u_ModelMatrix:r,u_NormalMatrix:new O.a(r).invert().transpose(),u_ScaleDiffBaseMR:t.u_ScaleDiffBaseMR,u_ScaleFGDSpec:t.u_ScaleFGDSpec},parameters:e.props.parameters})}),d},n}(y.b);if("undefined"!=typeof window&&!window.website){var P=new M;P.start();var V=document.createElement("div");V.innerHTML=P.getInfo(),document.body.appendChild(V)}n.d(t,"default",function(){return I});var I=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){return o.a.createElement(u.a,Object.assign({AnimationLoop:M},this.props))},t}(o.a.Component)},202:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),a=n(0),s=n.n(a),o=n(84),u=(n(92),n(70),n(91),n(20)),c=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.renderPage=function(e){var t=e.config,n=this.props.HeroExample;return s.a.createElement("section",{className:"banner"},s.a.createElement("div",{className:"f hero"},n&&s.a.createElement(n,null)),s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,t.PROJECT_NAME),s.a.createElement("p",null,t.PROJECT_DESC),s.a.createElement(u.a,{to:"/docs/get-started",className:"btn"},"GET STARTED")))},n.render=function(){var e=this;return s.a.createElement(o.b,null,function(t){var n=t.config;return e.renderPage({config:n})})},t}(a.Component),f=n(9),l=null,h=f.a.a.withConfig({displayName:"github-contributors__ContribLink",componentId:"sc-1fjiz7k-0"})(["margin:10px;"]),d=f.a.div.withConfig({displayName:"github-contributors__ContribDiv",componentId:"sc-1fjiz7k-1"})(["width:8rem;height:10rem;"]),p=f.a.img.withConfig({displayName:"github-contributors__ContribImage",componentId:"sc-1fjiz7k-2"})(["border-radius:50%;border:4px solid #17b8be;box-shadow:0 0 0 #17b8be;transition:border 0.5s,box-shadow 0.5s;opacity:0.9;&:hover{border:4px solid #fff;box-shadow:0 0 20px #17b8be;opacity:1;}"]),g=f.a.div.withConfig({displayName:"github-contributors__ContribName",componentId:"sc-1fjiz7k-3"})(["width:8rem;text-align:center;"]),b=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={response:l},n}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;if(!l){var t=this.props.project;fetch("https://api.github.com/repos/"+t+"/contributors").then(function(e){return e.json()}).then(function(t){l=t,e.setState({response:t})})}},n.render=function(){var e=this.state.response;return(Array.isArray(e)?e:[]).map(function(e){return e?s.a.createElement(h,{target:"_blank",rel:"noopener noreferrer",href:e.html_url,key:e.id},s.a.createElement(d,null,s.a.createElement(p,{src:e.avatar_url,width:"100%",alt:""}),s.a.createElement(g,null,e.login))):null})},t}(a.Component);var m=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this.props.HeroExample;return s.a.createElement("main",null,s.a.createElement(o.b,null,function(t){return function(e){var t=e.config,n=e.HeroExample,r=t.HOME_HEADING,i=t.HOME_RIGHT,a=void 0===i?"":i,o=t.HOME_BULLETS,u=void 0===o?[]:o,f=t.PROJECT_TYPE;return s.a.createElement("div",{className:"fg"},s.a.createElement(c,{HeroExample:n}),s.a.createElement("div",{className:"fg p4"},s.a.createElement("div",{className:"container f fw"},s.a.createElement("div",{className:"f1 p",style:{minWidth:"10rem"}},s.a.createElement("h2",null,r),s.a.createElement("hr",{className:"short"}),u.map(function(e){return s.a.createElement("div",{key:e.text},s.a.createElement("h3",{className:"fac"},s.a.createElement("img",{src:e.img,className:"m-right",alt:""}),e.text),e.desc&&s.a.createElement("p",null,e.desc))})),s.a.createElement("div",{className:"f1 p",style:{minWidth:"10rem"}},a)),"github"===f&&s.a.createElement("div",{className:"container"},s.a.createElement("hr",{className:"short"}),s.a.createElement("h3",null,"Contributors"),s.a.createElement("span",null,"Join us!"),s.a.createElement("div",{className:"Contributors m-top"},s.a.createElement(b,{project:t.PROJECT_ORG+"/"+t.PROJECT_NAME})))))}({config:t.config,HeroExample:e})}))},t}(a.Component);n(195);n.d(t,"default",function(){return y}),"undefined"!=typeof window&&(window.website=!0);var v=n(194).default,y=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){return s.a.createElement(m,{HeroExample:v})},t}(s.a.Component)},215:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return f}),n.d(t,"f",function(){return l});n(76),n(77);var r=function(e){return"boolean"==typeof e},i=function(e){return"function"==typeof e},a=function(e){return null!==e&&"object"==typeof e},s=function(e){return e&&"function"==typeof e[Symbol.iterator]},o=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]},u=function(e){return a(e)&&"done"in e&&"value"in e},c=function(e){return"undefined"!=typeof window&&e instanceof window.Response||e.arrayBuffer&&e.text&&e.json},f=function(e){return function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)},l=function(e){return function(e){return a(e)&&i(e.tee)&&i(e.cancel)&&i(e.pipeTo)&&i(e.getReader)}(e)||function(e){return a(e)&&i(e.read)&&i(e.pipe)&&r(e.readable)}(e)}},219:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return f}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return h});n(82),n(218),n(244),n(245),n(258),n(208),n(259),n(21),n(14),n(11),n(78),n(222);var r=n(224),i=["SCALAR","VEC2","VEC3","VEC4"],a=new Map([[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126]]),s={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},o={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},u={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function c(e){return i[e-1]||i[0]}function f(e){var t=a.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function l(e,t){var n=u[e.componentType],i=s[e.type],a=o[e.componentType],c=e.count*i,f=e.count*i*a;return Object(r.a)(f>=0&&f<=t.byteLength),{ArrayType:n,length:c,byteLength:f}}function h(e,t){return e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:")?e:t.substr(0,t.lastIndexOf("/")+1)+e}},220:function(e,t,n){"use strict";(function(e,r){n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var i="object"!=typeof e||"[object process]"!==String(e)||e.browser,a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==r&&r,document:"undefined"!=typeof document&&document},s=a.global||a.self||a.window}).call(this,n(126),n(79))},221:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"loader assertion failed.")}n.d(t,"a",function(){return r})},224:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"gltf/glb assertion failed.")}n.d(t,"a",function(){return r})},227:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});n(32),n(11),n(208);var r=n(221),i=function(e){return e&&e instanceof ArrayBuffer},a=function(t){return t&&t instanceof e};function s(e){if(i(e))return e;if(a(e))return new Uint8Array(e).buffer;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}return Object(r.a)(!1)}}).call(this,n(263).Buffer)},228:function(e,t,n){"use strict";n(31);var r=n(210),i=n.n(r),a=(n(211),n(212)),s=n.n(a),o=n(215),u=n(256),c=n(233),f=n(260),l=n(236),h=n(221),d=(n(7),n(32),n(21),n(14),n(11),n(78),n(222),n(227)),p=new Map;function g(e,t,n){var r=function(e){var t=p.get(e);if(!t){var n=new Blob([e],{type:"application/javascript"});t=URL.createObjectURL(n),p.set(e,t)}return new Worker(t)}(e);n=function(e){null!==(e=Object.assign({},e)).log&&delete e.log;return e}(n);var i=function(e,t){return new Promise(function(n,i){r.onmessage=function(e){switch(e.data.type){case"done":n(e.data.result),r.terminate();break;case"error":i(new Error(e.data.message))}};var a=Object(d.a)(e);r.postMessage({arraybuffer:a,opts:t},[a])})};return t?i(t,n):i}n(76),n(77);var b=n(250),m=n(254),v="Cannot convert supplied data type";function y(e){return Object(o.b)(e)?e.url:null}function x(e,t){if(t.text&&"string"==typeof e)return e;if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){var n=e.buffer||e;return t.text&&!t.binary?new TextDecoder("utf8").decode(n):n}throw new Error(v)}function w(e,t){return j.apply(this,arguments)}function j(){return(j=s()(i.a.mark(function e(t,n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(t=e.sent,r=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!=typeof t&&!r){e.next=6;break}return e.abrupt("return",x(t,n));case 6:if(!Object(o.c)(t)){e.next=10;break}return e.next=9,Object(m.a)(t);case 9:t=e.sent;case 10:if(!Object(o.b)(t)){e.next=19;break}if(!n.binary){e.next=17;break}return e.next=14,t.arrayBuffer();case 14:e.t0=e.sent,e.next=18;break;case 17:e.t0=t.text();case 18:return e.abrupt("return",e.t0);case 19:throw new Error(v);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e,t){return A.apply(this,arguments)}function A(){return(A=s()(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(o.e)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!Object(o.b)(t)||!t.body){e.next=4;break}return e.abrupt("return",Object(b.a)(t.body));case 4:if(!Object(o.f)(t)){e.next=6;break}return e.abrupt("return",Object(b.a)(t));case 6:if(!Object(o.a)(t)){e.next=8;break}return e.abrupt("return",t[Symbol.asyncIterator]());case 8:return e.abrupt("return",_(t,n));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e,t){return E.apply(this,arguments)}function E(){return(E=s()(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof ArrayBuffer||ArrayBuffer.isView(t))){e.next=2;break}return e.abrupt("return",i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.buffer||t;case 2:case"end":return e.stop()}},e)})());case 2:if(!Object(o.e)(t)){e.next=4;break}return e.abrupt("return",t);case 4:if(!Object(o.d)(t)){e.next=6;break}return e.abrupt("return",t[Symbol.iterator]());case 6:throw new Error(v);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e,t,n,r){return S.apply(this,arguments)}function S(){return(S=s()(i.a.mark(function e(t,n,r,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=a||y(t),e.next=3,w(t,n);case 3:if(t=e.sent,!n.parseTextSync||"string"!=typeof t){e.next=7;break}return r.dataType="text",e.abrupt("return",n.parseTextSync(t,r,a,n));case 7:if(!n.parseSync){e.next=9;break}return e.abrupt("return",n.parseSync(t,r,a,n));case 9:if(!n.parse){e.next=13;break}return e.next=12,n.parse(t,r,a,n);case 12:return e.abrupt("return",e.sent);case 13:if(!n.worker){e.next=17;break}return e.next=16,g(n.worker,t,r);case 16:return e.abrupt("return",e.sent);case 17:return e.abrupt("return",Object(h.a)(!1));case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e,t,n,r){return B.apply(this,arguments)}function B(){return(B=s()(i.a.mark(function e(t,n,r,a){var s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.parseInBatches){e.next=6;break}return e.next=3,O(t);case 3:return s=e.sent,o=n.parseInBatches(s,r,a,n),e.abrupt("return",o);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e,t,n,r){return U.apply(this,arguments)}function U(){return(U=s()(i.a.mark(function e(t,n,r,a){var s,h;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(n)||Object(c.a)(n)||(a=r,r=n,n=null),s=Object(o.c)(a)?a.name:a,n=n||Object(l.a)(),h=Array.isArray(n)?Object(u.a)(s,t,n):n){e.next=6;break}return e.abrupt("return",null);case 6:return Object(c.b)(h),r=Object(f.a)(r,h),e.next=10,k(t,h,r,s);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e,t,n,r){Array.isArray(t)||Object(c.a)(t)||(r=n,n=t,t=null),t=t||Object(l.a)();var i=Array.isArray(t)?Object(u.a)(r,e,t):t;return Object(c.b)(i),function(e,t,n,r){return e=x(e,t),t.parseTextSync&&"string"==typeof e?t.parseTextSync(e,n,r,t):t.parseSync?t.parseSync(e,n,r,t):Object(h.a)(!1)}(e,i,n=Object(f.a)(n,i),r)}function C(e,t,n,r){return M.apply(this,arguments)}function M(){return(M=s()(i.a.mark(function e(t,n,r,a){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(n)||Object(c.a)(n)||(a=r,r=n,n=null),n=n||Object(l.a)(),s=Array.isArray(n)?Object(u.a)(a,null,n):n,Object(c.b)(s),r=Object(f.a)(r,s),e.abrupt("return",T(t,s,r,a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}n.d(t,"a",function(){return L}),n.d(t,"c",function(){return R}),n.d(t,"b",function(){return C})},229:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(210),n(211),n(212),n(228),n(239),n(243),n(232);var r=n(220),i=(r.a.TextEncoder,r.a.TextDecoder)},232:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(33),n(82),n(7);var r="",i={};function a(e){for(var t in i)if(e.startsWith(t)){var n=i[t];return e.replace(t,n)}return e+=r}},233:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});n(7);var r=n(221);function i(e){return!!e&&(Array.isArray(e)&&(e=e[0]),e.parseTextSync||e.parseSync||e.parse||e.loadAndParse||e.parseStream||e.parseInBatches||e.worker)}function a(e){var t;return Object(r.a)(i(e)),Array.isArray(e)&&(t=(e=e[0])[1],e=Object.assign({},e,{options:Object.assign({},e.options,{options:t})})),e.extension&&(e.extensions=e.extensions||[e.extension],delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),Object(r.a)(e.extensions&&e.extensions.length>0&&e.extensions[0]),e.parseTextSync&&(e.text=!0),e.text||(e.binary=!0),e}},236:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});n(14),n(11),n(255),n(76),n(77),n(21);var r=n(233),i={};function a(e){var t=e=Array.isArray(e)?e:[e],n=Array.isArray(t),a=0;for(t=n?t:t[Symbol.iterator]();;){var s;if(n){if(a>=t.length)break;s=t[a++]}else{if((a=t.next()).done)break;s=a.value}var o=s;Object(r.b)(o);var u=o.extensions,c=Array.isArray(u),f=0;for(u=c?u:u[Symbol.iterator]();;){var l;if(c){if(f>=u.length)break;l=u[f++]}else{if((f=u.next()).done)break;l=f.value}i[l]=o}}}function s(){return Object.values(i)}},239:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(210),i=n.n(r),a=(n(211),n(212)),s=n.n(a),o=n(215),u=n(232),c=n(254);function f(e,t){return l.apply(this,arguments)}function l(){return(l=s()(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(o.c)(t)){e.next=2;break}return e.abrupt("return",Object(c.a)(t,n));case 2:return t=Object(u.a)(t),e.abrupt("return",fetch(t,n));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}},243:function(e,t,n){"use strict";n.d(t,"a",function(){return p});n(31);var r=n(210),i=n.n(r),a=(n(211),n(212)),s=n.n(a),o=n(215),u=n(239),c=n(233),f=n(260),l=n(256),h=n(228),d=n(236);function p(e,t,n){return g.apply(this,arguments)}function g(){return(g=s()(i.a.mark(function e(t,n,r){var a,s,p;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(n)||Object(c.a)(n)||(r=n,n=null),a=Object(o.c)(t)?t.name:t,n=n||Object(d.a)(),s=Array.isArray(n)?Object(l.a)(a,null,n):n,r=Object(f.a)(r,s),!s||!s.loadAndParse){e.next=9;break}return e.next=8,s.loadAndParse(t,r);case 8:return e.abrupt("return",e.sent);case 9:if(p=t,!Object(o.c)(p)&&"string"!=typeof p){e.next=14;break}return e.next=13,Object(u.a)(t,r);case 13:p=e.sent;case 14:return e.abrupt("return",Object(h.a)(p,n,r,a));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}},246:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a});var r="KHR_draco_mesh_compression",i="UBER_draco_point_cloud_compression",a="KHR_lights_punctual"},250:function(e,t,n){"use strict";n.d(t,"a",function(){return h});n(32),n(11),n(76),n(77);var r=n(212),i=n.n(r),a=n(210),s=n.n(a),o=(n(211),n(308)),u=n.n(o),c=n(309),f=n.n(c),l=n(220);function h(e){return"function"==typeof e[Symbol.asyncIterator]?e:"function"==typeof e.getIterator?e.getIterator():l.b?function(e){return d.apply(this,arguments)}(e):function(e){return p.apply(this,arguments)}(e)}function d(){return(d=f()(s.a.mark(function e(t){var n,r,i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getReader(),e.prev=1;case 2:return e.next=5,u()(n.read());case 5:if(r=e.sent,i=r.done,a=r.value,!i){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,a;case 12:e.next=2;break;case 14:return e.prev=14,n.releaseLock(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,,14,17]])}))).apply(this,arguments)}function p(){return(p=f()(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()(t);case 2:t=e.sent;case 3:if(null===(n=t.read())){e.next=9;break}return e.next=8,n;case 8:return e.abrupt("continue",3);case 9:if(!t._readableState.ended){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,u()(g(t));case 13:e.next=3;break;case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return b.apply(this,arguments)}function b(){return(b=i()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){t.once("readable",e)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}},254:function(e,t,n){"use strict";n.d(t,"a",function(){return l});n(32),n(11),n(31);var r=n(210),i=n.n(r),a=(n(211),n(212)),s=n.n(a),o=n(231),u=n.n(o),c=n(221),f=function(){function e(e){this._fileOrBlob=e,this.bodyUsed=!1}var t=e.prototype;return t.url=function(){return this._fileOrBlob.name||""},t.arrayBuffer=function(){var e=s()(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getFileReader(),n=t.reader,r=t.promise,n.readAsArrayBuffer(this._fileOrBlob),e.abrupt("return",r);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.text=function(){var e=s()(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getFileReader(),n=t.reader,r=t.promise,n.readAsText(this._fileOrBlob),e.abrupt("return",r);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.json=function(){var e=s()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.text();case 2:return t=e.sent,e.abrupt("return",JSON.parse(t));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._getFileReader=function(){var e;Object(c.a)(!this.bodyUsed),this.bodyUsed=!0;var t=new Promise(function(t,n){try{(e=new FileReader).onerror=function(e){return n(new Error(e))},e.onabort=function(){return n(new Error("Read aborted."))},e.onload=function(){return t(e.result)}}catch(r){n(r)}});return{reader:e,promise:t}},u()(e,[{key:"headers",get:function(){return new Headers({"Content-Length":this._fileOrBlob.size,"Content-Type":this._fileOrBlob.type})}}]),e}();function l(e,t){return Promise.resolve(new f(e,t))}},256:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(76),n(77),n(21),n(83);var r=n(233),i=/[^.]+$/;function a(e,t,n){void 0===e&&(e="");var a=e.match(i);if(a&&a[0]){var s=function(e,t){t=t.toLowerCase();for(var n=e,i=Array.isArray(n),a=0,n=i?n:n[Symbol.iterator]();;){var s;if(i){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var o=s;Object(r.b)(o);for(var u=o.extensions,c=Array.isArray(u),f=0,u=c?u:u[Symbol.iterator]();;){var l;if(c){if(f>=u.length)break;l=u[f++]}else{if((f=u.next()).done)break;l=f.value}var h=l;if(h.toLowerCase()===t)return o}}return null}(n,a[0]);if(s)return s}var o=function(e,t){for(var n=e,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var s=a;if(s.testText&&s.testText(t))return s}return null}(n,t);return o||null}},260:function(e,t,n){"use strict";n(7);var r=function(){function e(){}var t=e.prototype;return t.log=function(){},t.info=function(){},t.warn=function(){},t.error=function(){},e}();function i(e,t){return null===(e=Object.assign({},t&&t.DEFAULT_OPTIONS,t&&t.defaultOptions,t&&t.options,e,{dataType:"arraybuffer"})).log&&(e.log=new r),"log"in e||(e.log=console),e}n.d(t,"a",function(){return i})},264:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});n(218),n(31);var r=n(219);function i(e){var t={};for(var n in e){var r=e[n];if("indices"!==n){var i=a(r);t[n]=i}}return t}function a(e,t){var n=function(e,t){var n=e,r=1,i=0;e&&e.value&&(n=e.value,r=e.size||1);n&&(ArrayBuffer.isView(n)||(n=function(e,t,n){void 0===n&&(n=!1);if(!e)return null;if(Array.isArray(e))return new t(e);if(n&&!(e instanceof t))return new t(e);return e}(n,Float32Array)),i=n.length/r);return{buffer:n,size:r,count:i}}(e),i=n.buffer,a=n.size;return{value:i,size:a,bufferView:null,byteOffset:0,count:n.count,type:Object(r.e)(a),componentType:Object(r.f)(i)}}},265:function(e,t,n){"use strict";n(208);function r(e,t){if(!e)throw new Error(t||"loader assertion failed.")}var i=n(341);n.d(t,"b",function(){return h}),n.d(t,"a",function(){return d});var a=1735152710,s=12,o=8,u=1313821514,c=5130562,f=!0,l=!1;function h(e,t,n){void 0===t&&(t=0),void 0===n&&(n={});var r=new DataView(e),i=n.magic,s=void 0===i?a:i,o=r.getUint32(t,!1);return o===s||o===a}function d(e,t,n,h){void 0===n&&(n=0),void 0===h&&(h={});var d=new DataView(t);e.byteOffset=n,e.magic=d.getUint32(n+0,l),e.version=d.getUint32(n+4,f),e.byteLength=d.getUint32(n+8,f),e.type=function(e){return""+String.fromCharCode(e.getUint8(0))+String.fromCharCode(e.getUint8(1))+String.fromCharCode(e.getUint8(2))+String.fromCharCode(e.getUint8(3))}(d);var p=h.magic,g=void 0===p?a:p;e.magic===a||e.magic===g||console.warn("Invalid GLB magic string "+e.type),r(2===e.version,"Invalid GLB version "+e.version+". Only .glb v2 supported"),r(e.byteLength>20);var b=d.getUint32(n+12,f),m=d.getUint32(n+16,f);r(m===u||0===m,"JSON chunk format "+m);var v=s+o,y=new Uint8Array(t,n+v,b),x=new TextDecoder("utf8").decode(y);e.json=JSON.parse(x);var w=v+Object(i.b)(b);if(e.hasBinChunk=w+8<=e.byteLength,e.hasBinChunk){var j=d.getUint32(n+w+0,f),O=d.getUint32(n+w+4,f);r(O===c||1===O,"BIN chunk format "+O);var A=w+o;e.binChunkByteOffset=A,e.binChunkLength=j}return n+e.byteLength}},294:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"KHR_draco_mesh_compression",function(){return O}),n.d(r,"KHR_lights_punctual",function(){return A});n(76),n(77),n(21),n(7);var i=n(210),a=n.n(i),s=(n(211),n(212)),o=n.n(s),u=n(239),c=n(224),f=n(219),l=n(265),h=(n(14),n(11),n(223),n(231)),d=n.n(h),p=(n(208),n(80),n(78),n(242),n(276),n(222),!1),g=!0,b=new Map([["image/png",{test:function(e){return e.byteLength>=24&&2303741511===e.getUint32(0,p)},getSize:function(e){return{width:e.getUint32(16,p),height:e.getUint32(20,p)}}}],["image/jpeg",{test:function(e){return e.byteLength>=2&&65496===e.getUint16(0,p)},getSize:function(e){if(e.byteLength<2||65496!==e.getUint16(0,p))return null;var t=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var n=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:n}}(),n=t.tableMarkers,r=t.sofMarkers,i=2;for(;i<e.byteLength;){var a=e.getUint16(i,p);if(r.has(a))return{height:e.getUint16(i+5,p),width:e.getUint16(i+7,p)};if(!n.has(a))return null;i+=2,i+=e.getUint16(i,p)}return null}}],["image/gif",{test:function(e){return e.byteLength>=10&&1195984440===e.getUint32(0,p)},getSize:function(e){return{width:e.getUint16(6,g),height:e.getUint16(8,g)}}}],["image/bmp",{test:function(e){return e.byteLength>=2&&16973===e.getUint16(0,p)},getSize:function(e){return{width:e.getUint32(18,g),height:e.getUint32(22,g)}}}]]);Array.from(b.keys()).join(", ");function m(e){var t=v(e),n=b.entries(),r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var s=a,o=s[0];if((0,s[1].test)(t))return o}return null}function v(e){if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return new DataView(e.buffer||e);throw new Error("toDataView")}var y=n(341),x=function(){function e(t){if(t instanceof e)return t;t||(t={json:{version:2,buffers:[]},binary:null}),this.gltf=t}var t=e.prototype;return t.getApplicationData=function(e){return this.json[e]},t.getExtraData=function(e){return(this.json.extras||{})[e]},t.getExtension=function(e){var t=this.getUsedExtensions().find(function(t){return t===e}),n=this.json.extensions||{};return t?n[e]||!0:null},t.getRequiredExtension=function(e){return this.getRequiredExtensions().find(function(t){return t===e})?this.getExtension(e):null},t.getRequiredExtensions=function(){return this.json.extensionsRequired||[]},t.getUsedExtensions=function(){return this.json.extensionsUsed||[]},t.getObjectExtension=function(e,t){return(e.extensions||{})[t]},t.getScene=function(e){return this.getObject("scenes",e)},t.getNode=function(e){return this.getObject("nodes",e)},t.getSkin=function(e){return this.getObject("skins",e)},t.getMesh=function(e){return this.getObject("meshes",e)},t.getMaterial=function(e){return this.getObject("materials",e)},t.getAccessor=function(e){return this.getObject("accessors",e)},t.getCamera=function(e){return null},t.getTexture=function(e){return this.getObject("textures",e)},t.getSampler=function(e){return this.getObject("samplers",e)},t.getImage=function(e){return this.getObject("images",e)},t.getBufferView=function(e){return this.getObject("bufferViews",e)},t.getBuffer=function(e){return this.getObject("buffers",e)},t.getObject=function(e,t){if("object"==typeof t)return t;var n=this.gltf[e]&&this.gltf[e][t];return n||console.warn("glTF file error: Could not find "+e+"["+t+"]"),n},t.getTypedArrayForBufferView=function(e){e=this.getBufferView(e);var t=this.getBuffer(e.buffer).data,n=e.byteOffset||0;return new Uint8Array(t,n,e.byteLength)},t.getTypedArrayForAccessor=function(e){e=this.getAccessor(e);var t=this.getBuffer(e.bufferView),n=this.getBuffer(t.buffer).data,r=Object(f.d)(e,t),i=r.ArrayType,a=r.length;return new i(n,t.byteOffset+e.byteOffset,a)},t.getTypedArrayForImageData=function(e){e=this.getAccessor(e);var t=this.getBuffer(e.bufferView),n=this.getBuffer(t.buffer).data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)},t.addApplicationData=function(e,t){return this.json[e]=t,this},t.addExtraData=function(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this},t.addExtension=function(e,t){return Object(c.a)(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),this},t.addRequiredExtension=function(e,t){return Object(c.a)(t),this.addExtension(e,t),this.registerRequiredExtension(e),this},t.registerUsedExtension=function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(function(t){return t===e})||this.json.extensionsUsed.push(e)},t.registerRequiredExtension=function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(function(t){return t===e})||this.json.extensionsRequired.push(e)},t.removeExtension=function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]},t.setObjectExtension=function(e,t,n){(e.extensions||{})[t]=n},t.addMesh=function(e,t,n){void 0===n&&(n=4);var r={primitives:[{attributes:this._addAttributes(e),indices:t,mode:n}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(r),this.json.meshes.length-1},t.addPointCloud=function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1},t.addImage=function(e,t){t=t||m(e);var n={bufferView:this.addBufferView(e),mimeType:t};return this.json.images=this.json.images||[],this.json.images.push(n),this.json.images.length-1},t.addBufferView=function(e){var t=e.byteLength||e.length;this.byteLength+=Object(y.b)(t),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);var n={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1},t.addAccessor=function(e,t){var n={bufferView:e,type:Object(f.e)(t.size),componentType:t.componentType,count:t.count};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1},t.addBinaryBuffer=function(e,t){void 0===t&&(t={size:3});var n=this.addBufferView(e),r={size:t.size,componentType:Object(f.f)(e),count:Math.round(e.length/t.size)};return this.addAccessor(n,Object.assign(r,t))},t.createBinaryChunk=function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),n=new Uint8Array(t),r=0,i=0;i<this.sourceBuffers.length;i++){var a=this.sourceBuffers[i];r=Object(y.a)(a,n,r)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}},t._removeStringFromArray=function(e,t){for(var n=!0;n;){var r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}},d()(e,[{key:"json",get:function(){return this.gltf.json}}]),e}(),w=n(246),j=n(264),O=function(){function e(){}return e.decode=function(t,n){var r=new x(t),i=r.json.meshes||[],a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var o;if(a){if(s>=i.length)break;o=i[s++]}else{if((s=i.next()).done)break;o=s.value}var u=o;e.decompressMesh(u,n)}r.removeExtension(w.a)},e.encode=function(t,n){var r=new x(t),i=r.json.meshes||[],a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var o;if(a){if(s>=i.length)break;o=i[s++]}else{if((s=i.next()).done)break;o=s.value}var u=o;e.compressMesh(u,n),r.addRequiredExtension(w.a)}},e.compressMesh=function(e,t,n,r){var i;if(void 0===n&&(n=4),void 0===r&&(r={}),!r.DracoWriter||!r.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");var a=r.DracoWriter.encodeSync({attributes:e}),s=r.DracoLoader.parseSync({attributes:e}),o=r._addFauxAttributes(s.attributes),u=r.addBufferView(a);return{primitives:[{attributes:o,mode:n,extensions:(i={},i[w.a]={bufferView:u,attributes:o},i)}]}},e.decompressMesh=function(t,n){void 0===n&&(n={});var r=t.primitives,i=Array.isArray(r),a=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}var o=s;if(e._decompressMeshPrimitive(o,n),!o.attributes||0===Object.keys(o.attributes).length)throw new Error("Empty glTF primitive: decompression failure?")}},e._decompressMeshPrimitive=function(e,t){var n=e.extensions&&e.extensions[w.a];if(n&&t.DracoLoader&&t.decompress){delete e.extensions[w.a];var r=this._getBufferViewArray(n.bufferView),i=t.DracoLoader.parseSync(r);e.attributes=Object(j.b)(i.attributes),i.indices&&(e.indices=Object(j.a)(i.indices))}},d()(e,null,[{key:"name",get:function(){return w.a}}]),e}(),A=function(){function e(){}return e.decode=function(e,t){var n=new x(e),r=n.getExtension(w.b);r&&(n.json.lights=r.lights,n.removeExtension(w.b));var i=n.nodes||[],a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var o;if(a){if(s>=i.length)break;o=i[s++]}else{if((s=i.next()).done)break;o=s.value}var u=o,c=u.extensions&&u.extensions.KHR_lights_punctual;c&&(u.light=n._get("lights",c.light),delete u.extensions.KHR_lights_punctual)}},e.encode=function(e,t){var n=new x(e),r=n.json;if(r.lights){var i=n.addExtensions(w.b);Object(c.a)(!i.lights),i.lights=r.lights,delete r.lights}if(n.json.lights){var a=n.json.lights,s=Array.isArray(a),o=0;for(a=s?a:a[Symbol.iterator]();;){var u;if(s){if(o>=a.length)break;u=a[o++]}else{if((o=a.next()).done)break;u=o.value}var f=u,l=f.node;n.addObjectExtension(l,w.b,f)}delete n.json.lights}},d()(e,null,[{key:"name",get:function(){return w.b}}]),e}();n.d(t,"b",function(){return k}),n.d(t,"a",function(){return S});var _={fetchLinkedResources:!1,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console},E={fetchLinkedResources:!0,fetch:u.a,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console};function k(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i={}),i=Object.assign({},_,i);var a=t;a instanceof ArrayBuffer&&!Object(l.b)(a,n,i)&&(a=(new TextDecoder).decode(a));if(e.buffers=[],"string"==typeof a?e.json=JSON.parse(a):a instanceof ArrayBuffer?(n=Object(l.a)(e,a,n,i),e.hasBinChunk&&e.buffers.push({arrayBuffer:a,byteOffset:e.binChunkByteOffset,byteLength:e.binChunkLength})):e.json=a,i.uri&&(e.baseUri=i.uri),i.fetchLinkedResources){var s=e.json.buffers||[],o=Array.isArray(s),u=0;for(s=o?s:s[Symbol.iterator]();;){var c;if(o){if(u>=s.length)break;c=s[u++]}else{if((u=s.next()).done)break;c=u.value}if(c.uri)throw new Error("parseGLTFSync: Cannot decode uri buffers")}}return function(e,t){for(var n in r){var i=n in t&&!t[n];if(!i){var a=r[n];a.decode(e,t)}}}(e,i),n}function S(e,t,n,r){return T.apply(this,arguments)}function T(){return(T=o()(a.a.mark(function e(t,n,r,i){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=0),void 0===i&&(i={}),i=Object.assign({},E,i),k(t,n,r,Object.assign({},i,{fetchLinkedResources:!1,postProcess:!1,decompress:!1})),!i.fetchLinkedResources){e.next=7;break}return e.next=7,B(t,i);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(e,t){return L.apply(this,arguments)}function L(){return(L=o()(a.a.mark(function e(t,n){var r,i,s,o,u,l,h,d,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.json.buffers,i=Array.isArray(r),s=0,r=i?r:r[Symbol.iterator]();case 1:if(!i){e.next=7;break}if(!(s>=r.length)){e.next=4;break}return e.abrupt("break",26);case 4:o=r[s++],e.next=11;break;case 7:if(!(s=r.next()).done){e.next=10;break}return e.abrupt("break",26);case 10:o=s.value;case 11:if(!(u=o).uri){e.next=24;break}return l=n.fetch||window.fetch,Object(c.a)(l),h=Object(f.g)(u.uri,n.uri),e.next=18,l(h);case 18:return d=e.sent,e.next=21,d.arrayBuffer();case 21:p=e.sent,u.data=p,delete u.uri;case 24:e.next=1;break;case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}},299:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return b});n(31);var r=n(2),i=n.n(r),a=n(0),s=n.n(a),o=n(3),u=n.n(o),c=n(213),f=n(446),l=n(434),h=n(307);void 0===e||e.navigator||(e.navigator={}),"undefined"!=typeof window&&(window.website=!0);var d={EXAMPLE_NOT_SUPPPORTED:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},p={position:"fixed",fontSize:"12px",zIndex:1e4,color:"#fff",background:"#000",padding:"8px",opacity:.8},g={example:u.a.object,canvas:u.a.string},b=function(e){function t(t){var n,r=(n=e.call(this,t)||this).props.AnimationLoop;return n.animationLoop=new r,n}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.showStats;this.animationLoop._setDisplay(new f.a);var t=this.props.path;if(t){Object(c.L)("https://raw.githubusercontent.com/uber/loaders.gl/master/"+t)}this.animationLoop.start(this.props),e&&this._showStats(this.animationLoop)},n.componentWillUnmount=function(){this.animationLoop.stop(this.props),this.animationLoop.delete(),this.animationLoop=null},n._showStats=function(e){var t=this,n=new l.a(e.stats,{container:this.refs.renderStats,title:"Render Time",css:{header:{fontWeight:"bold"}},framesPerUpdate:60,formatters:{"CPU Time":"averageTime","GPU Time":"averageTime","Frame Rate":"fps"},resetOnUpdate:{"CPU Time":!0,"GPU Time":!0,"Frame Rate":!0}});c.D.get("Memory Usage").reset();var r=new l.a(c.D.get("Memory Usage"),{container:this.refs.memStats,css:{header:{fontWeight:"bold"}},framesPerUpdate:60,formatters:{"GPU Memory":"memory","Buffer Memory":"memory","Renderbuffer Memory":"memory","Texture Memory":"memory"}});this.animationFrame=window.requestAnimationFrame(function e(){n.update(),r.update(),t.animationFrame=window.requestAnimationFrame(e)})},n._stopStats=function(){window.cancelAnimationFrame(this.animationFrame)},n.render=function(){var e=this.props,t=e.name,n=e.panel,r=void 0===n||n,i=e.stats,a=e.sourceLink;if(this.animationLoop.isSupported&&!this.animationLoop.isSupported()){var o=this.animationLoop.getAltText?this.animationLoop.getAltText():"THIS EXAMPLE IS NOT SUPPORTED";return s.a.createElement("div",{style:d.EXAMPLE_NOT_SUPPPORTED},s.a.createElement("h2",null," ",o," "))}var u=this.props.AnimationLoop.getInfo()||this.animationLoop.getInfo&&this.animationLoop.getInfo();return s.a.createElement("div",{className:"fg",style:{width:"100%",height:"100%",padding:0,border:0}},i?s.a.createElement("div",{ref:"stats",className:"stats",style:p},s.a.createElement("div",{ref:"renderStats",className:"renderStats"}),s.a.createElement("div",{ref:"memStats",className:"memStats"})):null,s.a.createElement("canvas",{id:this.props.canvas,style:{width:"100%",height:"100%",padding:0,border:0}}),r?s.a.createElement(h.a,{name:t,controls:u,sourceLink:a}):null)},t}(a.Component);b.propTypes=g,b.defaultProps={canvas:"example-canvas"},b.displayName="AnimationLoop"}).call(this,n(79))},301:function(e,t){},307:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(31);var r=n(2),i=n.n(r),a=n(0),s=n.n(a),o=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.controls,r=e.sourceLink;return s.a.createElement("div",{className:"options-panel top-right",tabIndex:"0"},s.a.createElement("h3",null,t),s.a.createElement("div",{className:"control-panel",dangerouslySetInnerHTML:{__html:n}}),r&&s.a.createElement("div",{className:"source-link"},s.a.createElement("a",{href:r,target:"_new"},"View Code â†—")))},t}(a.PureComponent)},341:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});n(208);function r(e){return e+3&-4}function i(e,t,n){var i;if(e instanceof ArrayBuffer)i=new Uint8Array(e);else{var a=e.byteOffset,s=e.byteLength;i=new Uint8Array(e.buffer,a,s)}return t.set(i,n),n+r(i.byteLength)}},426:function(e,t,n){"use strict";n(7);var r=n(210),i=n.n(r),a=(n(211),n(212)),s=n.n(a),o=n(294),u=(n(208),n(223),n(76),n(77),n(32),n(21),n(14),n(11),n(78),n(80),n(239)),c=n(229),f=n(219),l=n(264),h=n(246),d=n(224),p=n(265);n(83);function g(e,t,n){return void 0===n&&(n={}),function e(t,n,r,i){void 0===i&&(i={});var a=t;var s=function(e,t){var n=function(e){if("string"==typeof e){if(0===e.indexOf("##/"))return e.slice(1);var t=e.match(/#\/([a-z]+)\/([0-9]+)/);if(t){var n=parseInt(t[2],10);return[t[1],n]}if(t=e.match(/\$\$\$([0-9]+)/)){var r=parseInt(t[1],10);return["accessors",r]}}return null}(e);if(n){var r=n[0],i=n[1],a=t[r]&&t[r][i];if(a)return a;console.error("Invalid JSON pointer "+e+": #/"+r+"/"+i)}return null}(a,r);if(s)return s;if(Array.isArray(a))return a.map(function(t){return e(t,n,r,i)});if(null!==a&&"object"==typeof a){var o={};for(var u in a)o[u]=e(a[u],n,r,i);return o}return a}(e,e,t,n)}function b(e,t,n){n&&(e=function(e,t){for(var n=e.byteLength-t,r=new ArrayBuffer(n),i=new Uint8Array(e),a=new Uint8Array(r),s=0;s<n;s++)a[s]=i[t+s];return r}(e,n));for(var r=t.bufferViews||[],i=0;i<r.length;++i){var a=r[i];Object(d.a)(a.byteLength>=0)}return{accessors:m(e,r,t),images:v(e,r,t)}}function m(e,t,n){for(var r=n.accessors||[],i=[],a=0;a<r.length;++a){var s=r[a];Object(d.a)(s);var o=t[s.bufferView];if(o){var u=Object(f.d)(s,o),c=u.ArrayType,l=u.length,h=new c(e,o.byteOffset,l);h.accessor=s,i.push(h)}}return i}function v(e,t,n){for(var r=n.images||[],i=[],a=0;a<r.length;++a){var s=r[a];Object(d.a)(s);var o=t[s.bufferView];Object(d.a)(o);var u=new Uint8Array(e,o.byteOffset,o.byteLength);u.imate=s,i.push(u)}return i}var y=function(){function e(){}e.isGLB=function(e,t){void 0===t&&(t={});return Object(p.b)(e,0)};var t=e.prototype;return t.parse=function(e,t){return void 0===t&&(t={}),this.parseSync(e,t)},t.parseSync=function(e,t){if(void 0===t&&(t={}),this.glbArrayBuffer=e,this.binaryByteOffset=null,this.packedJson=null,this.json=null,null===this.json&&null===this.binaryByteOffset){Object(p.a)(this,this.glbArrayBuffer,0,t),this.binaryByteOffset=this.binChunkByteOffset,this.packedJson=this.json;var n=b(this.glbArrayBuffer,this.json,this.binaryByteOffset);this.json=g(this.json,n),this.unpackedBuffers=n}return this},t.getApplicationData=function(e){return this.json[e]},t.getJSON=function(){return this.json},t.getArrayBuffer=function(){return this.glbArrayBuffer},t.getBinaryByteOffset=function(){return this.binaryByteOffset},t.getBufferView=function(e){var t=(e.byteOffset||0)+this.binaryByteOffset;return new Uint8Array(this.glbArrayBuffer,t,e.byteLength)},t.getBuffer=function(e){var t=f.a[e.componentType],n=f.c[e.type],r=f.b[e.componentType],i=e.count*n,a=e.count*n*r,s=this.json.bufferViews[e.bufferView];Object(d.a)(a>=0&&e.byteOffset+a<=s.byteLength);var o=s.byteOffset+this.binaryByteOffset+e.byteOffset;return new t(this.glbArrayBuffer,o,i)},t.getImageData=function(e){return{typedArray:this.getBufferView(e.bufferView),mimeType:e.mimeType||"image/jpeg"}},t.getImage=function(e){var t=this.getBufferView(e.bufferView),n=e.mimeType||"image/jpeg",r=new Blob([t],{type:n}),i=(self.URL||self.webkitURL).createObjectURL(r),a=new Image;return a.src=i,a},t.getImageAsync=function(e){var t=this;return new Promise(function(n){var r=t.getBufferView(e.bufferView),i=e.mimeType||"image/jpeg",a=new Blob([r],{type:i}),s=(self.URL||self.webkitURL).createObjectURL(a),o=new Image;o.onload=function(){return n(o)},o.src=s})},e}(),x={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},w={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},j={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243};var O=function(){function e(){}var t=e.prototype;return t.postProcess=function(e,t,n){return void 0===n&&(n={}),this.gltf=e,this.glbParser=t,this._resolveToTree(n),this.gltf},t._resolveToTree=function(e){var t=this;void 0===e&&(e={});var n=this.gltf;return(n.bufferViews||[]).forEach(function(e,n){return t._resolveBufferView(e,n)}),(n.images||[]).forEach(function(n,r){return t._resolveImage(n,r,e)}),(n.samplers||[]).forEach(function(e,n){return t._resolveSampler(e,n)}),(n.textures||[]).forEach(function(e,n){return t._resolveTexture(e,n)}),(n.accessors||[]).forEach(function(e,n){return t._resolveAccessor(e,n)}),(n.materials||[]).forEach(function(e,n){return t._resolveMaterial(e,n)}),(n.meshes||[]).forEach(function(e,n){return t._resolveMesh(e,n)}),(n.nodes||[]).forEach(function(e,n){return t._resolveNode(e,n)}),(n.skins||[]).forEach(function(e,n){return t._resolveSkin(e,n)}),(n.scenes||[]).forEach(function(e,n){return t._resolveScene(e,n)}),void 0!==n.scene&&(n.scene=n.scenes[this.gltf.scene]),this._process_extension_KHR_lights_punctual(),n},t.getScene=function(e){return this._get("scenes",e)},t.getNode=function(e){return this._get("nodes",e)},t.getSkin=function(e){return this._get("skins",e)},t.getMesh=function(e){return this._get("meshes",e)},t.getMaterial=function(e){return this._get("materials",e)},t.getAccessor=function(e){return this._get("accessors",e)},t.getCamera=function(e){return null},t.getTexture=function(e){return this._get("textures",e)},t.getSampler=function(e){return this._get("samplers",e)},t.getImage=function(e){return this._get("images",e)},t.getBufferView=function(e){return this._get("bufferViews",e)},t.getBuffer=function(e){return this._get("buffers",e)},t._get=function(e,t){if("object"==typeof t)return t;var n=this.gltf[e]&&this.gltf[e][t];return n||console.warn("glTF file error: Could not find "+e+"["+t+"]"),n},t._resolveScene=function(e,t){var n=this;e.id="scene-"+t,e.nodes=(e.nodes||[]).map(function(e){return n.getNode(e)})},t._resolveNode=function(e,t){var n=this;e.id="node-"+t,e.children=(e.children||[]).map(function(e){return n.getNode(e)}),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin))},t._resolveSkin=function(e,t){e.id="skin-"+t,e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices)},t._resolveMesh=function(e,t){e.id="mesh-"+t;var n=e.primitives,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var s=a;for(var o in s.attributes)s.attributes[o]=this.getAccessor(s.attributes[o]);void 0!==s.indices&&(s.indices=this.getAccessor(s.indices)),void 0!==s.material&&(s.material=this.getMaterial(s.material))}},t._resolveMaterial=function(e,t){if(e.id="material-"+t,e.normalTexture&&(e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){var n=e.pbrMetallicRoughness;n.baseColorTexture&&(n.baseColorTexture.texture=this.getTexture(n.baseColorTexture.index)),n.metallicRoughnessTexture&&(n.metallicRoughnessTexture.texture=this.getTexture(n.metallicRoughnessTexture.index))}},t._resolveAccessor=function(e,t){e.id="accessor-"+t,void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=w[e],e.components=x[e],e.bytesPerElement=e.bytesPerComponent*e.components},t._resolveTexture=function(e,t){e.id="texture-"+t,e.sampler=this.getSampler(e.sampler),e.source=this.getImage(e.source)},t._resolveSampler=function(e,t){for(var n in e.id="sampler-"+t,e.parameters={},e){var r=this._enumSamplerParameter(n);void 0!==r&&(e.parameters[r]=e[n])}},t._enumSamplerParameter=function(e){return j[e]},t._resolveImage=function(e,t,n){var r=this;e.id="image-"+t,void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var i=n.createImages;void 0===i||i?e.image=this.glbParser.getImage(e):e.getImageAsync=function(){return r.glbParser?r.glbParser.getImageAsync(e):e.uri?new Promise(function(t){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){return t(r)},r.src=Object(f.g)(e.uri,n.uri)}):null}},t._resolveBufferView=function(e,t){if(e.id="bufferView-"+t,e.buffer=this.getBuffer(e.buffer),this.glbParser)e.data=this.glbParser.getBufferView(e);else{var n=e.byteOffset||0;e.data=new Uint8Array(e.buffer.data,n,e.byteLength)}},t._resolveCamera=function(e){e.perspective,e.orthographic},t._process_extension_KHR_lights_punctual=function(){var e=this.gltf,t=e.extensions&&e.extensions.KHR_lights_punctual;t&&(e.lights=t.lights),this._removeExtension("KHR_lights_punctual");var n=e.nodes||[],r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var s=a,o=s.extensions&&s.extensions.KHR_lights_punctual;o&&(s.light=this._get("lights",o.light),delete s.extensions.KHR_lights_punctual)}delete e.lights},t._removeExtension=function(e){this.gltf.extensionsRequired&&this._removeStringFromArray(this.gltf.extensionsRequired,e),this.gltf.extensionsUsed&&this._removeStringFromArray(this.gltf.extensionsUsed,e),this.gltf.extensions&&delete this.gltf.extensions[e]},t._removeStringFromArray=function(e,t){for(var n=!0;n;){var r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}},e}(),A={fetchLinkedResources:!0,fetch:u.a,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console},_=function(){function e(){}var t=e.prototype;return t.parse=function(){var e=s()(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),n=Object.assign({},A,n),this.parseSync(t,Object.assign({},n,{postProcess:!1,decompress:!1})),!n.fetchLinkedResources){e.next=6;break}return e.next=6,this._loadLinkedAssets(n);case 6:return n.decompress&&this._decompressMeshes(n),n.postProcess&&(new O).postProcess(this.gltf,this.glbParser,n),e.abrupt("return",this.gltf);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.parseSync=function(e,t){(void 0===t&&(t={}),t=Object.assign({},A,t),e instanceof ArrayBuffer&&!y.isGLB(e,t))&&(e=(new c.a).decode(e));("string"==typeof e&&(e=JSON.parse(e)),e instanceof ArrayBuffer?(this.glbParser=new y,this.gltf=this.glbParser.parseSync(e).json,this.json=this.gltf):(this.glbParser=null,this.gltf=e,this.json=e),t.decompress&&this._decompressMeshes(t),t.postProcess)&&(new O).postProcess(this.gltf,this.glbParser,t);return this.gltf},t.getApplicationData=function(e){return this.json[e]},t.getExtraData=function(e){return(this.json.extras||{})[e]},t.getExtension=function(e){var t=this.getUsedExtensions().find(function(t){return t===e}),n=this.json.extensions||{};return t?n[e]||!0:null},t.getRequiredExtension=function(e){return this.getRequiredExtensions().find(function(t){return t===e})?this.getExtension(e):null},t.getRequiredExtensions=function(){return this.json.extensionsRequired||[]},t.getUsedExtensions=function(){return this.json.extensionsUsed||[]},t.getScene=function(e){return this._get("scenes",e)},t.getNode=function(e){return this._get("nodes",e)},t.getSkin=function(e){return this._get("skins",e)},t.getMesh=function(e){return this._get("meshes",e)},t.getMaterial=function(e){return this._get("materials",e)},t.getAccessor=function(e){return this._get("accessors",e)},t.getCamera=function(e){return null},t.getTexture=function(e){return this._get("textures",e)},t.getSampler=function(e){return this._get("samplers",e)},t.getImage=function(e){return this._get("images",e)},t.getBufferView=function(e){return this._get("bufferViews",e)},t.getBuffer=function(e){return this._get("buffers",e)},t._get=function(e,t){if("object"==typeof t)return t;var n=this.gltf[e]&&this.gltf[e][t];return n||console.warn("glTF file error: Could not find "+e+"["+t+"]"),n},t._loadLinkedAssets=function(){var e=s()(i.a.mark(function e(t){var n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.gltf.buffers.map(function(e){return n._loadBuffer(e,t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._loadBuffer=function(){var e=s()(i.a.mark(function e(t,n){var r,a,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.uri){e.next=11;break}return r=n.fetch||window.fetch,a=Object(f.g)(t.uri,n.uri),e.next=5,r(a);case 5:return s=e.sent,e.next=8,s.arrayBuffer();case 8:o=e.sent,t.data=o,t.uri=null;case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),t._decompressMeshes=function(e){if(e.DracoLoader&&e.decompress){var t=this.gltf.meshes||[],n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var a=i.primitives,s=Array.isArray(a),o=0;for(a=s?a:a[Symbol.iterator]();;){var u;if(s){if(o>=a.length)break;u=a[o++]}else{if((o=a.next()).done)break;u=o.value}var c=u;if(this._decompressKhronosDracoPrimitive(c,e),this._decompressUberDracoPrimitive(c,e),!c.attributes||0===Object.keys(c.attributes).length)throw new Error("Empty glTF primitive: decompression failure?")}}this._removeExtension(h.a),this._removeExtension(h.c)}},t._decompressKhronosDracoPrimitive=function(e,t){var n=e.extensions&&e.extensions[h.a];if(n){delete e.extensions[h.a];var r=this._getBufferViewArray(n.bufferView),i=t.DracoLoader.parseSync(r);e.attributes=Object(l.b)(i.attributes),i.indices&&(e.indices=Object(l.a)(i.indices))}},t._decompressUberDracoPrimitive=function(e,t){var n=e.extensions&&e.extensions[h.c];if(n){if(0!==e.mode)throw new Error(h.c);delete e.extensions[h.c];var r=this._getBufferViewArray(n.bufferView),i=t.DracoLoader.parseSync(r);e.attributes=i.attributes}},t._getBufferViewArray=function(e){var t=this.gltf.bufferViews[e];if(this.glbParser)return this.glbParser.getBufferView(t);var n=this.gltf.buffers[t.buffer].data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)},t._removeExtension=function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]},t._removeStringFromArray=function(e,t){for(var n=!0;n;){var r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}},e}(),E={useGLTFParser:!0};function k(){return(k=s()(i.a.mark(function e(t,n){var r,a,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),!(n=Object.assign({},E,n)).useGLTFParser){e.next=5;break}return r=new _,e.abrupt("return",r.parse(t,n));case 5:return a=n.byteOffset,s=void 0===a?0:a,u={},e.next=9,Object(o.a)(u,t,s,n);case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.a={name:"glTF",extension:["gltf","glb"],text:!0,binary:!0,parse:function(e,t){return k.apply(this,arguments)},parseSync:function(e,t){if(void 0===t&&(t={}),(t=Object.assign({},E,t)).useGLTFParser)return(new _).parseSync(e,t);var n=t.byteOffset,r=void 0===n?0:n,i={};return Object(o.b)(i,e,r,t),i},defaultOptions:E}}}]);