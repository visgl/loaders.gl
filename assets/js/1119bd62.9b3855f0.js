"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[457],{88480:(e,t,r)=>{r.d(t,{Gv:()=>o,H1:()=>d,Pe:()=>_,Sv:()=>u,Td:()=>c,aC:()=>a,qf:()=>l,xZ:()=>i});const n=e=>"boolean"==typeof e,s=e=>"function"==typeof e,o=e=>null!==e&&"object"==typeof e,a=e=>o(e)&&e.constructor==={}.constructor,i=e=>Boolean(e)&&"function"==typeof e[Symbol.iterator],c=e=>e&&"function"==typeof e[Symbol.asyncIterator],u=e=>"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,l=e=>"undefined"!=typeof Blob&&e instanceof Blob,_=e=>e&&"object"==typeof e&&e.isBuffer,d=e=>(e=>"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||o(e)&&s(e.tee)&&s(e.cancel)&&s(e.getReader))(e)||(e=>o(e)&&s(e.read)&&s(e.pipe)&&n(e.readable))(e)},85930:(e,t,r)=>{r.d(t,{H:()=>i});var n=r(88480),s=r(22858),o=r(92263),a=r(69681);async function i(e,t,r,i){let c,u;Array.isArray(t)||(0,s.l)(t)?(c=t,u=r):(c=[],u=t);const l=(0,o.z)(u);let _=e;return"string"==typeof e&&(_=await l(e)),(0,n.qf)(e)&&(_=await l(e)),Array.isArray(c),await(0,a.q)(_,c,u)}},69681:(e,t,r)=>{r.d(t,{q:()=>N});var n=r(97354),s=r(99222);class o{terminate(){}}var a=r(46410);const i=new Map;function c(e){(0,a.v)(e.source&&!e.url||!e.source&&e.url);let t=i.get(e.source||e.url);return t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return u((t=e,`try {\n  importScripts('${t}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`));var t}(e.url),i.set(e.url,t)),e.source&&(t=u(e.source),i.set(e.source,t))),(0,a.v)(t),t}function u(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function l(e,t,r){void 0===t&&(t=!0);const n=r||new Set;if(e){if(_(e))n.add(e);else if(_(e.buffer))n.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"==typeof e)for(const s in e)l(e[s],t,n)}else;return void 0===r?Array.from(n):[]}function _(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var d=r(80247);const f=()=>{};class S{terminated=!1;_loadableURL="";static isSupported(){return"undefined"!=typeof Worker&&s.Bd||void 0!==o&&!s.Bd}constructor(e){const{name:t,source:r,url:n}=e;(0,a.v)(r||n),this.name=t,this.source=r,this.url=n,this.onMessage=f,this.onError=e=>d.log(e),this.worker=s.Bd?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=f,this.onError=f,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(e,t){t=t||l(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+=`worker ${this.name} from ${this.url}. `,e.message&&(t+=`${e.message} in `),e.lineno&&(t+=`:${e.lineno}:${e.colno}`),new Error(t)}_createBrowserWorker(){this._loadableURL=c({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=e=>{e.data?this.onMessage(e.data):this.onError(new Error("No data received"))},e.onerror=e=>{this.onError(this._getErrorFromErrorEvent(e)),this.terminated=!0},e.onmessageerror=e=>d.error(e),e}_createNodeWorker(){let e;if(this.url){const t=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new o(t,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new o(this.source,{eval:!0})}return e.on("message",(e=>{this.onMessage(e)})),e.on("error",(e=>{this.onError(e)})),e.on("exit",(e=>{})),e}}class h{isRunning=!0;_resolve=()=>{};_reject=()=>{};constructor(e,t){this.name=e,this.workerThread=t,this.result=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){(0,a.v)(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){(0,a.v)(this.isRunning),this.isRunning=!1,this._reject(e)}}var E=r(80247);class R{name="unnamed";maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return S.isSupported()}constructor(e){this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach((e=>e.destroy())),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}async startJob(e,t,r){void 0===t&&(t=(e,t,r)=>e.done(r)),void 0===r&&(r=(e,t)=>e.error(t));const n=new Promise((n=>(this.jobQueue.push({name:e,onMessage:t,onError:r,onStart:n}),this)));return this._startQueuedJob(),await n}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});const n=new h(t.name,e);e.onMessage=e=>t.onMessage(n,e.type,e.payload),e.onError=e=>t.onError(n,e),t.onStart(n);try{await n.result}catch(r){E.error(`Worker exception: ${r}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!s.Bd||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new S({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return s.Fr?this.maxMobileConcurrency:this.maxConcurrency}}const m={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class p{workerPools=(()=>new Map)();static isSupported(){return S.isSupported()}static getWorkerFarm(e){return void 0===e&&(e={}),p._workerFarm=p._workerFarm||new p({}),p._workerFarm.setProps(e),p._workerFarm}constructor(e){this.props={...m},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:r,url:n}=e;let s=this.workerPools.get(t);return s||(s=new R({name:t,source:r,url:n}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}var C=r(11654);var A=r(80247);async function g(e,t,r,n,o){const i=e.id,c=function(e,t){void 0===t&&(t={});const r=t[e.id]||{},n=s.Bd?`${e.id}-worker.js`:`${e.id}-worker-node.js`;let o=r.workerUrl;if(o||"compression"!==e.id||(o=t.workerUrl),"test"===t._workerType&&(o=s.Bd?`modules/${e.module}/dist/${n}`:`modules/${e.module}/src/workers/${e.id}-worker-node.ts`),!o){let t=e.version;"latest"===t&&(t=C.x);const r=t?`@${t}`:"";o=`https://unpkg.com/@loaders.gl/${e.module}${r}/dist/${n}`}return(0,a.v)(o),o}(e,r),u=p.getWorkerFarm(r).getWorkerPool({name:i,url:c});r=JSON.parse(JSON.stringify(r)),n=JSON.parse(JSON.stringify(n||{}));const l=await u.startJob("process-on-worker",T.bind(null,o));l.postMessage("process",{input:t,options:r,context:n});const _=await l.result;return await _.result}async function T(e,t,r,n){switch(r){case"done":t.done(n);break;case"error":t.error(new Error(n.error));break;case"process":const{id:o,input:a,options:i}=n;try{const r=await e(a,i);t.postMessage("done",{id:o,result:r})}catch(s){const e=s instanceof Error?s.message:"unknown error";t.postMessage("error",{id:o,error:e})}break;default:A.warn(`parse-with-worker unknown message ${r}`)}}var b=r(9894);var y=r(22858),P=r(88480),x=r(91400),w=r(8001);const B=262144;const D=262144;const M=1048576;var v=r(26951),G=r(53024);function O(e,t){return v.Bd?async function*(e,t){const r=e.getReader();let n;try{for(;;){const e=n||r.read();t?._streamReadAhead&&(n=r.read());const{done:s,value:o}=await e;if(s)return;yield(0,G.XA)(o)}}catch(s){r.releaseLock()}}(e,t):async function*(e){for await(const t of e)yield(0,G.XA)(t)}(e)}function H(e,t){if("string"==typeof e)return function*(e,t){const r=t?.chunkSize||B;let n=0;const s=new TextEncoder;for(;n<e.length;){const t=Math.min(e.length-n,r),o=e.slice(n,n+t);n+=t,yield s.encode(o)}}(e,t);if(e instanceof ArrayBuffer)return function(e,t){return void 0===t&&(t={}),function*(){const{chunkSize:r=D}=t;let n=0;for(;n<e.byteLength;){const t=Math.min(e.byteLength-n,r),s=new ArrayBuffer(t),o=new Uint8Array(e,n,t);new Uint8Array(s).set(o),n+=t,yield s}}()}(e,t);if((0,P.qf)(e))return async function*(e,t){const r=t?.chunkSize||M;let n=0;for(;n<e.size;){const t=n+r,s=await e.slice(n,t).arrayBuffer();n=t,yield s}}(e,t);if((0,P.H1)(e))return O(e,t);if((0,P.Sv)(e)){return O(e.body,t)}throw new Error("makeIterator")}var L=r(45653);const X="Cannot convert supplied data type";async function k(e,t,r){const n=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if("string"==typeof e||n)return function(e,t){if(t.text&&"string"==typeof e)return e;if((0,P.Pe)(e)&&(e=e.buffer),e instanceof ArrayBuffer){const r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);let r=e.buffer;const n=e.byteLength||e.length;return 0===e.byteOffset&&n===r.byteLength||(r=r.slice(e.byteOffset,e.byteOffset+n)),r}throw new Error(X)}(e,t);if((0,P.qf)(e)&&(e=await(0,L.wv)(e)),(0,P.Sv)(e)){const r=e;return await(0,L.Mz)(r),t.binary?await r.arrayBuffer():await r.text()}if((0,P.H1)(e)&&(e=H(e,r)),(0,P.xZ)(e)||(0,P.Td)(e))return(0,w.cy)(e);throw new Error(X)}var K=r(92263),I=r(3680),j=r(36970);var $=r(44029),U=r(188);async function N(e,t,r,o){!t||Array.isArray(t)||(0,y.l)(t)||(o=void 0,r=t,t=void 0),e=await e,r=r||{};const i=(0,$.Al)(e),c=function(e,t){if(e&&!Array.isArray(e))return e;let r;if(e&&(r=Array.isArray(e)?e:[e]),t&&t.loaders){const e=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[...r,...e]:e}return r&&r.length?r:void 0}(t,o),u=await(0,U.M)(e,c,r);return u?(o=function(e,t,r){if(r)return r;const n={fetch:(0,K.z)(t,e),...e};if(n.url){const e=(0,I.S3)(n.url);n.baseUrl=e,n.queryString=(0,I.by)(n.url),n.filename=j.iW(e),n.baseUrl=j.pD(e)}return Array.isArray(n.loaders)||(n.loaders=null),n}({url:i,_parse:N,loaders:c},r=(0,x.a5)(r,u,c,i),o||null),await async function(e,t,r,o){if(function(e,t){void 0===t&&(t=b.x),(0,a.v)(e,"no worker provided");const r=e.version}(e),r=(0,n.l)(e.options,r),(0,P.Sv)(t)){const e=t,{ok:r,redirected:n,status:s,statusText:a,type:i,url:c}=e,u=Object.fromEntries(e.headers.entries());o.response={headers:u,ok:r,redirected:n,status:s,statusText:a,type:i,url:c}}t=await k(t,e,r);const i=e;if(i.parseTextSync&&"string"==typeof t)return i.parseTextSync(t,r,o);if(function(e,t){return!!p.isSupported()&&!(!s.Bd&&!t?._nodeWorkers)&&e.worker&&t?.worker}(e,r))return await g(e,t,r,o,N);if(i.parseText&&"string"==typeof t)return await i.parseText(t,r,o);if(i.parse)return await i.parse(t,r,o);throw(0,a.v)(!i.parseSync),new Error(`${e.id} loader - no parser found and worker is disabled`)}(u,e,r,o)):null}},76702:(e,t,r)=>{r.d(t,{Ph:()=>i,mk:()=>a});var n=r(22858),s=r(91400);const o=()=>{const e=(0,s.K2)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function a(e){const t=o();e=Array.isArray(e)?e:[e];for(const r of e){const e=(0,n.D)(r);t.find((t=>e===t))||t.unshift(e)}}function i(){return o()}},188:(e,t,r)=>{r.d(t,{M:()=>f});var n=r(55256),s=r(36970),o=r(95247),a=r(22858),i=r(44029),c=r(95410),u=r(76702),l=r(88480),_=r(3680);const d=/\.([^.]+)$/;async function f(e,t,r,n){if(void 0===t&&(t=[]),!h(e))return null;let s=S(e,t,{...r,nothrow:!0},n);if(s)return s;if((0,l.qf)(e)&&(s=S(e=await e.slice(0,10).arrayBuffer(),t,r,n)),!s&&!r?.nothrow)throw new Error(E(e));return s}function S(e,t,r,s){if(void 0===t&&(t=[]),!h(e))return null;if(t&&!Array.isArray(t))return(0,a.D)(t);let o=[];t&&(o=o.concat(t)),r?.ignoreRegisteredLoaders||o.push(...(0,u.Ph)()),function(e){for(const t of e)(0,a.D)(t)}(o);const c=function(e,t,r,s){const o=(0,i.Al)(e),a=(0,i.z4)(e),c=(0,_.S3)(o)||s?.url;let u=null,l="";r?.mimeType&&(u=R(t,r?.mimeType),l=`match forced by supplied MIME type ${r?.mimeType}`);u=u||function(e,t){const r=t&&d.exec(t),n=r&&r[1];return n?function(e,t){t=t.toLowerCase();for(const r of e)for(const e of r.extensions)if(e.toLowerCase()===t)return r;return null}(e,n):null}(t,c),l=l||(u?`matched url ${c}`:""),u=u||R(t,a),l=l||(u?`matched MIME type ${a}`:""),u=u||function(e,t){if(!t)return null;for(const r of e)if("string"==typeof t){if(m(t,r))return r}else if(ArrayBuffer.isView(t)){if(p(t.buffer,t.byteOffset,r))return r}else if(t instanceof ArrayBuffer){if(p(t,0,r))return r}return null}(t,e),l=l||(u?`matched initial data ${C(e)}`:""),r?.fallbackMimeType&&(u=u||R(t,r?.fallbackMimeType),l=l||(u?`matched fallback MIME type ${a}`:""));l&&n.R.log(1,`selectLoader selected ${u?.name}: ${l}.`);return u}(e,o,r,s);if(!c&&!r?.nothrow)throw new Error(E(e));return c}function h(e){return!(e instanceof Response&&204===e.status)}function E(e){const t=(0,i.Al)(e),r=(0,i.z4)(e);let n="No valid loader found (";n+=t?`${s.iW(t)}, `:"no url provided, ",n+=`MIME type: ${r?`"${r}"`:"not provided"}, `;const o=e?C(e):"";return n+=o?` first bytes: "${o}"`:"first bytes: not available",n+=")",n}function R(e,t){for(const r of e){if(r.mimeTypes?.some((e=>(0,c.JQ)(t,e))))return r;if((0,c.JQ)(t,`application/x.${r.id}`))return r}return null}function m(e,t){if(t.testText)return t.testText(e);return(Array.isArray(t.tests)?t.tests:[t.tests]).some((t=>e.startsWith(t)))}function p(e,t,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some((r=>function(e,t,r,n){if(n instanceof ArrayBuffer)return(0,o.YV)(n,e,n.byteLength);switch(typeof n){case"function":return n(e);case"string":return n===A(e,t,n.length);default:return!1}}(e,t,0,r)))}function C(e,t){if(void 0===t&&(t=5),"string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return A(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return A(e,0,t)}return""}function A(e,t,r){if(e.byteLength<t+r)return"";const n=new DataView(e);let s="";for(let o=0;o<r;o++)s+=String.fromCharCode(n.getUint8(t+o));return s}},44207:(e,t,r)=>{r.d(t,{t2:()=>o});var n=r(29512),s=r(45653);async function o(e,t){if("string"==typeof e){const r=(0,n.o1)(e);return function(e){return!function(e){return e.startsWith("http:")||e.startsWith("https:")}(e)&&!function(e){return e.startsWith("data:")}(e)}(r)&&globalThis.loaders?.fetchNode?globalThis.loaders?.fetchNode(r,t):await fetch(r,t)}return await(0,s.wv)(e)}},92263:(e,t,r)=>{r.d(t,{z:()=>a});var n=r(88480),s=r(44207),o=r(91400);function a(e,t){const r=(0,o.pp)(),a=e||r;return"function"==typeof a.fetch?a.fetch:(0,n.Gv)(a.fetch)?e=>(0,s.t2)(e,a.fetch):t?.fetch?t?.fetch:s.t2}},22858:(e,t,r)=>{r.d(t,{D:()=>o,l:()=>s});var n=r(10981);function s(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);return Array.isArray(e?.extensions)}function o(e){let t;return(0,n.v)(e,"null loader"),(0,n.v)(s(e),"invalid loader"),Array.isArray(e)&&(t=e[1],e=e[0],e={...e,options:{...e.options,...t}}),(e?.parseTextSync||e?.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}},91400:(e,t,r)=>{r.d(t,{pp:()=>d,K2:()=>_,a5:()=>f});var n=r(88480),s=r(35593),o=r(80247);const a=new s.t({id:"loaders.gl"});class i{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var c=r(26951);const u={fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){this.console=o}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.log.bind(this.console,...t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.info.bind(this.console,...t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.warn.bind(this.console,...t)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.error.bind(this.console,...t)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:c.Bd,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},l={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function _(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state||(e._state={}),e._state}function d(){const e=_();return e.globalOptions=e.globalOptions||{...u},e.globalOptions}function f(e,t,r,n){return r=r||[],function(e,t){S(e,null,u,l,t);for(const r of t){const n=e&&e[r.id]||{},s=r.options&&r.options[r.id]||{},o=r.deprecatedOptions&&r.deprecatedOptions[r.id]||{};S(n,r.id,s,o,t)}}(e,r=Array.isArray(r)?r:[r]),E(t,e,n)}function S(e,t,r,s,o){const i=t||"Top level",c=t?`${t}.`:"";for(const u in e){const l=!t&&(0,n.Gv)(e[u]);if(!(u in r)&&!("baseUri"===u&&!t)&&!("workerUrl"===u&&t))if(u in s)a.warn(`${i} loader option '${c}${u}' no longer supported, use '${s[u]}'`)();else if(!l){const e=h(u,o);a.warn(`${i} loader option '${c}${u}' not recognized. ${e}`)()}}}function h(e,t){const r=e.toLowerCase();let n="";for(const s of t)for(const t in s.options){if(e===t)return`Did you mean '${s.id}.${t}'?`;const o=t.toLowerCase();(r.startsWith(o)||o.startsWith(r))&&(n=n||`Did you mean '${s.id}.${t}'?`)}return n}function E(e,t,r){const n={...e.options||{}};return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(n,r),null===n.log&&(n.log=new i),R(n,d()),R(n,t),n}function R(e,t){for(const r in t)if(r in t){const s=t[r];(0,n.aC)(s)&&(0,n.aC)(e[r])?e[r]={...e[r],...t[r]}:e[r]=t[r]}}},95410:(e,t,r)=>{r.d(t,{JQ:()=>o,OA:()=>a,d_:()=>i});const n=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,s=/^([-\w.]+\/[-\w.+]+)/;function o(e,t){return e.toLowerCase()===t.toLowerCase()}function a(e){const t=s.exec(e);return t?t[1]:e}function i(e){const t=n.exec(e);return t?t[1]:""}},44029:(e,t,r)=>{r.d(t,{Al:()=>a,_E:()=>c,z4:()=>i});var n=r(88480),s=r(95410),o=r(3680);function a(e){if((0,n.Sv)(e)){return e.url}if((0,n.qf)(e)){return e.name||""}return"string"==typeof e?e:""}function i(e){if((0,n.Sv)(e)){const t=e,r=t.headers.get("content-type")||"",n=(0,o.S3)(t.url);return(0,s.OA)(r)||(0,s.d_)(n)}if((0,n.qf)(e)){return e.type||""}return"string"==typeof e?(0,s.d_)(e):""}function c(e){if((0,n.Sv)(e)){return e.headers["content-length"]||-1}if((0,n.qf)(e)){return e.size}return"string"==typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}},45653:(e,t,r)=>{r.d(t,{Mz:()=>c,wv:()=>i});var n=r(88480);class s extends Error{constructor(e,t){super(e),this.reason=t.reason,this.url=t.url,this.response=t.response}}var o=r(44029),a=r(3680);async function i(e){if((0,n.Sv)(e))return e;const t={},r=(0,o._E)(e);r>=0&&(t["content-length"]=String(r));const s=(0,o.Al)(e),a=(0,o.z4)(e);a&&(t["content-type"]=a);const i=await async function(e){const t=5;if("string"==typeof e)return`data:,${e.slice(0,t)}`;if(e instanceof Blob){const t=e.slice(0,5);return await new Promise((e=>{const r=new FileReader;r.onload=t=>e(t?.target?.result),r.readAsDataURL(t)}))}if(e instanceof ArrayBuffer){return`data:base64,${function(e){let t="";const r=new Uint8Array(e);for(let n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return btoa(t)}(e.slice(0,t))}`}return null}(e);i&&(t["x-first-bytes"]=i),"string"==typeof e&&(e=(new TextEncoder).encode(e));const c=new Response(e,{headers:t});return Object.defineProperty(c,"url",{value:s}),c}async function c(e){if(!e.ok){const t=await async function(e){const r=(0,a.E1)(e.url);let n=`Failed to fetch resource (${e.status}) ${e.statusText}: ${r}`;n=n.length>100?`${n.slice(0,100)}...`:n;const o={reason:e.statusText,url:e.url,response:e};try{const t=e.headers.get("Content-Type");o.reason=!e.bodyUsed&&t?.includes("application/json")?await e.json():await e.text()}catch(t){}return new s(n,o)}(e);throw t}}},3680:(e,t,r)=>{r.d(t,{E1:()=>a,S3:()=>o,by:()=>s});const n=/\?.*/;function s(e){const t=e.match(n);return t&&t[0]}function o(e){return e.replace(n,"")}function a(e){if(e.length<50)return e;const t=e.slice(e.length-15);return`${e.substr(0,32)}...${t}`}},83073:(e,t,r)=>{r.d(t,{$:()=>g});const n="undefined"!=typeof __VERSION__?__VERSION__:"latest";var s=r(10981),o=r(26951);const a=globalThis.loaders?.parseImageNode,i="undefined"!=typeof Image,c="undefined"!=typeof ImageBitmap,u=Boolean(a),l=!!o.Bd||u;var _=r(47216);const d=/^data:image\/svg\+xml/,f=/\.svg((\?|#).*)?$/;function S(e){return e&&(d.test(e)||f.test(e))}function h(e,t){if(S(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}async function E(e,t,r){const n=function(e,t){if(S(t)){let t=(new TextDecoder).decode(e);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(t=unescape(encodeURIComponent(t)))}catch(r){throw new Error(r.message)}return`data:image/svg+xml;base64,${btoa(t)}`}return h(e,t)}(e,r),s=self.URL||self.webkitURL,o="string"!=typeof n&&s.createObjectURL(n);try{return await async function(e,t){const r=new Image;if(r.src=e,t.image&&t.image.decode&&r.decode)return await r.decode(),r;return await new Promise(((e,t)=>{try{r.onload=()=>e(r),r.onerror=e=>{const r=e instanceof Error?e.message:"error";t(new Error(r))}}catch(n){t(n)}}))}(o||n,t)}finally{o&&s.revokeObjectURL(o)}}var R=r(80247);const m={};let p=!0;async function C(e,t,r){let n;if(S(r)){n=await E(e,t,r)}else n=h(e,r);const s=t&&t.imagebitmap;return await async function(e,t){void 0===t&&(t=null);!function(e){for(const t in e||m)return!1;return!0}(t)&&p||(t=null);if(t)try{return await createImageBitmap(e,t)}catch(r){R.warn(r),p=!1}return await createImageBitmap(e)}(n,s)}var A=r(69186);const g={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:n,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:async function(e,t,r){const n=((t=t||{}).image||{}).type||"auto",{url:o}=r||{};let a;switch(function(e){switch(e){case"auto":case"data":return function(){if(c)return"imagebitmap";if(i)return"image";if(l)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return c||i||l;case"imagebitmap":return c;case"image":return i;case"data":return l;default:throw new Error(`@loaders.gl/images: image ${e} not supported in this environment`)}}(e),e}}(n)){case"imagebitmap":a=await C(e,t,o);break;case"image":a=await E(e,t,o);break;case"data":a=await async function(e){const{mimeType:t}=(0,A.m)(e)||{},r=globalThis.loaders?.parseImageNode;return(0,s.v)(r),await r(e,t)}(e);break;default:(0,s.v)(!1)}return"data"===n&&(a=(0,_.M5)(a)),a},tests:[e=>Boolean((0,A.m)(new DataView(e)))],options:{image:{type:"auto",decode:!0}}}},69186:(e,t,r)=>{function n(e){return function(e,t,r){void 0===r&&(r=0);const n=(s=t,[...s].map((e=>e.charCodeAt(0))));var s;for(let o=0;o<n.length;++o)if(n[o]!==e[o+r])return!1;return!0}(e,"ftyp",4)&&96&e[8]?function(e){switch((t=e,r=8,n=12,String.fromCharCode(...t.slice(r,n))).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}var t,r,n}(e):null}r.d(t,{m:()=>a});const s=!1,o=!0;function a(e){const t=i(e);return function(e){const t=i(e),r=t.byteLength>=24&&2303741511===t.getUint32(0,s);if(!r)return null;return{mimeType:"image/png",width:t.getUint32(16,s),height:t.getUint32(20,s)}}(t)||function(e){const t=i(e),r=t.byteLength>=3&&65496===t.getUint16(0,s)&&255===t.getUint8(2);if(!r)return null;const{tableMarkers:n,sofMarkers:o}=function(){const e=new Set([65499,65476,65484,65501,65534]);for(let r=65504;r<65520;++r)e.add(r);const t=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:t}}();let a=2;for(;a+9<t.byteLength;){const e=t.getUint16(a,s);if(o.has(e))return{mimeType:"image/jpeg",height:t.getUint16(a+5,s),width:t.getUint16(a+7,s)};if(!n.has(e))return null;a+=2,a+=t.getUint16(a,s)}return null}(t)||function(e){const t=i(e),r=t.byteLength>=10&&1195984440===t.getUint32(0,s);if(!r)return null;return{mimeType:"image/gif",width:t.getUint16(6,o),height:t.getUint16(8,o)}}(t)||function(e){const t=i(e),r=t.byteLength>=14&&16973===t.getUint16(0,s)&&t.getUint32(2,o)===t.byteLength;if(!r)return null;return{mimeType:"image/bmp",width:t.getUint32(18,o),height:t.getUint32(22,o)}}(t)||function(e){const t=new Uint8Array(e instanceof DataView?e.buffer:e),r=n(t);if(!r)return null;return{mimeType:r.mimeType,width:0,height:0}}(t)}function i(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},47216:(e,t,r)=>{function n(e){const t=o(e);if(!t)throw new Error("Not an image");return t}function s(e){switch(n(e)){case"data":return e;case"image":case"imagebitmap":const t=document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("getImageData");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0),r.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function o(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"==typeof e&&e.data&&e.width&&e.height?"data":null}r.d(t,{M5:()=>s})},95247:(e,t,r)=>{function n(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;const n=new Uint8Array(e),s=new Uint8Array(t);for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0}function s(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){const t=e.map((e=>e instanceof ArrayBuffer?new Uint8Array(e):e)),r=t.reduce(((e,t)=>e+t.byteLength),0),n=new Uint8Array(r);let s=0;for(const o of t)n.set(o,s),s+=o.byteLength;return n.buffer}(t)}function o(e,t,r){const n=void 0!==r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer}r.d(t,{AQ:()=>s,YV:()=>n,_m:()=>o})},53024:(e,t,r)=>{function n(e){if((t=e)&&"object"==typeof t&&t.isBuffer)return e;var t;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"==typeof e){const t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"==typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}r.d(t,{XA:()=>n})},10981:(e,t,r)=>{function n(e,t){if(!e)throw new Error(t||"loader assertion failed.")}r.d(t,{v:()=>n})},26951:(e,t,r)=>{r.d(t,{Bd:()=>s});var n=r(88538);"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==r.g&&r.g,"undefined"!=typeof document&&document;const s=Boolean("object"!=typeof n||"[object process]"!==String(n)||n.browser),o=void 0!==n&&n.version&&/v([0-9]*)/.exec(n.version);o&&parseFloat(o[1])},8001:(e,t,r)=>{r.d(t,{cy:()=>o,jJ:()=>s});var n=r(95247);async function s(e,t){for(;;){const{done:r,value:n}=await e.next();if(r)return void e.return();if(t(n))return}}async function o(e){const t=[];for await(const r of e)t.push(r);return(0,n.AQ)(...t)}},55256:(e,t,r)=>{r.d(t,{R:()=>a});var n=r(35593);const s="undefined"!=typeof __VERSION__?__VERSION__:"latest",o=s[0]>="0"&&s[0]<="9"?`v${s}`:"";const a=function(){const e=new n.t({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=e,globalThis.loaders.version=o,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=e,e}()},21098:(e,t,r)=>{r.d(t,{Qd:()=>a,Qz:()=>s,mi:()=>o,w7:()=>i});var n=r(55256);function s(e){globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,e)}function o(e,t){const r=globalThis.loaders?.modules?.[e];r||n.R.warn(`${t}: ${e} library not installed`)()}function a(e,t){const r=globalThis.loaders?.modules?.[e];if(!r)throw new Error(`${t}: ${e} library not installed`);return r}function i(e){const t=globalThis.loaders?.modules?.[e];return t||null}},97354:(e,t,r)=>{function n(e){return e}function s(e,t){return o(e||{},t)}function o(e,t,r){if(void 0===r&&(r=0),r>3)return t;const n={...e};for(const[s,a]of Object.entries(t))a&&"object"==typeof a&&!Array.isArray(a)?n[s]=o(n[s]||{},t[s],r+1):n[s]=t[s];return n}r.d(t,{E:()=>n,l:()=>s})},29512:(e,t,r)=>{r.d(t,{o1:()=>o});let n="";const s={};function o(e){for(const t in s)if(e.startsWith(t)){const r=s[t];e=e.replace(t,r)}return e.startsWith("http://")||e.startsWith("https://")||(e=`${n}${e}`),e}},36970:(e,t,r)=>{r.d(t,{pD:()=>a,iW:()=>o,hd:()=>i});var n=r(88538);function s(){if(void 0!==n&&void 0!==n.cwd)return n.cwd();const e=window.location?.pathname;return e?.slice(0,e.lastIndexOf("/")+1)||""}function o(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}function a(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}function i(){const e=[];for(let s=0;s<arguments.length;s++)e[s]=s<0||arguments.length<=s?void 0:arguments[s];let t,r="",n=!1;for(let o=e.length-1;o>=-1&&!n;o--){let a;o>=0?a=e[o]:(void 0===t&&(t=s()),a=t),0!==a.length&&(r=`${a}/${r}`,n=a.charCodeAt(0)===c)}return r=function(e,t){let r,n="",s=-1,o=0,a=!1;for(let i=0;i<=e.length;++i){if(i<e.length)r=e.charCodeAt(i);else{if(r===c)break;r=c}if(r===c){if(s===i-1||1===o);else if(s!==i-1&&2===o){if(n.length<2||!a||n.charCodeAt(n.length-1)!==u||n.charCodeAt(n.length-2)!==u)if(n.length>2){const e=n.length-1;let t=e;for(;t>=0&&n.charCodeAt(t)!==c;--t);if(t!==e){n=-1===t?"":n.slice(0,t),s=i,o=0,a=!1;continue}}else if(2===n.length||1===n.length){n="",s=i,o=0,a=!1;continue}t&&(n.length>0?n+="/..":n="..",a=!0)}else{const t=e.slice(s+1,i);n.length>0?n+=`/${t}`:n=t,a=!1}s=i,o=0}else r===u&&-1!==o?++o:o=-1}return n}(r,!n),n?`/${r}`:r.length>0?r:"."}const c=47,u=46},22120:(e,t,r)=>{r.d(t,{E:()=>o});var n=r(2602),s=r(61594);const o={...{dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:n.x,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},parse:s.a}},96366:(e,t,r)=>{r.d(t,{Y:()=>N});var n=r(2602),s=r(1405),o=r(10981),a=r(22704),i=r(20243);const c=542327876,u=31,l=0,_=1,d=2,f=3,S=4,h=7,E=20,R=21,m=131072,p=4,C={DXT1:a.b.COMPRESSED_RGB_S3TC_DXT1_EXT,DXT3:a.b.COMPRESSED_RGBA_S3TC_DXT3_EXT,DXT5:a.b.COMPRESSED_RGBA_S3TC_DXT5_EXT,"ATC ":a.b.COMPRESSED_RGB_ATC_WEBGL,ATCA:a.b.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,ATCI:a.b.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},A={DXT1:T,DXT3:b,DXT5:b,"ATC ":T,ATCA:b,ATCI:b};function g(e){const t=new Int32Array(e,0,u),r=t[R];(0,o.v)(Boolean(t[E]&p),"DDS: Unsupported format, must contain a FourCC code");const n=(s=r,String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255));var s;const a=C[n],c=A[n];(0,o.v)(a&&c,`DDS: Unknown pixel format ${r}`);let l=1;t[d]&m&&(l=Math.max(1,t[h]));const g=t[S],T=t[f],b=t[_]+4,y=new Uint8Array(e,b);return(0,i.C)(y,{mipMapLevels:l,width:g,height:T,sizeFunction:c,internalFormat:a})}function T(e,t){return(e+3>>2)*(t+3>>2)*8}function b(e,t){return(e+3>>2)*(t+3>>2)*16}const y=55727696,P=1347834371,x=13,w=52,B=0,D=2,M=4,v=6,G=7,O=11,H=12,L={0:[a.b.COMPRESSED_RGB_PVRTC_2BPPV1_IMG],1:[a.b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG],2:[a.b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG],3:[a.b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG],6:[a.b.COMPRESSED_RGB_ETC1_WEBGL],7:[a.b.COMPRESSED_RGB_S3TC_DXT1_EXT],9:[a.b.COMPRESSED_RGBA_S3TC_DXT3_EXT],11:[a.b.COMPRESSED_RGBA_S3TC_DXT5_EXT],22:[a.b.COMPRESSED_RGB8_ETC2],23:[a.b.COMPRESSED_RGBA8_ETC2_EAC],24:[a.b.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2],25:[a.b.COMPRESSED_R11_EAC],26:[a.b.COMPRESSED_RG11_EAC],27:[a.b.COMPRESSED_RGBA_ASTC_4X4_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR],28:[a.b.COMPRESSED_RGBA_ASTC_5X4_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR],29:[a.b.COMPRESSED_RGBA_ASTC_5X5_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR],30:[a.b.COMPRESSED_RGBA_ASTC_6X5_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR],31:[a.b.COMPRESSED_RGBA_ASTC_6X6_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR],32:[a.b.COMPRESSED_RGBA_ASTC_8X5_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR],33:[a.b.COMPRESSED_RGBA_ASTC_8X6_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR],34:[a.b.COMPRESSED_RGBA_ASTC_8X8_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR],35:[a.b.COMPRESSED_RGBA_ASTC_10X5_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR],36:[a.b.COMPRESSED_RGBA_ASTC_10X6_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR],37:[a.b.COMPRESSED_RGBA_ASTC_10X8_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR],38:[a.b.COMPRESSED_RGBA_ASTC_10X10_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR],39:[a.b.COMPRESSED_RGBA_ASTC_12X10_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR],40:[a.b.COMPRESSED_RGBA_ASTC_12X12_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR]},X={0:k,1:k,2:K,3:K,6:I,7:I,9:j,11:j,22:I,23:j,24:I,25:I,26:j,27:j,28:function(e,t){return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16},29:function(e,t){return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16},30:function(e,t){return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16},31:function(e,t){return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16},32:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16},33:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16},34:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16},35:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16},36:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16},37:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16},38:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16},39:function(e,t){return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16},40:function(e,t){return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16}};function k(e,t){return(e=Math.max(e,16))*(t=Math.max(t,8))/4}function K(e,t){return(e=Math.max(e,8))*(t=Math.max(t,8))/2}function I(e,t){return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8}function j(e,t){return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16}function $(e){if((0,s.e)(e))return(0,s.V)(e);if(function(e){return new Uint32Array(e,0,u)[l]===c}(e))return g(e);if(function(e){const t=new Uint32Array(e,0,x)[B];return t===y||t===P}(e))return function(e){const t=new Uint32Array(e,0,x),r=t[D],n=t[M],s=L[r]||[],o=s.length>1&&n?s[1]:s[0],a=X[r],c=t[O],u=t[G],l=t[v],_=w+t[H],d=new Uint8Array(e,_);return(0,i.C)(d,{mipMapLevels:c,width:u,height:l,sizeFunction:a,internalFormat:o})}(e);throw new Error("Texture container format not recognized")}var U=r(61594);const N={...{dataType:null,batchType:null,name:"Texture Containers",id:"compressed-texture",module:"textures",version:n.x,worker:!0,extensions:["ktx","ktx2","dds","pvr"],mimeTypes:["image/ktx2","image/ktx","image/vnd-ms.dds","image/x-dds","application/octet-stream"],binary:!0,options:{"compressed-texture":{libraryPath:"libs/",useBasis:!1}}},parse:async(e,t)=>{if(t?.["compressed-texture"]?.useBasis){t.basis={format:{alpha:"BC3",noAlpha:"BC1"},...t.basis,containerFormat:"ktx2",module:"encoder"};return(await(0,U.a)(e,t))[0]}return $(e)}}},22704:(e,t,r)=>{r.d(t,{b:()=>n});const n={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919}},61594:(e,t,r)=>{r.d(t,{a:()=>S,J:()=>C});var n=r(21098),s=r(8821);const o={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"};let a,i;async function c(e){(0,n.Qz)(e.modules);const t=(0,n.w7)("basis");return t||(a||=async function(e){let t=null,r=null;return[t,r]=await Promise.all([await(0,s._)(o.TRANSCODER,"textures",e),await(0,s._)(o.TRANSCODER_WASM,"textures",e)]),t=t||globalThis.BASIS,await function(e,t){const r={};t&&(r.wasmBinary=t);return new Promise((t=>{e(r).then((e=>{const{BasisFile:r,initializeBasis:n}=e;n(),t({BasisFile:r})}))}))}(t,r)}(e),await a)}async function u(e){const t=e.modules||{};return t.basisEncoder?t.basisEncoder:(i=i||async function(e){let t=null,r=null;return[t,r]=await Promise.all([await(0,s._)(o.ENCODER,"textures",e),await(0,s._)(o.ENCODER_WASM,"textures",e)]),t=t||globalThis.BASIS,await function(e,t){const r={};t&&(r.wasmBinary=t);return new Promise((t=>{e(r).then((e=>{const{BasisFile:r,KTX2File:n,initializeBasis:s,BasisEncoder:o}=e;s(),t({BasisFile:r,KTX2File:n,BasisEncoder:o})}))}))}(t,r)}(e),await i)}var l=r(22704),_=r(78312),d=r(1405);const f={etc1:{basisFormat:0,compressed:!0,format:l.b.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:l.b.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:l.b.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:l.b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:l.b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:l.b.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};async function S(e,t){if("auto"===t.basis.containerFormat){if((0,d.e)(e)){return R((await u(t)).KTX2File,e,t)}const{BasisFile:r}=await c(t);return h(r,e,t)}if("encoder"===t.basis.module){const r=await u(t);return"ktx2"===t.basis.containerFormat?R(r.KTX2File,e,t):h(r.BasisFile,e,t)}{const{BasisFile:r}=await c(t);return h(r,e,t)}}function h(e,t,r){const n=new e(new Uint8Array(t));try{if(!n.startTranscoding())throw new Error("Failed to start basis transcoding");const e=n.getNumImages(),t=[];for(let s=0;s<e;s++){const e=n.getNumLevels(s),o=[];for(let t=0;t<e;t++)o.push(E(n,s,t,r));t.push(o)}return t}finally{n.close(),n.delete()}}function E(e,t,r,n){const s=e.getImageWidth(t,r),o=e.getImageHeight(t,r),a=e.getHasAlpha(),{compressed:i,format:c,basisFormat:u}=p(n,a),l=e.getImageTranscodedSizeInBytes(t,r,u),_=new Uint8Array(l);if(!e.transcodeImage(_,t,r,u,0,0))throw new Error("failed to start Basis transcoding");return{width:s,height:o,data:_,compressed:i,format:c,hasAlpha:a}}function R(e,t,r){const n=new e(new Uint8Array(t));try{if(!n.startTranscoding())throw new Error("failed to start KTX2 transcoding");const e=n.getLevels(),t=[];for(let s=0;s<e;s++)t.push(m(n,s,r));return[t]}finally{n.close(),n.delete()}}function m(e,t,r){const{alphaFlag:n,height:s,width:o}=e.getImageLevelInfo(t,0,0),{compressed:a,format:i,basisFormat:c}=p(r,n),u=e.getImageTranscodedSizeInBytes(t,0,0,c),l=new Uint8Array(u);if(!e.transcodeImage(l,t,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:s,data:l,compressed:a,levelSize:u,hasAlpha:n,format:i}}function p(e,t){let r=e&&e.basis&&e.basis.format;return"auto"===r&&(r=C()),"object"==typeof r&&(r=t?r.alpha:r.noAlpha),r=r.toLowerCase(),f[r]}function C(){const e=(0,_.E)();return e.has("astc")?"astc-4x4":e.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:e.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:e.has("etc1")?"etc1":e.has("etc2")?"etc2":"rgb565"}},1405:(e,t,r)=>{r.d(t,{e:()=>c,V:()=>u});var n=r(10456),s=r(20243),o=r(22704);const a={131:o.b.COMPRESSED_RGB_S3TC_DXT1_EXT,132:o.b.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:o.b.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:o.b.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:o.b.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:o.b.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:o.b.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:o.b.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:o.b.COMPRESSED_RED_RGTC1_EXT,140:o.b.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:o.b.COMPRESSED_RED_GREEN_RGTC2_EXT,142:o.b.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:o.b.COMPRESSED_RGB8_ETC2,148:o.b.COMPRESSED_SRGB8_ETC2,149:o.b.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:o.b.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:o.b.COMPRESSED_RGBA8_ETC2_EAC,152:o.b.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:o.b.COMPRESSED_R11_EAC,154:o.b.COMPRESSED_SIGNED_R11_EAC,155:o.b.COMPRESSED_RG11_EAC,156:o.b.COMPRESSED_SIGNED_RG11_EAC,157:o.b.COMPRESSED_RGBA_ASTC_4x4_KHR,158:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:o.b.COMPRESSED_RGBA_ASTC_5x4_KHR,160:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:o.b.COMPRESSED_RGBA_ASTC_5x5_KHR,162:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:o.b.COMPRESSED_RGBA_ASTC_6x5_KHR,164:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:o.b.COMPRESSED_RGBA_ASTC_6x6_KHR,166:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:o.b.COMPRESSED_RGBA_ASTC_8x5_KHR,168:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:o.b.COMPRESSED_RGBA_ASTC_8x6_KHR,170:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:o.b.COMPRESSED_RGBA_ASTC_8x8_KHR,172:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:o.b.COMPRESSED_RGBA_ASTC_10x5_KHR,174:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:o.b.COMPRESSED_RGBA_ASTC_10x6_KHR,176:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:o.b.COMPRESSED_RGBA_ASTC_10x8_KHR,178:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:o.b.COMPRESSED_RGBA_ASTC_10x10_KHR,180:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:o.b.COMPRESSED_RGBA_ASTC_12x10_KHR,182:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:o.b.COMPRESSED_RGBA_ASTC_12x12_KHR,184:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:o.b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:o.b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:o.b.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:o.b.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:o.b.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:o.b.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:o.b.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:o.b.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:o.b.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:o.b.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:o.b.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:o.b.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:o.b.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:o.b.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:o.b.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:o.b.COMPRESSED_RGBA_ASTC_12x12_KHR};const i=[171,75,84,88,32,50,48,187,13,10,26,10];function c(e){const t=new Uint8Array(e);return!(t.byteLength<i.length||t[0]!==i[0]||t[1]!==i[1]||t[2]!==i[2]||t[3]!==i[3]||t[4]!==i[4]||t[5]!==i[5]||t[6]!==i[6]||t[7]!==i[7]||t[8]!==i[8]||t[9]!==i[9]||t[10]!==i[10]||t[11]!==i[11])}function u(e){const t=new Uint8Array(e),r=(0,n.LF4)(t),o=Math.max(1,r.levels.length),i=r.pixelWidth,c=r.pixelHeight,u=(l=r.vkFormat,a[l]);var l;return(0,s.C)(r.levels,{mipMapLevels:o,width:i,height:c,sizeFunction:e=>e.uncompressedByteLength,internalFormat:u})}},20243:(e,t,r)=>{function n(e,t){const r=new Array(t.mipMapLevels);let n=t.width,a=t.height,i=0;for(let c=0;c<t.mipMapLevels;++c){const u=o(t,n,a,e,c),l=s(e,c,i,u);r[c]={compressed:!0,format:t.internalFormat,data:l,width:n,height:a,levelSize:u},n=Math.max(1,n>>1),a=Math.max(1,a>>1),i+=u}return r}function s(e,t,r,n){return Array.isArray(e)?e[t].levelData:new Uint8Array(e.buffer,e.byteOffset+r,n)}function o(e,t,r,n,s){return Array.isArray(n)?e.sizeFunction(n[s]):e.sizeFunction(t,r)}r.d(t,{C:()=>n})},78312:(e,t,r)=>{r.d(t,{E:()=>a});const n=["","WEBKIT_","MOZ_"],s={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let o=null;function a(e){if(!o){e=e||function(){try{return document.createElement("canvas").getContext("webgl")}catch(e){return null}}()||void 0,o=new Set;for(const t of n)for(const r in s)if(e&&e.getExtension(`${t}${r}`)){const e=s[r];o.add(e)}}return o}},2602:(e,t,r)=>{r.d(t,{x:()=>n});const n="undefined"!=typeof __VERSION__?__VERSION__:"latest"},46410:(e,t,r)=>{function n(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}r.d(t,{v:()=>n})},99222:(e,t,r)=>{r.d(t,{Bd:()=>s,Fr:()=>a,xD:()=>o});var n=r(88538);"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==r.g&&r.g,"undefined"!=typeof document&&document;const s="object"!=typeof n||"[object process]"!==String(n)||n.browser,o="function"==typeof importScripts,a="undefined"!=typeof window&&void 0!==window.orientation,i=void 0!==n&&n.version&&/v([0-9]*)/.exec(n.version);i&&parseFloat(i[1])},9894:(e,t,r)=>{r.d(t,{x:()=>o});var n=r(11654),s=r(80247);const o=(globalThis._loadersgl_?.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},"undefined"==typeof __VERSION__?(s.warn("loaders.gl: The __VERSION__ variable is not injected using babel plugin. Latest unstable workers would be fetched from the CDN."),globalThis._loadersgl_.version=n.x):globalThis._loadersgl_.version=__VERSION__),globalThis._loadersgl_.version)},8821:(e,t,r)=>{r.d(t,{_:()=>c});var n=r(99222),s=r(46410),o=r(9894),a=r(80247);const i={};async function c(e,t,r,c){return void 0===t&&(t=null),void 0===r&&(r={}),void 0===c&&(c=null),t&&(e=function(e,t,r,a){void 0===r&&(r={});void 0===a&&(a=null);if(!r.useLocalLibraries&&e.startsWith("http"))return e;a=a||e;const i=r.modules||{};if(i[a])return i[a];if(!n.Bd)return`modules/${t}/dist/libs/${a}`;if(r.CDN)return(0,s.v)(r.CDN.startsWith("http")),`${r.CDN}/${t}@${o.x}/dist/libs/${a}`;if(n.xD)return`../src/libs/${a}`;return`modules/${t}/src/libs/${a}`}(e,t,r,c)),i[e]=i[e]||async function(e){if(e.endsWith("wasm"))return await async function(e){const{readFileAsArrayBuffer:t}=globalThis.loaders||{};if(n.Bd||!t||e.startsWith("http")){const t=await fetch(e);return await t.arrayBuffer()}return await t(e)}(e);if(!n.Bd)try{const{requireFromFile:t}=globalThis.loaders||{};return await(t?.(e))}catch(r){return a.error(r),null}if(n.xD)return importScripts(e);const t=await async function(e){const{readFileAsText:t}=globalThis.loaders||{};if(n.Bd||!t||e.startsWith("http")){const t=await fetch(e);return await t.text()}return await t(e)}(e);return function(e,t){if(!n.Bd){const{requireFromString:r}=globalThis.loaders||{};return r?.(e,t)}if(n.xD)return eval.call(globalThis,e),null;const r=document.createElement("script");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(s){r.text=e}return document.body.appendChild(r),null}(t,e)}(e),await i[e]}},11654:(e,t,r)=>{r.d(t,{x:()=>n});const n="beta"},93019:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>We,contentTitle:()=>Ne,default:()=>Qe,frontMatter:()=>Ue,metadata:()=>Fe,toc:()=>Ve});var n=r(62540),s=r(43023),o=r(63696),a=(r(7470),r(34594)),i=r(23387);const c=[{formatName:"Standard Image Formats",description:"Non-texture image formats. Compact on disk, but need to be fully decompressed into GPU texture memory, and mipmaps need to be generated by client.",codeSample:"load(url, ImageLoader)",images:[{format:"JPG",src:"shannon.jpg"},{format:"GIF",src:"shannon.gif"},{format:"PNG",src:"shannon.png"},{format:"BMP",src:"shannon.bmp"},{format:"WEBP",src:"shannon.webp"},{format:"AVIF",src:"shannon.avif"}]},{formatName:"Basis Universal",description:"Supercompressed GPU Texture Codec",link:"https://github.com/BinomialLLC/basis_universal",codeSample:"load(url, BasisLoader)",images:[{format:"BASIS",src:"alpha3.basis"},{format:"BASIS",src:"kodim01.basis"},{format:"BASIS",src:"kodim18.basis"},{format:"BASIS",src:"kodim20_1024x1024.basis"},{format:"BASIS",src:"kodim20.basis"}]},{formatName:"KTX",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"DXT1",src:"shannon-dxt1.ktx2"},{format:"DXT3",src:"shannon-dxt3.ktx2"},{format:"DXT5",src:"shannon-dxt5.ktx2"}]},{formatName:"KTX2",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"KTX2",src:"kodim23.ktx2",useBasis:!0}]},{formatName:"DDS: S3 Texture Compression (WEBGL_compressed_texture_s3tc)",description:"S3 (aka DXTn, DXTC, or BCn).",availability:"Common on desktop GPUs. DXT5 is usually the preferred version",link:"https://en.wikipedia.org/wiki/S3_Texture_Compression",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"DXT5",src:"shannon-dxt5.dds"},{format:"DXT3",src:"shannon-dxt3.dds"},{format:"DXT1",src:"shannon-dxt1.dds"}]},{formatName:"PVR: PowerVR Texture Compression (WEBGL_compressed_texture_pvrtc)",description:"Lossy, fixed-rate GPU texture compression format",availability:"iPhone, iPad and mobile devices with PowerVR chipsets.",link:"https://en.wikipedia.org/wiki/PVRTC",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"PVRTC (2BPP RGB)",src:"shannon-pvrtc-2bpp-rgb.pvr"},{format:"PVRTC (2BPP RGBA)",src:"shannon-pvrtc-2bpp-rgba.pvr"},{format:"PVRTC (4BPP RGB)",src:"shannon-pvrtc-4bpp-rgb.pvr"},{format:"PVRTC (2BPP RGBA)",src:"shannon-pvrtc-4bpp-rgba.pvr"}]},{formatName:"PVR: ATC (WEBGL_compressed_texture_atc)",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"ATC (RGB)",src:"shannon-atc-rgb.dds"},{format:"ATC (RGBA, Explicit)",src:"shannon-atc-rgba-explicit.dds"},{format:"ATC (RGBA, Interpolated)",src:"shannon-atc-rgba-interpolated.dds"}]},{formatName:"PVR: ASTC (WEBGL_compressed_texture_astc)",images:[{format:"ASTC 4x4",src:"shannon-astc-4x4.pvr"},{format:"ASTC 5x4",src:"shannon-astc-5x4.pvr"},{format:"ASTC 5x5",src:"shannon-astc-5x5.pvr"},{format:"ASTC 6x5",src:"shannon-astc-6x5.pvr"},{format:"ASTC 6x6",src:"shannon-astc-6x6.pvr"},{format:"ASTC 8x5",src:"shannon-astc-8x5.pvr"},{format:"ASTC 8x6",src:"shannon-astc-8x6.pvr"},{format:"ASTC 8x8",src:"shannon-astc-8x8.pvr"},{format:"ASTC 10x5",src:"shannon-astc-10x5.pvr"},{format:"ASTC 10x6",src:"shannon-astc-10x6.pvr"},{format:"ASTC 10x8",src:"shannon-astc-10x8.pvr"},{format:"ASTC 10x10",src:"shannon-astc-10x10.pvr"},{format:"ASTC 12x10",src:"shannon-astc-12x10.pvr"},{format:"ASTC 12x12",src:"shannon-astc-12x12.pvr"}]},{formatName:"PVR: ASTC (sRGB) (WEBGL_compressed_texture_astc)",images:[{format:"ASTC (sRGB) 4x4",src:"shannon-astc-srgb-4x4.pvr"},{format:"ASTC (sRGB) 5x4",src:"shannon-astc-srgb-5x4.pvr"},{format:"ASTC (sRGB) 5x5",src:"shannon-astc-srgb-5x5.pvr"},{format:"ASTC (sRGB) 6x5",src:"shannon-astc-srgb-6x5.pvr"},{format:"ASTC (sRGB) 6x6",src:"shannon-astc-srgb-6x6.pvr"},{format:"ASTC (sRGB) 8x5",src:"shannon-astc-srgb-8x5.pvr"},{format:"ASTC (sRGB) 8x6",src:"shannon-astc-srgb-8x6.pvr"},{format:"ASTC (sRGB) 8x8",src:"shannon-astc-srgb-8x8.pvr"},{format:"ASTC (sRGB) 10x5",src:"shannon-astc-srgb-10x5.pvr"},{format:"ASTC (sRGB) 10x6",src:"shannon-astc-srgb-10x6.pvr"},{format:"ASTC (sRGB) 10x8",src:"shannon-astc-srgb-10x8.pvr"},{format:"ASTC (sRGB) 10x10",src:"shannon-astc-srgb-10x10.pvr"},{format:"ASTC (sRGB) 12x10",src:"shannon-astc-srgb-12x10.pvr"},{format:"ASTC (sRGB) 12x12",src:"shannon-astc-srgb-12x12.pvr"}]},{formatName:"PVR: ETC1 (WEBGL_compressed_texture_etc1)",images:[{format:"ETC1",src:"shannon-etc1.pvr"}]},{formatName:"Crunch",description:"Advanced DXTn texture compression library.",link:"https://github.com/BinomialLLC/crunch",codeSample:"load(url, CrunchLoader)",images:[{format:"DXT1 (Crunch)",src:"shannon-dxt1.crn"},{format:"DXT5 (Crunch)",src:"shannon-dxt5.crn"}]}];var u=r(75293),l=r(76702),_=r(188),d=r(85930),f=r(44207),S=r(22704),h=r(22120),E=r(96366),R=r(61594);const m={dataType:null,batchType:null,id:"crunch",name:"Crunch",module:"textures",version:r(2602).x,worker:!0,extensions:["crn"],mimeTypes:["image/crn","image/x-crn","application/octet-stream"],binary:!0,options:{crunch:{libraryPath:"libs/"}}};var p=r(78312),C=r(83073),A=r(12530),g=r(80247);const{COMPRESSED_RGB_S3TC_DXT1_EXT:T,COMPRESSED_RGBA_S3TC_DXT1_EXT:b,COMPRESSED_RGBA_S3TC_DXT3_EXT:y,COMPRESSED_RGBA_S3TC_DXT5_EXT:P,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:x,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:w,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:B,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:D,COMPRESSED_RGB_ATC_WEBGL:M,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:v,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:G,COMPRESSED_RGB_ETC1_WEBGL:O,COMPRESSED_RGBA_ASTC_4X4_KHR:H,COMPRESSED_RGBA_ASTC_5X4_KHR:L,COMPRESSED_RGBA_ASTC_5X5_KHR:X,COMPRESSED_RGBA_ASTC_6X5_KHR:k,COMPRESSED_RGBA_ASTC_6X6_KHR:K,COMPRESSED_RGBA_ASTC_8X5_KHR:I,COMPRESSED_RGBA_ASTC_8X6_KHR:j,COMPRESSED_RGBA_ASTC_8X8_KHR:$,COMPRESSED_RGBA_ASTC_10X5_KHR:U,COMPRESSED_RGBA_ASTC_10X6_KHR:N,COMPRESSED_RGBA_ASTC_10X8_KHR:F,COMPRESSED_RGBA_ASTC_10X10_KHR:W,COMPRESSED_RGBA_ASTC_12X10_KHR:V,COMPRESSED_RGBA_ASTC_12X12_KHR:z,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:Q,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:q,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:J,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:Y,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:Z,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:ee,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:te,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:re,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:ne,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:se,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:oe,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:ae,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:ie,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:ce,COMPRESSED_R11_EAC:ue,COMPRESSED_SIGNED:le,COMPRESSED_RG11_EAC:_e,COMPRESSED_SIGNED_RG11_EAC:de,COMPRESSED_RGB8_ETC2:fe,COMPRESSED_RGBA8_ETC2_EAC:Se,COMPRESSED_SRGB8_ETC2:he,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:Ee,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:Re,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:me,COMPRESSED_RED_RGTC1_EXT:pe,COMPRESSED_SIGNED_RED_RGTC1_EXT:Ce,COMPRESSED_RED_GREEN_RGTC2_EXT:Ae,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:ge,COMPRESSED_SRGB_S3TC_DXT1_EXT:Te,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:be,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:ye,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:Pe}=S.b,xe=u.Ay.button.withConfig({displayName:"compressed-texture__TextureButton",componentId:"sc-ab2qyi-0"})(["height:256px;width:256px;border:1px solid black;margin:1em;position:relative;margin-left:0;"]),we=u.Ay.h1.withConfig({displayName:"compressed-texture__ImageFormatHeader",componentId:"sc-ab2qyi-1"})(["position:absolute;top:0;left:0;margin:0;color:white;font-size:16px;"]),Be=u.Ay.h1.withConfig({displayName:"compressed-texture__ErrorFormatHeader",componentId:"sc-ab2qyi-2"})(["color:red;font-size:16px;"]),De=u.Ay.ul.withConfig({displayName:"compressed-texture__TextureInfo",componentId:"sc-ab2qyi-3"})(["position:absolute;transition:opacity 0.2s;top:20px;display:flex;flex-flow:column nowrap;align-items:flex-start;padding:10px;opacity:0.8;background-color:black;color:white;border-radius:5px;min-width:200px;list-style:none;font-size:14px;"]);(0,l.mk)([h.E,E.Y,C.$]);function Me(e){const t=new Float32Array([-1,-1,-1,1,1,-1,1,1]),r=e.createBuffer({data:t});return new A.K(e,{vs:"#version 300 es\nprecision highp float;\n\nin vec2 position;\n\nout vec2 uv;\n\nvoid main() {\n  gl_Position = vec4(position, 0.0, 1.0);\n  uv = vec2(position.x * .5, -position.y * .5) + vec2(.5, .5);\n}\n",fs:"#version 300 es\nprecision highp float;\n\nuniform sampler2D uTexture;\n\nin vec2 uv;\n\nout vec4 fragColor;\n\nvoid main() {\n  fragColor = vec4(texture(uTexture, uv).rgb, 1.);\n}\n",topology:"triangle-strip",vertexCount:4,bufferLayout:[{name:"position",format:"float32x2"}],attributes:{position:r}})}class ve extends o.PureComponent{static defaultProps={device:null,canvas:null,image:null,model:null};constructor(e){super(e);const t=this.getLoadOptions();this.state={loadOptions:t,textureError:null,showStats:!1,stats:[],dataUrl:null}}async componentDidMount(){const e=await this.getTextureDataUrl(this.props.device);this.setState({dataUrl:e})}getExtension(e){const{device:t}=this.props,r=["","WEBKIT_","MOZ_"];let n=null;for(const s in r)if(n=Boolean(t.getExtension(r[s]+e)),n)break;return n}getLoadOptions(){return{basis:{format:(0,R.J)()}}}async getTextureDataUrl(e){const{loadOptions:t}=this.state,{canvas:r,model:n,image:s}=this.props;try{const{arrayBuffer:r,length:o,src:a,useBasis:i}=await this.getLoadedData(s),c={...t};i&&(c["compressed-texture"]={useBasis:!0});const u=await(0,_.M)(a,[E.Y,m,h.E,C.$]),l=u&&await(0,d.H)(r,u,c);switch(this.addStat("File Size",Math.floor(o/1024),"Kb"),u?.id){case"crunch":case"compressed-texture":this.renderEmptyTexture(e,n),this.renderCompressedTexture(e,n,l,u.name,a);break;case"image":this.renderEmptyTexture(e,n),this.renderImageTexture(e,n,l);break;case"basis":const t=l[0];this.renderEmptyTexture(e,n),this.renderCompressedTexture(e,n,t,u.name,a);break;default:throw new Error("Unknown texture loader")}}catch(o){g.error(o),this.renderEmptyTexture(e,n),this.setState({textureError:o.message})}return r.toDataURL()}async getLoadedData(e){let t,r=0,n="",s=!1;if(e instanceof File)t=await e.arrayBuffer(),r=e.size,n=e.name;else{n=`https://raw.githubusercontent.com/visgl/loaders.gl/master/modules/textures/test/data/${e.src}`;const o=await(0,f.t2)(n);t=await o.arrayBuffer(),r=t.byteLength,s=e.useBasis||!1}return{arrayBuffer:t,length:r,src:n,useBasis:s}}createCompressedTexture(e,t){return e.createTexture({data:t,compressed:!0,mipmaps:!1})}renderEmptyTexture(e,t){const r=new Uint8Array([68,0,0,255]),n=e.createTexture({width:1,height:1,data:r,mipmaps:!0}),s=e.beginRenderPass();return t.setBindings({uTexture:n}),t.draw(s),s.end(),n}renderImageTexture(e,t,r){const n=e.createTexture({data:r}),s=e.beginRenderPass();t.setBindings({uTexture:n}),t.draw(s),s.end();const o=new Date,a=Date.now()-o.getMilliseconds();this.addStat("Upload time",`${Math.floor(a)} ms`),this.addStat("Dimensions",`${r.width} x ${r.height}`),this.addStat("Size in memory (Lvl 0)",Math.floor(r.width*r.height*4/1024),"Kb")}renderCompressedTexture(e,t,r,n,s){if(!r||!r.length)throw new Error(`${n} loader doesn't support texture ${s} format`);const{format:o,width:a,height:i,levelSize:c}=r[0];if(!this.isFormatSupported(o))throw new Error(`Texture format ${o} not supported by this GPU`);const u=new Date,l=this.createCompressedTexture(e,r),_=e.beginRenderPass();t.setBindings({uTexture:l}),t.draw(_),_.end();const d=Date.now()-u.getMilliseconds();this.addStat("Upload time",`${Math.floor(d)} ms`),this.addStat("Dimensions",`${a} x ${i}`),c&&this.addStat("Size in memory (Lvl 0)",Math.floor(c/1024),"Kb")}isFormatSupported(e){if("number"!=typeof e)throw new Error("Invalid internal format of compressed texture");const t=(0,p.E)(this.props.gl);switch(e){case T:case y:case P:case b:return t.has("dxt");case x:case w:case B:case D:return t.has("pvrtc");case M:case v:case G:return t.has("atc");case O:return t.has("etc1");case H:case L:case X:case k:case K:case I:case j:case $:case U:case N:case F:case W:case V:case z:case Q:case q:case J:case Y:case Z:case ee:case te:case re:case ne:case se:case oe:case ae:case ie:case ce:return t.has("astc");case ue:case le:case _e:case de:case fe:case Se:case he:case Ee:case Re:case me:return t.has("etc2");case pe:case Ce:case Ae:case ge:return t.has("rgtc");case Te:case be:case ye:case Pe:return t.has("dxt-srgb");default:return!1}}addStat(e,t,r){void 0===r&&(r="");const n=[...this.state.stats,{name:e,value:t,units:r}];this.setState({stats:n})}renderStats(){const{stats:e}=this.state;if(!e.length)return null;const t=[];for(let r=0;r<e.length;r++)t.push((0,n.jsx)("li",{children:`${e[r].name}: ${e[r].value}${e[r].units}`},r));return(0,n.jsx)(De,{style:{opacity:this.state.showStats?.8:0},children:t})}render(){const{dataUrl:e,textureError:t}=this.state,{format:r,name:s}=this.props.image;return e?(0,n.jsxs)(xe,{style:{backgroundImage:`url(${e})`},onMouseEnter:()=>this.setState({showStats:!0}),onMouseLeave:()=>this.setState({showStats:!1}),children:[t?(0,n.jsx)(Be,{style:{color:"red"},children:t}):(0,n.jsx)(we,{children:r||s}),this.renderStats()]}):null}}const Ge=u.Ay.div.withConfig({displayName:"textures-uploader__Container",componentId:"sc-xm25t2-0"})(["display:flex;flex-flow:column nowrap;"]),Oe=u.Ay.div.withConfig({displayName:"textures-uploader__TextureFrame",componentId:"sc-xm25t2-1"})(["display:flex;width:256px;height:256px;align-items:center;justify-content:center;border:1px dashed black;"]),He=u.Ay.div.withConfig({displayName:"textures-uploader__ImageContainer",componentId:"sc-xm25t2-2"})(["display:flex;flex-flow:column nowrap;align-items:center;width:270px;"]);class Le extends o.PureComponent{static defaultProps={canvas:null,model:null};constructor(e){super(e),this.state={uploadedImage:null},this.handleLoadFile=this.handleLoadFile.bind(this),this.handleCleanTexture=this.handleCleanTexture.bind(this)}handleLoadFile(e){const t=e.dataTransfer.files[0];this.setState({uploadedImage:t}),e.preventDefault()}handleCleanTexture(){this.setState({uploadedImage:null})}render(){const{canvas:e,device:t,model:r}=this.props,{uploadedImage:s,files:o}=this.state;return(0,n.jsxs)("div",{children:[!s&&(0,n.jsxs)(Ge,{children:[(0,n.jsx)(Oe,{onDrop:this.handleLoadFile,onDragOver:e=>e.preventDefault(),children:"Drag&Drop texture"}),(0,n.jsx)("input",{style:{display:"none"},type:"file",id:"fileInput",files:o})]}),(0,n.jsxs)(He,{children:[s&&(0,n.jsx)(ve,{image:s,canvas:e,device:t,model:r}),s&&(0,n.jsx)("button",{onClick:this.handleCleanTexture,children:"Clean"})]})]})}}class Xe extends o.PureComponent{constructor(e){super(e),this.state={canvas:null,device:null,model:null}}async componentDidMount(){a.a.registerDevices([i.e]);const e=document.createElement("canvas");e.width=256,e.height=256;const t=await a.a.createDevice({canvas:e,type:"webgl"}),r=Me(t);this.setState({canvas:e,device:t,model:r})}render(){const{device:e,canvas:t,model:r}=this.state;return e?(0,n.jsxs)("div",{style:{margin:30},children:[(0,n.jsx)($e,{}),e&&(0,n.jsx)(Le,{canvas:t,device:e,model:r}),e&&(0,n.jsx)(ke,{canvas:t,device:e,model:r})]}):(0,n.jsx)("div",{})}}function ke(e){const{device:t,canvas:r,model:s}=e;return c.map(((e,o)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(Ke,{imagesData:e}),(0,n.jsx)(je,{device:t,canvas:r,model:s,images:e.images}),(0,n.jsx)(Ie,{imagesData:e})]},o)))}function Ke(e){const{formatName:t,link:r}=e.imagesData;return(0,n.jsx)("div",{style:{display:"flex",flexFlow:"column"},children:(0,n.jsx)("h2",{style:{borderBottom:"1px solid black",marginBottom:0},children:r?(0,n.jsx)("a",{style:{textDecoration:"none"},href:r,children:t}):t})})}function Ie(e){const{description:t,codeSample:r,availability:s}=e.imagesData;return(0,n.jsxs)("div",{children:[t&&(0,n.jsxs)("p",{children:[(0,n.jsx)("b",{children:"Description: "}),t]}),s&&(0,n.jsxs)("p",{children:[(0,n.jsx)("b",{children:"Availability: "}),s]}),r&&(0,n.jsx)("div",{children:(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:r})})})]})}function je(e){const{device:t,canvas:r,model:s,images:o}=e;return o.map(((e,o)=>(0,n.jsx)(ve,{image:e,device:t,canvas:r,model:s},o)))}function $e(){return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Texture Loaders"}),(0,n.jsxs)("p",{children:["This page loads every \xa0",(0,n.jsx)("a",{href:"https://loaders.gl/modules/textures/docs/using-compressed-textures",children:"texture format"})," ","\xa0 supported by loaders.gl and attempts to display them in WebGL using the"," ",(0,n.jsx)("a",{href:"https://luma.gl",children:(0,n.jsx)("b",{children:"luma.gl"})})," ",(0,n.jsx)("code",{children:"Texture2D"})," class."]}),(0,n.jsxs)("p",{children:["The ",(0,n.jsx)("code",{children:"@loaders.gl/textures"})," \xa0 module provides loaders for compressed textures stored in ",(0,n.jsx)("b",{children:"KTX"}),", ",(0,n.jsx)("b",{children:"DDS"})," and ",(0,n.jsx)("b",{children:"PVR"})," container files, plus ",(0,n.jsx)("b",{children:"CRN"})," (Crunch), and ",(0,n.jsx)("b",{children:"Basis"})," supercompressed textures."]}),(0,n.jsx)("p",{children:"This page also shows which compressed texture types your device and browser supports."}),(0,n.jsx)("p",{children:(0,n.jsx)("i",{children:"Note that multiple textures on this page will fail to display due to lack of GPU support (reported via WebGL extensions). For example: DXT formats are usually only supported on Desktops while PVRTC is typically only available on mobile devices with PowerVR chipsets."})}),(0,n.jsx)("p",{children:(0,n.jsxs)("i",{children:["Inspired by toji's awesome"," ",(0,n.jsx)("a",{href:"http://toji.github.io/texture-tester",children:"texture-tester"})]})})]})}const Ue={},Ne="Textures",Fe={id:"textures",title:"Textures",description:"",source:"@site/src/examples/textures.mdx",sourceDirName:".",slug:"/textures",permalink:"/examples/textures",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebars",previous:{title:"OBJ",permalink:"/examples/pointclouds/obj"}},We={},Ve=[];function ze(e){const t={h1:"h1",header:"header",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"textures",children:"Textures"})}),"\n","\n",(0,n.jsx)("div",{style:{height:"calc(100vh - var(--ifm-navbar-height))",overflowY:"scroll"},children:(0,n.jsx)(Xe,{})})]})}function Qe(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(ze,{...e})}):ze(e)}},43023:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>i});var n=r(63696);const s={},o=n.createContext(s);function a(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);