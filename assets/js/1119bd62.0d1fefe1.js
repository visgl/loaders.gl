"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[457],{70171:(e,t,r)=>{r.d(t,{Gv:()=>o,H1:()=>f,Pe:()=>l,Sv:()=>_,Td:()=>c,aC:()=>a,qf:()=>u,xZ:()=>i});const n=e=>"boolean"==typeof e,s=e=>"function"==typeof e,o=e=>null!==e&&"object"==typeof e,a=e=>o(e)&&e.constructor==={}.constructor,i=e=>Boolean(e)&&"function"==typeof e[Symbol.iterator],c=e=>e&&"function"==typeof e[Symbol.asyncIterator],_=e=>"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,u=e=>"undefined"!=typeof Blob&&e instanceof Blob,l=e=>e&&"object"==typeof e&&e.isBuffer,f=e=>(e=>"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||o(e)&&s(e.tee)&&s(e.cancel)&&s(e.getReader))(e)||(e=>o(e)&&s(e.read)&&s(e.pipe)&&n(e.readable))(e)},50493:(e,t,r)=>{r.d(t,{H:()=>i});var n=r(70171),s=r(90399),o=r(17574),a=r(5328);async function i(e,t,r,i){let c,_;Array.isArray(t)||(0,s.l)(t)?(c=t,_=r):(c=[],_=t);const u=(0,o.z)(_);let l=e;return"string"==typeof e&&(l=await u(e)),(0,n.qf)(e)&&(l=await u(e)),Array.isArray(c),await(0,a.q)(l,c,_)}},5328:(e,t,r)=>{r.d(t,{q:()=>F});var n=r(82807),s=r(70075);class o{terminate(){}}var a=r(70353);const i=new Map;function c(e){(0,a.v)(e.source&&!e.url||!e.source&&e.url);let t=i.get(e.source||e.url);return t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return _((t=e,`try {\n  importScripts('${t}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`));var t}(e.url),i.set(e.url,t)),e.source&&(t=_(e.source),i.set(e.source,t))),(0,a.v)(t),t}function _(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function u(e,t,r){void 0===t&&(t=!0);const n=r||new Set;if(e){if(l(e))n.add(e);else if(l(e.buffer))n.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"==typeof e)for(const s in e)u(e[s],t,n)}else;return void 0===r?Array.from(n):[]}function l(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var f=r(96763);const d=()=>{};class S{terminated=!1;_loadableURL="";static isSupported(){return"undefined"!=typeof Worker&&s.Bd||void 0!==o&&!s.Bd}constructor(e){const{name:t,source:r,url:n}=e;(0,a.v)(r||n),this.name=t,this.source=r,this.url=n,this.onMessage=d,this.onError=e=>f.log(e),this.worker=s.Bd?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=d,this.onError=d,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(e,t){t=t||u(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+=`worker ${this.name} from ${this.url}. `,e.message&&(t+=`${e.message} in `),e.lineno&&(t+=`:${e.lineno}:${e.colno}`),new Error(t)}_createBrowserWorker(){this._loadableURL=c({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=e=>{e.data?this.onMessage(e.data):this.onError(new Error("No data received"))},e.onerror=e=>{this.onError(this._getErrorFromErrorEvent(e)),this.terminated=!0},e.onmessageerror=e=>f.error(e),e}_createNodeWorker(){let e;if(this.url){const t=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new o(t,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new o(this.source,{eval:!0})}return e.on("message",(e=>{this.onMessage(e)})),e.on("error",(e=>{this.onError(e)})),e.on("exit",(e=>{})),e}}class E{isRunning=!0;_resolve=()=>{};_reject=()=>{};constructor(e,t){this.name=e,this.workerThread=t,this.result=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){(0,a.v)(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){(0,a.v)(this.isRunning),this.isRunning=!1,this._reject(e)}}var h=r(96763);class R{name="unnamed";maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return S.isSupported()}constructor(e){this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach((e=>e.destroy())),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}async startJob(e,t,r){void 0===t&&(t=(e,t,r)=>e.done(r)),void 0===r&&(r=(e,t)=>e.error(t));const n=new Promise((n=>(this.jobQueue.push({name:e,onMessage:t,onError:r,onStart:n}),this)));return this._startQueuedJob(),await n}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});const n=new E(t.name,e);e.onMessage=e=>t.onMessage(n,e.type,e.payload),e.onError=e=>t.onError(n,e),t.onStart(n);try{await n.result}catch(r){h.error(`Worker exception: ${r}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!s.Bd||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new S({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return s.Fr?this.maxMobileConcurrency:this.maxConcurrency}}const p={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class m{workerPools=new Map;static isSupported(){return S.isSupported()}static getWorkerFarm(e){return void 0===e&&(e={}),m._workerFarm=m._workerFarm||new m({}),m._workerFarm.setProps(e),m._workerFarm}constructor(e){this.props={...p},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:r,url:n}=e;let s=this.workerPools.get(t);return s||(s=new R({name:t,source:r,url:n}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}var A=r(11471);var C=r(96763);async function T(e,t,r,n,o){const i=e.id,c=function(e,t){void 0===t&&(t={});const r=t[e.id]||{},n=s.Bd?`${e.id}-worker.js`:`${e.id}-worker-node.js`;let o=r.workerUrl;if(o||"compression"!==e.id||(o=t.workerUrl),"test"===t._workerType&&(o=s.Bd?`modules/${e.module}/dist/${n}`:`modules/${e.module}/src/workers/${e.id}-worker-node.ts`),!o){let t=e.version;"latest"===t&&(t=A.x);const r=t?`@${t}`:"";o=`https://unpkg.com/@loaders.gl/${e.module}${r}/dist/${n}`}return(0,a.v)(o),o}(e,r),_=m.getWorkerFarm(r).getWorkerPool({name:i,url:c});r=JSON.parse(JSON.stringify(r)),n=JSON.parse(JSON.stringify(n||{}));const u=await _.startJob("process-on-worker",g.bind(null,o));u.postMessage("process",{input:t,options:r,context:n});const l=await u.result;return await l.result}async function g(e,t,r,n){switch(r){case"done":t.done(n);break;case"error":t.error(new Error(n.error));break;case"process":const{id:o,input:a,options:i}=n;try{const r=await e(a,i);t.postMessage("done",{id:o,result:r})}catch(s){const e=s instanceof Error?s.message:"unknown error";t.postMessage("error",{id:o,error:e})}break;default:C.warn(`parse-with-worker unknown message ${r}`)}}var b=r(90399),x=r(70171),P=r(74850),y=r(97096);const D=262144;const w=262144;const B=1048576;var M=r(44674),G=r(60109);function v(e,t){return M.Bd?async function*(e,t){const r=e.getReader();let n;try{for(;;){const e=n||r.read();t?._streamReadAhead&&(n=r.read());const{done:s,value:o}=await e;if(s)return;yield(0,G.XA)(o)}}catch(s){r.releaseLock()}}(e,t):async function*(e,t){for await(const r of e)yield(0,G.XA)(r)}(e)}function O(e,t){if("string"==typeof e)return function*(e,t){const r=t?.chunkSize||D;let n=0;const s=new TextEncoder;for(;n<e.length;){const t=Math.min(e.length-n,r),o=e.slice(n,n+t);n+=t,yield s.encode(o)}}(e,t);if(e instanceof ArrayBuffer)return function(e,t){return void 0===t&&(t={}),function*(){const{chunkSize:r=w}=t;let n=0;for(;n<e.byteLength;){const t=Math.min(e.byteLength-n,r),s=new ArrayBuffer(t),o=new Uint8Array(e,n,t);new Uint8Array(s).set(o),n+=t,yield s}}()}(e,t);if((0,x.qf)(e))return async function*(e,t){const r=t?.chunkSize||B;let n=0;for(;n<e.size;){const t=n+r,s=await e.slice(n,t).arrayBuffer();n=t,yield s}}(e,t);if((0,x.H1)(e))return v(e,t);if((0,x.Sv)(e)){return v(e.body,t)}throw new Error("makeIterator")}var H=r(89707);const L="Cannot convert supplied data type";async function X(e,t,r){const n=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if("string"==typeof e||n)return function(e,t,r){if(t.text&&"string"==typeof e)return e;if((0,x.Pe)(e)&&(e=e.buffer),e instanceof ArrayBuffer){const r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);let r=e.buffer;const n=e.byteLength||e.length;return 0===e.byteOffset&&n===r.byteLength||(r=r.slice(e.byteOffset,e.byteOffset+n)),r}throw new Error(L)}(e,t);if((0,x.qf)(e)&&(e=await(0,H.wv)(e)),(0,x.Sv)(e)){const r=e;return await(0,H.Mz)(r),t.binary?await r.arrayBuffer():await r.text()}if((0,x.H1)(e)&&(e=O(e,r)),(0,x.xZ)(e)||(0,x.Td)(e))return(0,y.cy)(e);throw new Error(L)}var I=r(17574),U=r(99005),k=r(52954);var N=r(91330),K=r(45293);async function F(e,t,r,o){!t||Array.isArray(t)||(0,b.l)(t)||(o=void 0,r=t,t=void 0),e=await e,r=r||{};const i=(0,N.Al)(e),c=function(e,t){if(e&&!Array.isArray(e))return e;let r;if(e&&(r=Array.isArray(e)?e:[e]),t&&t.loaders){const e=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[...r,...e]:e}return r&&r.length?r:void 0}(t,o),_=await(0,K.M)(e,c,r);return _?(o=function(e,t,r){if(r)return r;const n={fetch:(0,I.z)(t,e),...e};if(n.url){const e=(0,U.S3)(n.url);n.baseUrl=e,n.queryString=(0,U.by)(n.url),n.filename=k.iW(e),n.baseUrl=k.pD(e)}return Array.isArray(n.loaders)||(n.loaders=null),n}({url:i,_parse:F,loaders:c},r=(0,P.a5)(r,_,c,i),o||null),await async function(e,t,r,o){if(function(e,t){void 0===t&&(t=A.Q),(0,a.v)(e,"no worker provided");const r=e.version}(e),r=(0,n.y)(e.options,r),(0,x.Sv)(t)){const e=t,{ok:r,redirected:n,status:s,statusText:a,type:i,url:c}=e,_=Object.fromEntries(e.headers.entries());o.response={headers:_,ok:r,redirected:n,status:s,statusText:a,type:i,url:c}}t=await X(t,e,r);const i=e;if(i.parseTextSync&&"string"==typeof t)return i.parseTextSync(t,r,o);if(function(e,t){return!!m.isSupported()&&!(!s.Bd&&!t?._nodeWorkers)&&e.worker&&t?.worker}(e,r))return await T(e,t,r,o,F);if(i.parseText&&"string"==typeof t)return await i.parseText(t,r,o);if(i.parse)return await i.parse(t,r,o);throw(0,a.v)(!i.parseSync),new Error(`${e.id} loader - no parser found and worker is disabled`)}(_,e,r,o)):null}},4957:(e,t,r)=>{r.d(t,{Ph:()=>i,mk:()=>a});var n=r(90399),s=r(74850);const o=()=>{const e=(0,s.K2)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function a(e){const t=o();e=Array.isArray(e)?e:[e];for(const r of e){const e=(0,n.D)(r);t.find((t=>e===t))||t.unshift(e)}}function i(){return o()}},45293:(e,t,r)=>{r.d(t,{M:()=>d});var n=r(27697),s=r(52954),o=r(33118),a=r(90399),i=r(91330),c=r(83031),_=r(4957),u=r(70171),l=r(99005);const f=/\.([^.]+)$/;async function d(e,t,r,n){if(void 0===t&&(t=[]),!E(e))return null;let s=S(e,t,{...r,nothrow:!0},n);if(s)return s;if((0,u.qf)(e)&&(s=S(e=await e.slice(0,10).arrayBuffer(),t,r,n)),!s&&!r?.nothrow)throw new Error(h(e));return s}function S(e,t,r,s){if(void 0===t&&(t=[]),!E(e))return null;if(t&&!Array.isArray(t))return(0,a.D)(t);let o=[];t&&(o=o.concat(t)),r?.ignoreRegisteredLoaders||o.push(...(0,_.Ph)()),function(e){for(const t of e)(0,a.D)(t)}(o);const c=function(e,t,r,s){const o=(0,i.Al)(e),a=(0,i.z4)(e),c=(0,l.S3)(o)||s?.url;let _=null,u="";r?.mimeType&&(_=R(t,r?.mimeType),u=`match forced by supplied MIME type ${r?.mimeType}`);_=_||function(e,t){const r=t&&f.exec(t),n=r&&r[1];return n?function(e,t){t=t.toLowerCase();for(const r of e)for(const e of r.extensions)if(e.toLowerCase()===t)return r;return null}(e,n):null}(t,c),u=u||(_?`matched url ${c}`:""),_=_||R(t,a),u=u||(_?`matched MIME type ${a}`:""),_=_||function(e,t){if(!t)return null;for(const r of e)if("string"==typeof t){if(p(t,r))return r}else if(ArrayBuffer.isView(t)){if(m(t.buffer,t.byteOffset,r))return r}else if(t instanceof ArrayBuffer){if(m(t,0,r))return r}return null}(t,e),u=u||(_?`matched initial data ${A(e)}`:""),r?.fallbackMimeType&&(_=_||R(t,r?.fallbackMimeType),u=u||(_?`matched fallback MIME type ${a}`:""));u&&n.R.log(1,`selectLoader selected ${_?.name}: ${u}.`);return _}(e,o,r,s);if(!c&&!r?.nothrow)throw new Error(h(e));return c}function E(e){return!(e instanceof Response&&204===e.status)}function h(e){const t=(0,i.Al)(e),r=(0,i.z4)(e);let n="No valid loader found (";n+=t?`${s.iW(t)}, `:"no url provided, ",n+=`MIME type: ${r?`"${r}"`:"not provided"}, `;const o=e?A(e):"";return n+=o?` first bytes: "${o}"`:"first bytes: not available",n+=")",n}function R(e,t){for(const r of e){if(r.mimeTypes?.some((e=>(0,c.JQ)(t,e))))return r;if((0,c.JQ)(t,`application/x.${r.id}`))return r}return null}function p(e,t){if(t.testText)return t.testText(e);return(Array.isArray(t.tests)?t.tests:[t.tests]).some((t=>e.startsWith(t)))}function m(e,t,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some((r=>function(e,t,r,n){if(n instanceof ArrayBuffer)return(0,o.YV)(n,e,n.byteLength);switch(typeof n){case"function":return n(e);case"string":return n===C(e,t,n.length);default:return!1}}(e,t,0,r)))}function A(e,t){if(void 0===t&&(t=5),"string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return C(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return C(e,0,t)}return""}function C(e,t,r){if(e.byteLength<t+r)return"";const n=new DataView(e);let s="";for(let o=0;o<r;o++)s+=String.fromCharCode(n.getUint8(t+o));return s}},97900:(e,t,r)=>{r.d(t,{t2:()=>o});var n=r(83925),s=r(89707);async function o(e,t){if("string"==typeof e){const r=(0,n.o1)(e);return function(e){return!function(e){return e.startsWith("http:")||e.startsWith("https:")}(e)&&!function(e){return e.startsWith("data:")}(e)}(r)&&globalThis.loaders?.fetchNode?globalThis.loaders?.fetchNode(r,t):await fetch(r,t)}return await(0,s.wv)(e)}},17574:(e,t,r)=>{r.d(t,{z:()=>a});var n=r(70171),s=r(97900),o=r(74850);function a(e,t){const r=(0,o.pp)(),a=e||r;return"function"==typeof a.fetch?a.fetch:(0,n.Gv)(a.fetch)?e=>(0,s.t2)(e,a.fetch):t?.fetch?t?.fetch:s.t2}},90399:(e,t,r)=>{r.d(t,{D:()=>o,l:()=>s});var n=r(39838);function s(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);return Array.isArray(e?.extensions)}function o(e){let t;return(0,n.v)(e,"null loader"),(0,n.v)(s(e),"invalid loader"),Array.isArray(e)&&(t=e[1],e=e[0],e={...e,options:{...e.options,...t}}),(e?.parseTextSync||e?.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}},74850:(e,t,r)=>{r.d(t,{pp:()=>f,K2:()=>l,a5:()=>d});var n=r(70171),s=r(62239),o=r(96763);const a=new s.t({id:"loaders.gl"});class i{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var c=r(44674);const _={fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){this.console=o}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.log.bind(this.console,...t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.info.bind(this.console,...t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.warn.bind(this.console,...t)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.error.bind(this.console,...t)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:c.Bd,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},u={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function l(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state||(e._state={}),e._state}function f(){const e=l();return e.globalOptions=e.globalOptions||{..._},e.globalOptions}function d(e,t,r,n){return r=r||[],function(e,t){S(e,null,_,u,t);for(const r of t){const n=e&&e[r.id]||{},s=r.options&&r.options[r.id]||{},o=r.deprecatedOptions&&r.deprecatedOptions[r.id]||{};S(n,r.id,s,o,t)}}(e,r=Array.isArray(r)?r:[r]),h(t,e,n)}function S(e,t,r,s,o){const i=t||"Top level",c=t?`${t}.`:"";for(const _ in e){const u=!t&&(0,n.Gv)(e[_]);if(!(_ in r)&&!("baseUri"===_&&!t)&&!("workerUrl"===_&&t))if(_ in s)a.warn(`${i} loader option '${c}${_}' no longer supported, use '${s[_]}'`)();else if(!u){const e=E(_,o);a.warn(`${i} loader option '${c}${_}' not recognized. ${e}`)()}}}function E(e,t){const r=e.toLowerCase();let n="";for(const s of t)for(const t in s.options){if(e===t)return`Did you mean '${s.id}.${t}'?`;const o=t.toLowerCase();(r.startsWith(o)||o.startsWith(r))&&(n=n||`Did you mean '${s.id}.${t}'?`)}return n}function h(e,t,r){const n={...e.options||{}};return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(n,r),null===n.log&&(n.log=new i),R(n,f()),R(n,t),n}function R(e,t){for(const r in t)if(r in t){const s=t[r];(0,n.aC)(s)&&(0,n.aC)(e[r])?e[r]={...e[r],...t[r]}:e[r]=t[r]}}},83031:(e,t,r)=>{r.d(t,{JQ:()=>o,OA:()=>a,d_:()=>i});const n=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,s=/^([-\w.]+\/[-\w.+]+)/;function o(e,t){return e.toLowerCase()===t.toLowerCase()}function a(e){const t=s.exec(e);return t?t[1]:e}function i(e){const t=n.exec(e);return t?t[1]:""}},91330:(e,t,r)=>{r.d(t,{Al:()=>a,_E:()=>c,z4:()=>i});var n=r(70171),s=r(83031),o=r(99005);function a(e){if((0,n.Sv)(e)){return e.url}if((0,n.qf)(e)){return e.name||""}return"string"==typeof e?e:""}function i(e){if((0,n.Sv)(e)){const t=e,r=t.headers.get("content-type")||"",n=(0,o.S3)(t.url);return(0,s.OA)(r)||(0,s.d_)(n)}if((0,n.qf)(e)){return e.type||""}return"string"==typeof e?(0,s.d_)(e):""}function c(e){if((0,n.Sv)(e)){return e.headers["content-length"]||-1}if((0,n.qf)(e)){return e.size}return"string"==typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}},89707:(e,t,r)=>{r.d(t,{Mz:()=>c,wv:()=>i});var n=r(70171);class s extends Error{constructor(e,t){super(e),this.reason=t.reason,this.url=t.url,this.response=t.response}}var o=r(91330),a=r(99005);async function i(e){if((0,n.Sv)(e))return e;const t={},r=(0,o._E)(e);r>=0&&(t["content-length"]=String(r));const s=(0,o.Al)(e),a=(0,o.z4)(e);a&&(t["content-type"]=a);const i=await async function(e){const t=5;if("string"==typeof e)return`data:,${e.slice(0,t)}`;if(e instanceof Blob){const t=e.slice(0,5);return await new Promise((e=>{const r=new FileReader;r.onload=t=>e(t?.target?.result),r.readAsDataURL(t)}))}if(e instanceof ArrayBuffer){return`data:base64,${function(e){let t="";const r=new Uint8Array(e);for(let n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return btoa(t)}(e.slice(0,t))}`}return null}(e);i&&(t["x-first-bytes"]=i),"string"==typeof e&&(e=(new TextEncoder).encode(e));const c=new Response(e,{headers:t});return Object.defineProperty(c,"url",{value:s}),c}async function c(e){if(!e.ok){const t=await async function(e){const r=(0,a.E1)(e.url);let n=`Failed to fetch resource (${e.status}) ${e.statusText}: ${r}`;n=n.length>100?`${n.slice(0,100)}...`:n;const o={reason:e.statusText,url:e.url,response:e};try{const t=e.headers.get("Content-Type");o.reason=!e.bodyUsed&&t?.includes("application/json")?await e.json():await e.text()}catch(t){}return new s(n,o)}(e);throw t}}},99005:(e,t,r)=>{r.d(t,{E1:()=>a,S3:()=>o,by:()=>s});const n=/\?.*/;function s(e){const t=e.match(n);return t&&t[0]}function o(e){return e.replace(n,"")}function a(e){if(e.length<50)return e;const t=e.slice(e.length-15);return`${e.substr(0,32)}...${t}`}},40724:(e,t,r)=>{r.d(t,{$:()=>T});const n="undefined"!=typeof __VERSION__?__VERSION__:"latest";var s=r(39838),o=r(44674);const a=globalThis.loaders?.parseImageNode,i="undefined"!=typeof Image,c="undefined"!=typeof ImageBitmap,_=Boolean(a),u=!!o.Bd||_;var l=r(74065);const f=/^data:image\/svg\+xml/,d=/\.svg((\?|#).*)?$/;function S(e){return e&&(f.test(e)||d.test(e))}function E(e,t){if(S(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}async function h(e,t,r){const n=function(e,t){if(S(t)){let t=(new TextDecoder).decode(e);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(t=unescape(encodeURIComponent(t)))}catch(r){throw new Error(r.message)}return`data:image/svg+xml;base64,${btoa(t)}`}return E(e,t)}(e,r),s=self.URL||self.webkitURL,o="string"!=typeof n&&s.createObjectURL(n);try{return await async function(e,t){const r=new Image;if(r.src=e,t.image&&t.image.decode&&r.decode)return await r.decode(),r;return await new Promise(((e,t)=>{try{r.onload=()=>e(r),r.onerror=e=>{const r=e instanceof Error?e.message:"error";t(new Error(r))}}catch(n){t(n)}}))}(o||n,t)}finally{o&&s.revokeObjectURL(o)}}var R=r(96763);const p={};let m=!0;async function A(e,t,r){let n;if(S(r)){n=await h(e,t,r)}else n=E(e,r);const s=t&&t.imagebitmap;return await async function(e,t){void 0===t&&(t=null);!function(e){for(const t in e||p)return!1;return!0}(t)&&m||(t=null);if(t)try{return await createImageBitmap(e,t)}catch(r){R.warn(r),m=!1}return await createImageBitmap(e)}(n,s)}var C=r(17096);const T={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:n,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:async function(e,t,r){const n=((t=t||{}).image||{}).type||"auto",{url:o}=r||{};let a;switch(function(e){switch(e){case"auto":case"data":return function(){if(c)return"imagebitmap";if(i)return"image";if(u)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return c||i||u;case"imagebitmap":return c;case"image":return i;case"data":return u;default:throw new Error(`@loaders.gl/images: image ${e} not supported in this environment`)}}(e),e}}(n)){case"imagebitmap":a=await A(e,t,o);break;case"image":a=await h(e,t,o);break;case"data":a=await async function(e,t){const{mimeType:r}=(0,C.m)(e)||{},n=globalThis.loaders?.parseImageNode;return(0,s.v)(n),await n(e,r)}(e);break;default:(0,s.v)(!1)}return"data"===n&&(a=(0,l.M5)(a)),a},tests:[e=>Boolean((0,C.m)(new DataView(e)))],options:{image:{type:"auto",decode:!0}}}},17096:(e,t,r)=>{function n(e){return function(e,t,r){void 0===r&&(r=0);const n=(s=t,[...s].map((e=>e.charCodeAt(0))));var s;for(let o=0;o<n.length;++o)if(n[o]!==e[o+r])return!1;return!0}(e,"ftyp",4)?0==(96&e[8])?null:function(e){switch((t=e,r=8,n=12,String.fromCharCode(...t.slice(r,n))).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}var t,r,n}(e):null}r.d(t,{m:()=>a});const s=!1,o=!0;function a(e){const t=i(e);return function(e){const t=i(e),r=t.byteLength>=24&&2303741511===t.getUint32(0,s);if(!r)return null;return{mimeType:"image/png",width:t.getUint32(16,s),height:t.getUint32(20,s)}}(t)||function(e){const t=i(e),r=t.byteLength>=3&&65496===t.getUint16(0,s)&&255===t.getUint8(2);if(!r)return null;const{tableMarkers:n,sofMarkers:o}=function(){const e=new Set([65499,65476,65484,65501,65534]);for(let r=65504;r<65520;++r)e.add(r);const t=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:t}}();let a=2;for(;a+9<t.byteLength;){const e=t.getUint16(a,s);if(o.has(e))return{mimeType:"image/jpeg",height:t.getUint16(a+5,s),width:t.getUint16(a+7,s)};if(!n.has(e))return null;a+=2,a+=t.getUint16(a,s)}return null}(t)||function(e){const t=i(e),r=t.byteLength>=10&&1195984440===t.getUint32(0,s);if(!r)return null;return{mimeType:"image/gif",width:t.getUint16(6,o),height:t.getUint16(8,o)}}(t)||function(e){const t=i(e),r=t.byteLength>=14&&16973===t.getUint16(0,s)&&t.getUint32(2,o)===t.byteLength;if(!r)return null;return{mimeType:"image/bmp",width:t.getUint32(18,o),height:t.getUint32(22,o)}}(t)||function(e){const t=new Uint8Array(e instanceof DataView?e.buffer:e),r=n(t);if(!r)return null;return{mimeType:r.mimeType,width:0,height:0}}(t)}function i(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},74065:(e,t,r)=>{function n(e){const t=o(e);if(!t)throw new Error("Not an image");return t}function s(e){switch(n(e)){case"data":return e;case"image":case"imagebitmap":const t=document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("getImageData");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0),r.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function o(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"==typeof e&&e.data&&e.width&&e.height?"data":null}r.d(t,{M5:()=>s})},33118:(e,t,r)=>{function n(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;const n=new Uint8Array(e),s=new Uint8Array(t);for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0}function s(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){const t=e.map((e=>e instanceof ArrayBuffer?new Uint8Array(e):e)),r=t.reduce(((e,t)=>e+t.byteLength),0),n=new Uint8Array(r);let s=0;for(const o of t)n.set(o,s),s+=o.byteLength;return n.buffer}(t)}function o(e,t,r){const n=void 0!==r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer}r.d(t,{AQ:()=>s,YV:()=>n,_m:()=>o})},60109:(e,t,r)=>{function n(e){if((t=e)&&"object"==typeof t&&t.isBuffer)return e;var t;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"==typeof e){const t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"==typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}r.d(t,{XA:()=>n})},39838:(e,t,r)=>{function n(e,t){if(!e)throw new Error(t||"loader assertion failed.")}r.d(t,{v:()=>n})},44674:(e,t,r)=>{r.d(t,{Bd:()=>s});var n=r(65606);"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==r.g&&r.g,"undefined"!=typeof document&&document;const s=Boolean("object"!=typeof n||"[object process]"!==String(n)||n.browser),o=void 0!==n&&n.version&&/v([0-9]*)/.exec(n.version);o&&parseFloat(o[1])},97096:(e,t,r)=>{r.d(t,{cy:()=>o,jJ:()=>s});var n=r(33118);async function s(e,t){for(;;){const{done:r,value:n}=await e.next();if(r)return void e.return();if(t(n))return}}async function o(e){const t=[];for await(const r of e)t.push(r);return(0,n.AQ)(...t)}},27697:(e,t,r)=>{r.d(t,{R:()=>a});var n=r(62239);const s="undefined"!=typeof __VERSION__?__VERSION__:"latest",o=s[0]>="0"&&s[0]<="9"?`v${s}`:"";const a=function(){const e=new n.t({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=e,globalThis.loaders.version=o,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=e,e}()},32481:(e,t,r)=>{r.d(t,{Qd:()=>a,Qz:()=>s,mi:()=>o,w7:()=>i});var n=r(27697);function s(e){globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,e)}function o(e,t){const r=globalThis.loaders?.modules?.[e];r||n.R.warn(`${t}: ${e} library not installed`)()}function a(e,t){const r=globalThis.loaders?.modules?.[e];if(!r)throw new Error(`${t}: ${e} library not installed`);return r}function i(e){const t=globalThis.loaders?.modules?.[e];return t||null}},82807:(e,t,r)=>{function n(e,t){return s(e||{},t)}function s(e,t,r){if(void 0===r&&(r=0),r>3)return t;const n={...e};for(const[o,a]of Object.entries(t))a&&"object"==typeof a&&!Array.isArray(a)?n[o]=s(n[o]||{},t[o],r+1):n[o]=t[o];return n}r.d(t,{y:()=>n})},83925:(e,t,r)=>{r.d(t,{o1:()=>o});let n="";const s={};function o(e){for(const t in s)if(e.startsWith(t)){const r=s[t];e=e.replace(t,r)}return e.startsWith("http://")||e.startsWith("https://")||(e=`${n}${e}`),e}},52954:(e,t,r)=>{r.d(t,{pD:()=>a,iW:()=>o,hd:()=>i});var n=r(65606);function s(){if(void 0!==n&&void 0!==n.cwd)return n.cwd();const e=window.location?.pathname;return e?.slice(0,e.lastIndexOf("/")+1)||""}function o(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}function a(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}function i(){const e=[];for(let s=0;s<arguments.length;s++)e[s]=s<0||arguments.length<=s?void 0:arguments[s];let t,r="",n=!1;for(let o=e.length-1;o>=-1&&!n;o--){let a;o>=0?a=e[o]:(void 0===t&&(t=s()),a=t),0!==a.length&&(r=`${a}/${r}`,n=a.charCodeAt(0)===c)}return r=function(e,t){let r,n="",s=-1,o=0,a=!1;for(let i=0;i<=e.length;++i){if(i<e.length)r=e.charCodeAt(i);else{if(r===c)break;r=c}if(r===c){if(s===i-1||1===o);else if(s!==i-1&&2===o){if(n.length<2||!a||n.charCodeAt(n.length-1)!==_||n.charCodeAt(n.length-2)!==_)if(n.length>2){const e=n.length-1;let t=e;for(;t>=0&&n.charCodeAt(t)!==c;--t);if(t!==e){n=-1===t?"":n.slice(0,t),s=i,o=0,a=!1;continue}}else if(2===n.length||1===n.length){n="",s=i,o=0,a=!1;continue}t&&(n.length>0?n+="/..":n="..",a=!0)}else{const t=e.slice(s+1,i);n.length>0?n+=`/${t}`:n=t,a=!1}s=i,o=0}else r===_&&-1!==o?++o:o=-1}return n}(r,!n),n?`/${r}`:r.length>0?r:"."}const c=47,_=46},88595:(e,t,r)=>{r.d(t,{E:()=>o});var n=r(94143),s=r(53133);const o={...{dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:n.x,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},parse:s.a}},30600:(e,t,r)=>{r.d(t,{Y:()=>g});var n=r(94143),s=r(53662),o=r(39838),a=r(92133),i=r(92094);const c={MAGIC_NUMBER:542327876,HEADER_LENGTH:31,MAGIC_NUMBER_INDEX:0,HEADER_SIZE_INDEX:1,HEADER_FLAGS_INDEX:2,HEADER_HEIGHT_INDEX:3,HEADER_WIDTH_INDEX:4,MIPMAPCOUNT_INDEX:7,HEADER_PF_FLAGS_INDEX:20,HEADER_PF_FOURCC_INDEX:21,DDSD_MIPMAPCOUNT:131072,DDPF_FOURCC:4},_={DXT1:a.b.COMPRESSED_RGB_S3TC_DXT1_EXT,DXT3:a.b.COMPRESSED_RGBA_S3TC_DXT3_EXT,DXT5:a.b.COMPRESSED_RGBA_S3TC_DXT5_EXT,"ATC ":a.b.COMPRESSED_RGB_ATC_WEBGL,ATCA:a.b.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,ATCI:a.b.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},u={DXT1:f,DXT3:d,DXT5:d,"ATC ":f,ATCA:d,ATCI:d};function l(e){const t=new Int32Array(e,0,c.HEADER_LENGTH),r=t[c.HEADER_PF_FOURCC_INDEX];(0,o.v)(Boolean(t[c.HEADER_PF_FLAGS_INDEX]&c.DDPF_FOURCC),"DDS: Unsupported format, must contain a FourCC code");const n=(s=r,String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255));var s;const a=_[n],l=u[n];(0,o.v)(a&&l,`DDS: Unknown pixel format ${r}`);let f=1;t[c.HEADER_FLAGS_INDEX]&c.DDSD_MIPMAPCOUNT&&(f=Math.max(1,t[c.MIPMAPCOUNT_INDEX]));const d=t[c.HEADER_WIDTH_INDEX],S=t[c.HEADER_HEIGHT_INDEX],E=t[c.HEADER_SIZE_INDEX]+4,h=new Uint8Array(e,E);return(0,i.C)(h,{mipMapLevels:f,width:d,height:S,sizeFunction:l,internalFormat:a})}function f(e,t){return(e+3>>2)*(t+3>>2)*8}function d(e,t){return(e+3>>2)*(t+3>>2)*16}const S={MAGIC_NUMBER:55727696,MAGIC_NUMBER_EXTRA:1347834371,HEADER_LENGTH:13,HEADER_SIZE:52,MAGIC_NUMBER_INDEX:0,PIXEL_FORMAT_INDEX:2,COLOUR_SPACE_INDEX:4,HEIGHT_INDEX:6,WIDTH_INDEX:7,MIPMAPCOUNT_INDEX:11,METADATA_SIZE_INDEX:12},E={0:[a.b.COMPRESSED_RGB_PVRTC_2BPPV1_IMG],1:[a.b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG],2:[a.b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG],3:[a.b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG],6:[a.b.COMPRESSED_RGB_ETC1_WEBGL],7:[a.b.COMPRESSED_RGB_S3TC_DXT1_EXT],9:[a.b.COMPRESSED_RGBA_S3TC_DXT3_EXT],11:[a.b.COMPRESSED_RGBA_S3TC_DXT5_EXT],22:[a.b.COMPRESSED_RGB8_ETC2],23:[a.b.COMPRESSED_RGBA8_ETC2_EAC],24:[a.b.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2],25:[a.b.COMPRESSED_R11_EAC],26:[a.b.COMPRESSED_RG11_EAC],27:[a.b.COMPRESSED_RGBA_ASTC_4X4_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR],28:[a.b.COMPRESSED_RGBA_ASTC_5X4_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR],29:[a.b.COMPRESSED_RGBA_ASTC_5X5_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR],30:[a.b.COMPRESSED_RGBA_ASTC_6X5_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR],31:[a.b.COMPRESSED_RGBA_ASTC_6X6_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR],32:[a.b.COMPRESSED_RGBA_ASTC_8X5_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR],33:[a.b.COMPRESSED_RGBA_ASTC_8X6_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR],34:[a.b.COMPRESSED_RGBA_ASTC_8X8_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR],35:[a.b.COMPRESSED_RGBA_ASTC_10X5_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR],36:[a.b.COMPRESSED_RGBA_ASTC_10X6_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR],37:[a.b.COMPRESSED_RGBA_ASTC_10X8_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR],38:[a.b.COMPRESSED_RGBA_ASTC_10X10_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR],39:[a.b.COMPRESSED_RGBA_ASTC_12X10_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR],40:[a.b.COMPRESSED_RGBA_ASTC_12X12_KHR,a.b.COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR]},h={0:R,1:R,2:p,3:p,6:m,7:m,9:A,11:A,22:m,23:A,24:m,25:m,26:A,27:A,28:function(e,t){return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16},29:function(e,t){return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16},30:function(e,t){return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16},31:function(e,t){return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16},32:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16},33:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16},34:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16},35:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16},36:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16},37:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16},38:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16},39:function(e,t){return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16},40:function(e,t){return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16}};function R(e,t){return(e=Math.max(e,16))*(t=Math.max(t,8))/4}function p(e,t){return(e=Math.max(e,8))*(t=Math.max(t,8))/2}function m(e,t){return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8}function A(e,t){return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16}function C(e){if((0,s.e)(e))return(0,s.V)(e);if(function(e){return new Uint32Array(e,0,c.HEADER_LENGTH)[c.MAGIC_NUMBER_INDEX]===c.MAGIC_NUMBER}(e))return l(e);if(function(e){const t=new Uint32Array(e,0,S.HEADER_LENGTH)[S.MAGIC_NUMBER_INDEX];return t===S.MAGIC_NUMBER||t===S.MAGIC_NUMBER_EXTRA}(e))return function(e){const t=new Uint32Array(e,0,S.HEADER_LENGTH),r=t[S.PIXEL_FORMAT_INDEX],n=t[S.COLOUR_SPACE_INDEX],s=E[r]||[],o=s.length>1&&n?s[1]:s[0],a=h[r],c=t[S.MIPMAPCOUNT_INDEX],_=t[S.WIDTH_INDEX],u=t[S.HEIGHT_INDEX],l=S.HEADER_SIZE+t[S.METADATA_SIZE_INDEX],f=new Uint8Array(e,l);return(0,i.C)(f,{mipMapLevels:c,width:_,height:u,sizeFunction:a,internalFormat:o})}(e);throw new Error("Texture container format not recognized")}var T=r(53133);const g={...{dataType:null,batchType:null,name:"Texture Containers",id:"compressed-texture",module:"textures",version:n.x,worker:!0,extensions:["ktx","ktx2","dds","pvr"],mimeTypes:["image/ktx2","image/ktx","image/vnd-ms.dds","image/x-dds","application/octet-stream"],binary:!0,options:{"compressed-texture":{libraryPath:"libs/",useBasis:!1}}},parse:async(e,t)=>{if(t?.["compressed-texture"]?.useBasis){t.basis={format:{alpha:"BC3",noAlpha:"BC1"},...t.basis,containerFormat:"ktx2",module:"encoder"};return(await(0,T.a)(e,t))[0]}return C(e)}}},92133:(e,t,r)=>{r.d(t,{b:()=>n});const n={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919}},53133:(e,t,r)=>{r.d(t,{a:()=>S,J:()=>A});var n=r(32481),s=r(4292);const o={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"};let a,i;async function c(e){(0,n.Qz)(e.modules);const t=(0,n.w7)("basis");return t||(a||=async function(e){let t=null,r=null;return[t,r]=await Promise.all([await(0,s._)(o.TRANSCODER,"textures",e),await(0,s._)(o.TRANSCODER_WASM,"textures",e)]),t=t||globalThis.BASIS,await function(e,t){const r={};t&&(r.wasmBinary=t);return new Promise((t=>{e(r).then((e=>{const{BasisFile:r,initializeBasis:n}=e;n(),t({BasisFile:r})}))}))}(t,r)}(e),await a)}async function _(e){const t=e.modules||{};return t.basisEncoder?t.basisEncoder:(i=i||async function(e){let t=null,r=null;return[t,r]=await Promise.all([await(0,s._)(o.ENCODER,"textures",e),await(0,s._)(o.ENCODER_WASM,"textures",e)]),t=t||globalThis.BASIS,await function(e,t){const r={};t&&(r.wasmBinary=t);return new Promise((t=>{e(r).then((e=>{const{BasisFile:r,KTX2File:n,initializeBasis:s,BasisEncoder:o}=e;s(),t({BasisFile:r,KTX2File:n,BasisEncoder:o})}))}))}(t,r)}(e),await i)}var u=r(92133),l=r(85873),f=r(53662);const d={etc1:{basisFormat:0,compressed:!0,format:u.b.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:u.b.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:u.b.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:u.b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:u.b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:u.b.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};async function S(e,t){if("auto"===t.basis.containerFormat){if((0,f.e)(e)){return R((await _(t)).KTX2File,e,t)}const{BasisFile:r}=await c(t);return E(r,e,t)}if("encoder"===t.basis.module){const r=await _(t);return"ktx2"===t.basis.containerFormat?R(r.KTX2File,e,t):E(r.BasisFile,e,t)}{const{BasisFile:r}=await c(t);return E(r,e,t)}}function E(e,t,r){const n=new e(new Uint8Array(t));try{if(!n.startTranscoding())throw new Error("Failed to start basis transcoding");const e=n.getNumImages(),t=[];for(let s=0;s<e;s++){const e=n.getNumLevels(s),o=[];for(let t=0;t<e;t++)o.push(h(n,s,t,r));t.push(o)}return t}finally{n.close(),n.delete()}}function h(e,t,r,n){const s=e.getImageWidth(t,r),o=e.getImageHeight(t,r),a=e.getHasAlpha(),{compressed:i,format:c,basisFormat:_}=m(n,a),u=e.getImageTranscodedSizeInBytes(t,r,_),l=new Uint8Array(u);if(!e.transcodeImage(l,t,r,_,0,0))throw new Error("failed to start Basis transcoding");return{width:s,height:o,data:l,compressed:i,format:c,hasAlpha:a}}function R(e,t,r){const n=new e(new Uint8Array(t));try{if(!n.startTranscoding())throw new Error("failed to start KTX2 transcoding");const e=n.getLevels(),t=[];for(let s=0;s<e;s++)t.push(p(n,s,r));return[t]}finally{n.close(),n.delete()}}function p(e,t,r){const{alphaFlag:n,height:s,width:o}=e.getImageLevelInfo(t,0,0),{compressed:a,format:i,basisFormat:c}=m(r,n),_=e.getImageTranscodedSizeInBytes(t,0,0,c),u=new Uint8Array(_);if(!e.transcodeImage(u,t,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:s,data:u,compressed:a,levelSize:_,hasAlpha:n,format:i}}function m(e,t){let r=e&&e.basis&&e.basis.format;return"auto"===r&&(r=A()),"object"==typeof r&&(r=t?r.alpha:r.noAlpha),r=r.toLowerCase(),d[r]}function A(){const e=(0,l.E)();return e.has("astc")?"astc-4x4":e.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:e.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:e.has("etc1")?"etc1":e.has("etc2")?"etc2":"rgb565"}},53662:(e,t,r)=>{r.d(t,{e:()=>c,V:()=>_});var n=r(43853),s=r(92094),o=r(92133);const a={131:o.b.COMPRESSED_RGB_S3TC_DXT1_EXT,132:o.b.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:o.b.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:o.b.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:o.b.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:o.b.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:o.b.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:o.b.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:o.b.COMPRESSED_RED_RGTC1_EXT,140:o.b.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:o.b.COMPRESSED_RED_GREEN_RGTC2_EXT,142:o.b.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:o.b.COMPRESSED_RGB8_ETC2,148:o.b.COMPRESSED_SRGB8_ETC2,149:o.b.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:o.b.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:o.b.COMPRESSED_RGBA8_ETC2_EAC,152:o.b.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:o.b.COMPRESSED_R11_EAC,154:o.b.COMPRESSED_SIGNED_R11_EAC,155:o.b.COMPRESSED_RG11_EAC,156:o.b.COMPRESSED_SIGNED_RG11_EAC,157:o.b.COMPRESSED_RGBA_ASTC_4x4_KHR,158:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:o.b.COMPRESSED_RGBA_ASTC_5x4_KHR,160:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:o.b.COMPRESSED_RGBA_ASTC_5x5_KHR,162:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:o.b.COMPRESSED_RGBA_ASTC_6x5_KHR,164:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:o.b.COMPRESSED_RGBA_ASTC_6x6_KHR,166:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:o.b.COMPRESSED_RGBA_ASTC_8x5_KHR,168:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:o.b.COMPRESSED_RGBA_ASTC_8x6_KHR,170:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:o.b.COMPRESSED_RGBA_ASTC_8x8_KHR,172:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:o.b.COMPRESSED_RGBA_ASTC_10x5_KHR,174:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:o.b.COMPRESSED_RGBA_ASTC_10x6_KHR,176:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:o.b.COMPRESSED_RGBA_ASTC_10x8_KHR,178:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:o.b.COMPRESSED_RGBA_ASTC_10x10_KHR,180:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:o.b.COMPRESSED_RGBA_ASTC_12x10_KHR,182:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:o.b.COMPRESSED_RGBA_ASTC_12x12_KHR,184:o.b.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:o.b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:o.b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:o.b.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:o.b.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:o.b.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:o.b.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:o.b.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:o.b.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:o.b.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:o.b.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:o.b.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:o.b.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:o.b.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:o.b.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:o.b.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:o.b.COMPRESSED_RGBA_ASTC_12x12_KHR};const i=[171,75,84,88,32,50,48,187,13,10,26,10];function c(e){const t=new Uint8Array(e);return!(t.byteLength<i.length||t[0]!==i[0]||t[1]!==i[1]||t[2]!==i[2]||t[3]!==i[3]||t[4]!==i[4]||t[5]!==i[5]||t[6]!==i[6]||t[7]!==i[7]||t[8]!==i[8]||t[9]!==i[9]||t[10]!==i[10]||t[11]!==i[11])}function _(e){const t=new Uint8Array(e),r=(0,n.LF)(t),o=Math.max(1,r.levels.length),i=r.pixelWidth,c=r.pixelHeight,_=(u=r.vkFormat,a[u]);var u;return(0,s.C)(r.levels,{mipMapLevels:o,width:i,height:c,sizeFunction:e=>e.uncompressedByteLength,internalFormat:_})}},92094:(e,t,r)=>{function n(e,t){const r=new Array(t.mipMapLevels);let n=t.width,a=t.height,i=0;for(let c=0;c<t.mipMapLevels;++c){const _=o(t,n,a,e,c),u=s(e,c,i,_);r[c]={compressed:!0,format:t.internalFormat,data:u,width:n,height:a,levelSize:_},n=Math.max(1,n>>1),a=Math.max(1,a>>1),i+=_}return r}function s(e,t,r,n){return Array.isArray(e)?e[t].levelData:new Uint8Array(e.buffer,e.byteOffset+r,n)}function o(e,t,r,n,s){return Array.isArray(n)?e.sizeFunction(n[s]):e.sizeFunction(t,r)}r.d(t,{C:()=>n})},85873:(e,t,r)=>{r.d(t,{E:()=>a});const n=["","WEBKIT_","MOZ_"],s={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let o=null;function a(e){if(!o){e=e||function(){try{return document.createElement("canvas").getContext("webgl")}catch(e){return null}}()||void 0,o=new Set;for(const t of n)for(const r in s)if(e&&e.getExtension(`${t}${r}`)){const e=s[r];o.add(e)}}return o}},94143:(e,t,r)=>{r.d(t,{x:()=>n});const n="undefined"!=typeof __VERSION__?__VERSION__:"latest"},70353:(e,t,r)=>{function n(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}r.d(t,{v:()=>n})},70075:(e,t,r)=>{r.d(t,{Bd:()=>s,Fr:()=>a,xD:()=>o});var n=r(65606);"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==r.g&&r.g,"undefined"!=typeof document&&document;const s="object"!=typeof n||"[object process]"!==String(n)||n.browser,o="function"==typeof importScripts,a="undefined"!=typeof window&&void 0!==window.orientation,i=void 0!==n&&n.version&&/v([0-9]*)/.exec(n.version);i&&parseFloat(i[1])},11471:(e,t,r)=>{r.d(t,{Q:()=>o,x:()=>s});var n=r(96763);const s="latest";const o=(globalThis._loadersgl_?.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},"undefined"==typeof __VERSION__?(n.warn("loaders.gl: The __VERSION__ variable is not injected using babel plugin. Latest unstable workers would be fetched from the CDN."),globalThis._loadersgl_.version=s):globalThis._loadersgl_.version=__VERSION__),globalThis._loadersgl_.version)},4292:(e,t,r)=>{r.d(t,{_:()=>c});var n=r(70075),s=r(70353),o=r(11471),a=r(96763);const i={};async function c(e,t,r,c){return void 0===t&&(t=null),void 0===r&&(r={}),void 0===c&&(c=null),t&&(e=function(e,t,r,a){void 0===r&&(r={});void 0===a&&(a=null);if(!r.useLocalLibraries&&e.startsWith("http"))return e;a=a||e;const i=r.modules||{};if(i[a])return i[a];if(!n.Bd)return`modules/${t}/dist/libs/${a}`;if(r.CDN)return(0,s.v)(r.CDN.startsWith("http")),`${r.CDN}/${t}@${o.Q}/dist/libs/${a}`;if(n.xD)return`../src/libs/${a}`;return`modules/${t}/src/libs/${a}`}(e,t,r,c)),i[e]=i[e]||async function(e){if(e.endsWith("wasm"))return await async function(e){const{readFileAsArrayBuffer:t}=globalThis.loaders||{};if(n.Bd||!t||e.startsWith("http")){const t=await fetch(e);return await t.arrayBuffer()}return await t(e)}(e);if(!n.Bd)try{const{requireFromFile:t}=globalThis.loaders||{};return await(t?.(e))}catch(r){return a.error(r),null}if(n.xD)return importScripts(e);const t=await async function(e){const{readFileAsText:t}=globalThis.loaders||{};if(n.Bd||!t||e.startsWith("http")){const t=await fetch(e);return await t.text()}return await t(e)}(e);return function(e,t){if(!n.Bd){const{requireFromString:r}=globalThis.loaders||{};return r?.(e,t)}if(n.xD)return eval.call(globalThis,e),null;const r=document.createElement("script");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(s){r.text=e}return document.body.appendChild(r),null}(t,e)}(e),await i[e]}},61708:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>We,contentTitle:()=>je,default:()=>Qe,frontMatter:()=>Fe,metadata:()=>$e,toc:()=>Ve});var n=r(74848),s=r(28453),o=r(96540),a=(r(5338),r(59416)),i=r(79077);const c=[{formatName:"Standard Image Formats",description:"Non-texture image formats. Compact on disk, but need to be fully decompressed into GPU texture memory, and mipmaps need to be generated by client.",codeSample:"load(url, ImageLoader)",images:[{format:"JPG",src:"shannon.jpg"},{format:"GIF",src:"shannon.gif"},{format:"PNG",src:"shannon.png"},{format:"BMP",src:"shannon.bmp"},{format:"WEBP",src:"shannon.webp"},{format:"AVIF",src:"shannon.avif"}]},{formatName:"Basis Universal",description:"Supercompressed GPU Texture Codec",link:"https://github.com/BinomialLLC/basis_universal",codeSample:"load(url, BasisLoader)",images:[{format:"BASIS",src:"alpha3.basis"},{format:"BASIS",src:"kodim01.basis"},{format:"BASIS",src:"kodim18.basis"},{format:"BASIS",src:"kodim20_1024x1024.basis"},{format:"BASIS",src:"kodim20.basis"}]},{formatName:"KTX",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"DXT1",src:"shannon-dxt1.ktx2"},{format:"DXT3",src:"shannon-dxt3.ktx2"},{format:"DXT5",src:"shannon-dxt5.ktx2"}]},{formatName:"KTX2",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"KTX2",src:"kodim23.ktx2",useBasis:!0}]},{formatName:"DDS: S3 Texture Compression (WEBGL_compressed_texture_s3tc)",description:"S3 (aka DXTn, DXTC, or BCn).",availability:"Common on desktop GPUs. DXT5 is usually the preferred version",link:"https://en.wikipedia.org/wiki/S3_Texture_Compression",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"DXT5",src:"shannon-dxt5.dds"},{format:"DXT3",src:"shannon-dxt3.dds"},{format:"DXT1",src:"shannon-dxt1.dds"}]},{formatName:"PVR: PowerVR Texture Compression (WEBGL_compressed_texture_pvrtc)",description:"Lossy, fixed-rate GPU texture compression format",availability:"iPhone, iPad and mobile devices with PowerVR chipsets.",link:"https://en.wikipedia.org/wiki/PVRTC",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"PVRTC (2BPP RGB)",src:"shannon-pvrtc-2bpp-rgb.pvr"},{format:"PVRTC (2BPP RGBA)",src:"shannon-pvrtc-2bpp-rgba.pvr"},{format:"PVRTC (4BPP RGB)",src:"shannon-pvrtc-4bpp-rgb.pvr"},{format:"PVRTC (2BPP RGBA)",src:"shannon-pvrtc-4bpp-rgba.pvr"}]},{formatName:"PVR: ATC (WEBGL_compressed_texture_atc)",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"ATC (RGB)",src:"shannon-atc-rgb.dds"},{format:"ATC (RGBA, Explicit)",src:"shannon-atc-rgba-explicit.dds"},{format:"ATC (RGBA, Interpolated)",src:"shannon-atc-rgba-interpolated.dds"}]},{formatName:"PVR: ASTC (WEBGL_compressed_texture_astc)",images:[{format:"ASTC 4x4",src:"shannon-astc-4x4.pvr"},{format:"ASTC 5x4",src:"shannon-astc-5x4.pvr"},{format:"ASTC 5x5",src:"shannon-astc-5x5.pvr"},{format:"ASTC 6x5",src:"shannon-astc-6x5.pvr"},{format:"ASTC 6x6",src:"shannon-astc-6x6.pvr"},{format:"ASTC 8x5",src:"shannon-astc-8x5.pvr"},{format:"ASTC 8x6",src:"shannon-astc-8x6.pvr"},{format:"ASTC 8x8",src:"shannon-astc-8x8.pvr"},{format:"ASTC 10x5",src:"shannon-astc-10x5.pvr"},{format:"ASTC 10x6",src:"shannon-astc-10x6.pvr"},{format:"ASTC 10x8",src:"shannon-astc-10x8.pvr"},{format:"ASTC 10x10",src:"shannon-astc-10x10.pvr"},{format:"ASTC 12x10",src:"shannon-astc-12x10.pvr"},{format:"ASTC 12x12",src:"shannon-astc-12x12.pvr"}]},{formatName:"PVR: ASTC (sRGB) (WEBGL_compressed_texture_astc)",images:[{format:"ASTC (sRGB) 4x4",src:"shannon-astc-srgb-4x4.pvr"},{format:"ASTC (sRGB) 5x4",src:"shannon-astc-srgb-5x4.pvr"},{format:"ASTC (sRGB) 5x5",src:"shannon-astc-srgb-5x5.pvr"},{format:"ASTC (sRGB) 6x5",src:"shannon-astc-srgb-6x5.pvr"},{format:"ASTC (sRGB) 6x6",src:"shannon-astc-srgb-6x6.pvr"},{format:"ASTC (sRGB) 8x5",src:"shannon-astc-srgb-8x5.pvr"},{format:"ASTC (sRGB) 8x6",src:"shannon-astc-srgb-8x6.pvr"},{format:"ASTC (sRGB) 8x8",src:"shannon-astc-srgb-8x8.pvr"},{format:"ASTC (sRGB) 10x5",src:"shannon-astc-srgb-10x5.pvr"},{format:"ASTC (sRGB) 10x6",src:"shannon-astc-srgb-10x6.pvr"},{format:"ASTC (sRGB) 10x8",src:"shannon-astc-srgb-10x8.pvr"},{format:"ASTC (sRGB) 10x10",src:"shannon-astc-srgb-10x10.pvr"},{format:"ASTC (sRGB) 12x10",src:"shannon-astc-srgb-12x10.pvr"},{format:"ASTC (sRGB) 12x12",src:"shannon-astc-srgb-12x12.pvr"}]},{formatName:"PVR: ETC1 (WEBGL_compressed_texture_etc1)",images:[{format:"ETC1",src:"shannon-etc1.pvr"}]},{formatName:"Crunch",description:"Advanced DXTn texture compression library.",link:"https://github.com/BinomialLLC/crunch",codeSample:"load(url, CrunchLoader)",images:[{format:"DXT1 (Crunch)",src:"shannon-dxt1.crn"},{format:"DXT5 (Crunch)",src:"shannon-dxt5.crn"}]}];var _=r(16065),u=r(4957),l=r(45293),f=r(50493),d=r(97900),S=r(92133),E=r(88595),h=r(30600),R=r(53133);const p={dataType:null,batchType:null,id:"crunch",name:"Crunch",module:"textures",version:r(94143).x,worker:!0,extensions:["crn"],mimeTypes:["image/crn","image/x-crn","application/octet-stream"],binary:!0,options:{crunch:{libraryPath:"libs/"}}};var m=r(85873),A=r(40724),C=r(37448),T=r(96763);const{COMPRESSED_RGB_S3TC_DXT1_EXT:g,COMPRESSED_RGBA_S3TC_DXT1_EXT:b,COMPRESSED_RGBA_S3TC_DXT3_EXT:x,COMPRESSED_RGBA_S3TC_DXT5_EXT:P,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:y,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:D,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:w,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:B,COMPRESSED_RGB_ATC_WEBGL:M,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:G,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:v,COMPRESSED_RGB_ETC1_WEBGL:O,COMPRESSED_RGBA_ASTC_4X4_KHR:H,COMPRESSED_RGBA_ASTC_5X4_KHR:L,COMPRESSED_RGBA_ASTC_5X5_KHR:X,COMPRESSED_RGBA_ASTC_6X5_KHR:I,COMPRESSED_RGBA_ASTC_6X6_KHR:U,COMPRESSED_RGBA_ASTC_8X5_KHR:k,COMPRESSED_RGBA_ASTC_8X6_KHR:N,COMPRESSED_RGBA_ASTC_8X8_KHR:K,COMPRESSED_RGBA_ASTC_10X5_KHR:F,COMPRESSED_RGBA_ASTC_10X6_KHR:j,COMPRESSED_RGBA_ASTC_10X8_KHR:$,COMPRESSED_RGBA_ASTC_10X10_KHR:W,COMPRESSED_RGBA_ASTC_12X10_KHR:V,COMPRESSED_RGBA_ASTC_12X12_KHR:z,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:Q,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:q,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:J,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:Z,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:Y,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:ee,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:te,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:re,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:ne,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:se,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:oe,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:ae,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:ie,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:ce,COMPRESSED_R11_EAC:_e,COMPRESSED_SIGNED:ue,COMPRESSED_RG11_EAC:le,COMPRESSED_SIGNED_RG11_EAC:fe,COMPRESSED_RGB8_ETC2:de,COMPRESSED_RGBA8_ETC2_EAC:Se,COMPRESSED_SRGB8_ETC2:Ee,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:he,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:Re,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:pe,COMPRESSED_RED_RGTC1_EXT:me,COMPRESSED_SIGNED_RED_RGTC1_EXT:Ae,COMPRESSED_RED_GREEN_RGTC2_EXT:Ce,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:Te,COMPRESSED_SRGB_S3TC_DXT1_EXT:ge,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:be,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:xe,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:Pe}=S.b,ye=_.Ay.button.withConfig({displayName:"compressed-texture__TextureButton",componentId:"sc-ab2qyi-0"})(["height:256px;width:256px;border:1px solid black;margin:1em;position:relative;margin-left:0;"]),De=_.Ay.h1.withConfig({displayName:"compressed-texture__ImageFormatHeader",componentId:"sc-ab2qyi-1"})(["position:absolute;top:0;left:0;margin:0;color:white;font-size:16px;"]),we=_.Ay.h1.withConfig({displayName:"compressed-texture__ErrorFormatHeader",componentId:"sc-ab2qyi-2"})(["color:red;font-size:16px;"]),Be=_.Ay.ul.withConfig({displayName:"compressed-texture__TextureInfo",componentId:"sc-ab2qyi-3"})(["position:absolute;transition:opacity 0.2s;top:20px;display:flex;flex-flow:column nowrap;align-items:flex-start;padding:10px;opacity:0.8;background-color:black;color:white;border-radius:5px;min-width:200px;list-style:none;font-size:14px;"]);(0,u.mk)([E.E,h.Y,A.$]);function Me(e){const t=new Float32Array([-1,-1,-1,1,1,-1,1,1]),r=e.createBuffer({data:t});return new C.K(e,{vs:"#version 300 es\nprecision highp float;\n\nin vec2 position;\n\nout vec2 uv;\n\nvoid main() {\n  gl_Position = vec4(position, 0.0, 1.0);\n  uv = vec2(position.x * .5, -position.y * .5) + vec2(.5, .5);\n}\n",fs:"#version 300 es\nprecision highp float;\n\nuniform sampler2D uTexture;\n\nin vec2 uv;\n\nout vec4 fragColor;\n\nvoid main() {\n  fragColor = vec4(texture(uTexture, uv).rgb, 1.);\n}\n",topology:"triangle-strip",vertexCount:4,bufferLayout:[{name:"position",format:"float32x2"}],attributes:{position:r}})}class Ge extends o.PureComponent{static defaultProps={device:null,canvas:null,image:null,model:null};constructor(e){super(e);const t=this.getLoadOptions();this.state={loadOptions:t,textureError:null,showStats:!1,stats:[],dataUrl:null}}async componentDidMount(){const e=await this.getTextureDataUrl(this.props.device);this.setState({dataUrl:e})}getExtension(e){const{device:t}=this.props,r=["","WEBKIT_","MOZ_"];let n=null;for(const s in r)if(n=Boolean(t.getExtension(r[s]+e)),n)break;return n}getLoadOptions(){return{basis:{format:(0,R.J)()}}}async getTextureDataUrl(e){const{loadOptions:t}=this.state,{canvas:r,model:n,image:s}=this.props;try{const{arrayBuffer:r,length:o,src:a,useBasis:i}=await this.getLoadedData(s),c={...t};i&&(c["compressed-texture"]={useBasis:!0});const _=await(0,l.M)(a,[h.Y,p,E.E,A.$]),u=_&&await(0,f.H)(r,_,c);switch(this.addStat("File Size",Math.floor(o/1024),"Kb"),_?.id){case"crunch":case"compressed-texture":this.renderEmptyTexture(e,n),this.renderCompressedTexture(e,n,u,_.name,a);break;case"image":this.renderEmptyTexture(e,n),this.renderImageTexture(e,n,u);break;case"basis":const t=u[0];this.renderEmptyTexture(e,n),this.renderCompressedTexture(e,n,t,_.name,a);break;default:throw new Error("Unknown texture loader")}}catch(o){T.error(o),this.renderEmptyTexture(e,n),this.setState({textureError:o.message})}return r.toDataURL()}async getLoadedData(e){let t,r=0,n="",s=!1;if(e instanceof File)t=await e.arrayBuffer(),r=e.size,n=e.name;else{n=`https://raw.githubusercontent.com/visgl/loaders.gl/master/modules/textures/test/data/${e.src}`;const o=await(0,d.t2)(n);t=await o.arrayBuffer(),r=t.byteLength,s=e.useBasis||!1}return{arrayBuffer:t,length:r,src:n,useBasis:s}}createCompressedTexture(e,t){return e.createTexture({data:t,compressed:!0,mipmaps:!1})}renderEmptyTexture(e,t){const r=new Uint8Array([68,0,0,255]),n=e.createTexture({width:1,height:1,data:r,mipmaps:!0}),s=e.beginRenderPass();return t.setBindings({uTexture:n}),t.draw(s),s.end(),n}renderImageTexture(e,t,r){const n=e.createTexture({data:r}),s=e.beginRenderPass();t.setBindings({uTexture:n}),t.draw(s),s.end();const o=new Date,a=Date.now()-o.getMilliseconds();this.addStat("Upload time",`${Math.floor(a)} ms`),this.addStat("Dimensions",`${r.width} x ${r.height}`),this.addStat("Size in memory (Lvl 0)",Math.floor(r.width*r.height*4/1024),"Kb")}renderCompressedTexture(e,t,r,n,s){if(!r||!r.length)throw new Error(`${n} loader doesn't support texture ${s} format`);const{format:o,width:a,height:i,levelSize:c}=r[0];if(!this.isFormatSupported(o))throw new Error(`Texture format ${o} not supported by this GPU`);const _=new Date,u=this.createCompressedTexture(e,r),l=e.beginRenderPass();t.setBindings({uTexture:u}),t.draw(l),l.end();const f=Date.now()-_.getMilliseconds();this.addStat("Upload time",`${Math.floor(f)} ms`),this.addStat("Dimensions",`${a} x ${i}`),c&&this.addStat("Size in memory (Lvl 0)",Math.floor(c/1024),"Kb")}isFormatSupported(e){if("number"!=typeof e)throw new Error("Invalid internal format of compressed texture");const t=(0,m.E)(this.props.gl);switch(e){case g:case x:case P:case b:return t.has("dxt");case y:case D:case w:case B:return t.has("pvrtc");case M:case G:case v:return t.has("atc");case O:return t.has("etc1");case H:case L:case X:case I:case U:case k:case N:case K:case F:case j:case $:case W:case V:case z:case Q:case q:case J:case Z:case Y:case ee:case te:case re:case ne:case se:case oe:case ae:case ie:case ce:return t.has("astc");case _e:case ue:case le:case fe:case de:case Se:case Ee:case he:case Re:case pe:return t.has("etc2");case me:case Ae:case Ce:case Te:return t.has("rgtc");case ge:case be:case xe:case Pe:return t.has("dxt-srgb");default:return!1}}addStat(e,t,r){void 0===r&&(r="");const n=[...this.state.stats,{name:e,value:t,units:r}];this.setState({stats:n})}renderStats(){const{stats:e}=this.state;if(!e.length)return null;const t=[];for(let r=0;r<e.length;r++)t.push((0,n.jsx)("li",{children:`${e[r].name}: ${e[r].value}${e[r].units}`},r));return(0,n.jsx)(Be,{style:{opacity:this.state.showStats?.8:0},children:t})}render(){const{dataUrl:e,textureError:t}=this.state,{format:r,name:s}=this.props.image;return e?(0,n.jsxs)(ye,{style:{backgroundImage:`url(${e})`},onMouseEnter:()=>this.setState({showStats:!0}),onMouseLeave:()=>this.setState({showStats:!1}),children:[t?(0,n.jsx)(we,{style:{color:"red"},children:t}):(0,n.jsx)(De,{children:r||s}),this.renderStats()]}):null}}const ve=_.Ay.div.withConfig({displayName:"textures-uploader__Container",componentId:"sc-xm25t2-0"})(["display:flex;flex-flow:column nowrap;"]),Oe=_.Ay.div.withConfig({displayName:"textures-uploader__TextureFrame",componentId:"sc-xm25t2-1"})(["display:flex;width:256px;height:256px;align-items:center;justify-content:center;border:1px dashed black;"]),He=_.Ay.div.withConfig({displayName:"textures-uploader__ImageContainer",componentId:"sc-xm25t2-2"})(["display:flex;flex-flow:column nowrap;align-items:center;width:270px;"]);class Le extends o.PureComponent{static defaultProps={canvas:null,model:null};constructor(e){super(e),this.state={uploadedImage:null},this.handleLoadFile=this.handleLoadFile.bind(this),this.handleCleanTexture=this.handleCleanTexture.bind(this)}handleLoadFile(e){const t=e.dataTransfer.files[0];this.setState({uploadedImage:t}),e.preventDefault()}handleCleanTexture(){this.setState({uploadedImage:null})}render(){const{canvas:e,device:t,model:r}=this.props,{uploadedImage:s,files:o}=this.state;return(0,n.jsxs)("div",{children:[!s&&(0,n.jsxs)(ve,{children:[(0,n.jsx)(Oe,{onDrop:this.handleLoadFile,onDragOver:e=>e.preventDefault(),children:"Drag&Drop texture"}),(0,n.jsx)("input",{style:{display:"none"},type:"file",id:"fileInput",files:o})]}),(0,n.jsxs)(He,{children:[s&&(0,n.jsx)(Ge,{image:s,canvas:e,device:t,model:r}),s&&(0,n.jsx)("button",{onClick:this.handleCleanTexture,children:"Clean"})]})]})}}class Xe extends o.PureComponent{constructor(e){super(e),this.state={canvas:null,device:null,model:null}}async componentDidMount(){a.a.registerDevices([i.e]);const e=document.createElement("canvas");e.width=256,e.height=256;const t=await a.a.createDevice({canvas:e,type:"webgl"}),r=Me(t);this.setState({canvas:e,device:t,model:r})}render(){const{device:e,canvas:t,model:r}=this.state;return e?(0,n.jsxs)("div",{style:{margin:30},children:[(0,n.jsx)(Ke,{}),e&&(0,n.jsx)(Le,{canvas:t,device:e,model:r}),e&&(0,n.jsx)(Ie,{canvas:t,device:e,model:r})]}):(0,n.jsx)("div",{})}}function Ie(e){const{device:t,canvas:r,model:s}=e;return c.map(((e,o)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(Ue,{imagesData:e}),(0,n.jsx)(Ne,{device:t,canvas:r,model:s,images:e.images}),(0,n.jsx)(ke,{imagesData:e})]},o)))}function Ue(e){const{formatName:t,link:r}=e.imagesData;return(0,n.jsx)("div",{style:{display:"flex",flexFlow:"column"},children:(0,n.jsx)("h2",{style:{borderBottom:"1px solid black",marginBottom:0},children:r?(0,n.jsx)("a",{style:{textDecoration:"none"},href:r,children:t}):t})})}function ke(e){const{description:t,codeSample:r,availability:s}=e.imagesData;return(0,n.jsxs)("div",{children:[t&&(0,n.jsxs)("p",{children:[(0,n.jsx)("b",{children:"Description: "}),t]}),s&&(0,n.jsxs)("p",{children:[(0,n.jsx)("b",{children:"Availability: "}),s]}),r&&(0,n.jsx)("div",{children:(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:r})})})]})}function Ne(e){const{device:t,canvas:r,model:s,images:o}=e;return o.map(((e,o)=>(0,n.jsx)(Ge,{image:e,device:t,canvas:r,model:s},o)))}function Ke(){return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Texture Loaders"}),(0,n.jsxs)("p",{children:["This page loads every \xa0",(0,n.jsx)("a",{href:"https://loaders.gl/modules/textures/docs/using-compressed-textures",children:"texture format"})," ","\xa0 supported by loaders.gl and attempts to display them in WebGL using the"," ",(0,n.jsx)("a",{href:"https://luma.gl",children:(0,n.jsx)("b",{children:"luma.gl"})})," ",(0,n.jsx)("code",{children:"Texture2D"})," class."]}),(0,n.jsxs)("p",{children:["The ",(0,n.jsx)("code",{children:"@loaders.gl/textures"})," \xa0 module provides loaders for compressed textures stored in ",(0,n.jsx)("b",{children:"KTX"}),", ",(0,n.jsx)("b",{children:"DDS"})," and ",(0,n.jsx)("b",{children:"PVR"})," container files, plus ",(0,n.jsx)("b",{children:"CRN"})," (Crunch), and ",(0,n.jsx)("b",{children:"Basis"})," supercompressed textures."]}),(0,n.jsx)("p",{children:"This page also shows which compressed texture types your device and browser supports."}),(0,n.jsx)("p",{children:(0,n.jsx)("i",{children:"Note that multiple textures on this page will fail to display due to lack of GPU support (reported via WebGL extensions). For example: DXT formats are usually only supported on Desktops while PVRTC is typically only available on mobile devices with PowerVR chipsets."})}),(0,n.jsx)("p",{children:(0,n.jsxs)("i",{children:["Inspired by toji's awesome"," ",(0,n.jsx)("a",{href:"http://toji.github.io/texture-tester",children:"texture-tester"})]})})]})}const Fe={},je="Textures",$e={id:"textures",title:"Textures",description:"",source:"@site/src/examples/textures.mdx",sourceDirName:".",slug:"/textures",permalink:"/examples/textures",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"examplesSidebar",previous:{title:"OBJ",permalink:"/examples/pointclouds/obj"}},We={},Ve=[];function ze(e){const t={h1:"h1",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"textures",children:"Textures"}),"\n","\n",(0,n.jsx)("div",{style:{height:"calc(100vh - var(--ifm-navbar-height))",overflowY:"scroll"},children:(0,n.jsx)(Xe,{})})]})}function Qe(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(ze,{...e})}):ze(e)}},43853:(e,t,r)=>{r.d(t,{LF:()=>h});var n=r(48287).Buffer;new Uint8Array([0]);const s=[171,75,84,88,32,50,48,187,13,10,26,10];var o,a,i,c,_,u,l,f;!function(e){e[e.NONE=0]="NONE",e[e.BASISLZ=1]="BASISLZ",e[e.ZSTD=2]="ZSTD",e[e.ZLIB=3]="ZLIB"}(o||(o={})),function(e){e[e.BASICFORMAT=0]="BASICFORMAT"}(a||(a={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ETC1S=163]="ETC1S",e[e.UASTC=166]="UASTC"}(i||(i={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SRGB=1]="SRGB"}(c||(c={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LINEAR=1]="LINEAR",e[e.SRGB=2]="SRGB",e[e.ITU=3]="ITU",e[e.NTSC=4]="NTSC",e[e.SLOG=5]="SLOG",e[e.SLOG2=6]="SLOG2"}(_||(_={})),function(e){e[e.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",e[e.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(u||(u={})),function(e){e[e.RGB=0]="RGB",e[e.RRR=3]="RRR",e[e.GGG=4]="GGG",e[e.AAA=15]="AAA"}(l||(l={})),function(e){e[e.RGB=0]="RGB",e[e.RGBA=3]="RGBA",e[e.RRR=4]="RRR",e[e.RRRG=5]="RRRG"}(f||(f={}));class d{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=o.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:a.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:i.UNSPECIFIED,colorPrimaries:c.SRGB,transferFunction:c.SRGB,flags:u.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null}}class S{constructor(e,t,r,n){this._dataView=new DataView(e.buffer,e.byteOffset+t,r),this._littleEndian=n,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+2**32*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_skip(e){return this._offset+=e,this}_scan(e,t=0){const r=this._offset;let n=0;for(;this._dataView.getUint8(this._offset)!==t&&n<e;)n++,this._offset++;return n<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,n)}}function E(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):n.from(e).toString("utf8")}function h(e){const t=new Uint8Array(e.buffer,e.byteOffset,s.length);if(t[0]!==s[0]||t[1]!==s[1]||t[2]!==s[2]||t[3]!==s[3]||t[4]!==s[4]||t[5]!==s[5]||t[6]!==s[6]||t[7]!==s[7]||t[8]!==s[8]||t[9]!==s[9]||t[10]!==s[10]||t[11]!==s[11])throw new Error("Missing KTX 2.0 identifier.");const r=new d,n=17*Uint32Array.BYTES_PER_ELEMENT,o=new S(e,s.length,n,!0);r.vkFormat=o._nextUint32(),r.typeSize=o._nextUint32(),r.pixelWidth=o._nextUint32(),r.pixelHeight=o._nextUint32(),r.pixelDepth=o._nextUint32(),r.layerCount=o._nextUint32(),r.faceCount=o._nextUint32();const a=o._nextUint32();r.supercompressionScheme=o._nextUint32();const i=o._nextUint32(),c=o._nextUint32(),_=o._nextUint32(),u=o._nextUint32(),l=o._nextUint64(),f=o._nextUint64(),h=new S(e,s.length+n,3*a*8,!0);for(let s=0;s<a;s++)r.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+h._nextUint64(),h._nextUint64()),uncompressedByteLength:h._nextUint64()});const R=new S(e,i,c,!0),p={vendorId:R._skip(4)._nextUint16(),descriptorType:R._nextUint16(),versionNumber:R._nextUint16(),descriptorBlockSize:R._nextUint16(),colorModel:R._nextUint8(),colorPrimaries:R._nextUint8(),transferFunction:R._nextUint8(),flags:R._nextUint8(),texelBlockDimension:{x:R._nextUint8()+1,y:R._nextUint8()+1,z:R._nextUint8()+1,w:R._nextUint8()+1},bytesPlane:[R._nextUint8(),R._nextUint8(),R._nextUint8(),R._nextUint8(),R._nextUint8(),R._nextUint8(),R._nextUint8(),R._nextUint8()],samples:[]},m=(p.descriptorBlockSize/4-6)/4;for(let s=0;s<m;s++)p.samples[s]={bitOffset:R._nextUint16(),bitLength:R._nextUint8(),channelID:R._nextUint8(),samplePosition:[R._nextUint8(),R._nextUint8(),R._nextUint8(),R._nextUint8()],sampleLower:R._nextUint32(),sampleUpper:R._nextUint32()};r.dataFormatDescriptor.length=0,r.dataFormatDescriptor.push(p);const A=new S(e,_,u,!0);for(;A._offset<u;){const e=A._nextUint32(),t=A._scan(e),n=E(t),s=A._scan(e-t.byteLength);r.keyValue[n]=n.match(/^ktx/i)?E(s):s,e%4&&A._skip(4-e%4)}if(f<=0)return r;const C=new S(e,l,f,!0),T=C._nextUint16(),g=C._nextUint16(),b=C._nextUint32(),x=C._nextUint32(),P=C._nextUint32(),y=C._nextUint32(),D=[];for(let s=0;s<a;s++)D.push({imageFlags:C._nextUint32(),rgbSliceByteOffset:C._nextUint32(),rgbSliceByteLength:C._nextUint32(),alphaSliceByteOffset:C._nextUint32(),alphaSliceByteLength:C._nextUint32()});const w=l+C._offset,B=w+b,M=B+x,G=M+P,v=new Uint8Array(e.buffer,e.byteOffset+w,b),O=new Uint8Array(e.buffer,e.byteOffset+B,x),H=new Uint8Array(e.buffer,e.byteOffset+M,P),L=new Uint8Array(e.buffer,e.byteOffset+G,y);return r.globalData={endpointCount:T,selectorCount:g,imageDescs:D,endpointsData:v,selectorsData:O,tablesData:H,extendedData:L},r}},28453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>i});var n=r(96540);const s={},o=n.createContext(s);function a(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);