"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[9289],{1335:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>c});var t=i(62540),n=i(43023);const d={},o="CesiumIonLoader",r={id:"modules/3d-tiles/api-reference/cesium-ion-loader",title:"CesiumIonLoader",description:"Extends from Tiles3DLoader, inherits all the options and share the same resolved Tileset and Tile format.",source:"@site/../docs/modules/3d-tiles/api-reference/cesium-ion-loader.md",sourceDirName:"modules/3d-tiles/api-reference",slug:"/modules/3d-tiles/api-reference/cesium-ion-loader",permalink:"/docs/modules/3d-tiles/api-reference/cesium-ion-loader",draft:!1,unlisted:!1,editUrl:"https://github.com/visgl/loaders.gl/tree/master/website/../docs/modules/3d-tiles/api-reference/cesium-ion-loader.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Tiles3DLoader",permalink:"/docs/modules/3d-tiles/api-reference/tiles-3d-loader"},next:{title:"ArrowLoader",permalink:"/docs/modules/arrow/api-reference/arrow-loader"}},l={},c=[{value:"Usage",id:"usage",level:2},{value:"Options",id:"options",level:2},{value:"Data formats",id:"data-formats",level:2}];function a(e){const s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"cesiumionloader",children:"CesiumIonLoader"})}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["Extends from ",(0,t.jsx)(s.code,{children:"Tiles3DLoader"}),", inherits all the options and share the same resolved ",(0,t.jsx)(s.code,{children:"Tileset"})," and ",(0,t.jsx)(s.code,{children:"Tile"})," format.\nAlong with the support of resolving tileset metadata and authorization from Cesium ion server."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["Parse ",(0,t.jsx)(s.a,{href:"https://github.com/AnalyticalGraphicsInc/3d-tiles",children:"3D tile"})," fetched from Cesium ion server."]}),"\n",(0,t.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(s.p,{children:"Load a tileset file from Cesium ion server."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"import {load} from '@loaders.gl/core';\nimport {CesiumIonLoader} from '@loaders.gl/3d-tiles';\nimport {WebMercatorViewport} from '@deck.gl/core';\nconst tilesetUrl = 'https://assets.ion.cesium.com/69380/tileset.json';\nconst ION_ACCESS_TOKEN = ''; // your own ion access token\n\nconst options = {ion: {loadGLTF: true}};\n// resolve the authorizations used for requesting tiles from Cesium ion server\nconst metadata = CesiumIonLoader.preload(tilesetUrl, {accessToken: ION_ACCESS_TOKEN});\nconsole.log(metadata);\n\nconst tilesetJson = await load(tilesetUrl, CesiumIonLoader, {...options, ...metadata});\n\n// If your tileset doesn't have .json extension, set options['cesium-ion'].isTileset to true\nconst tilesetJson = await load(tilesetUrl, CesiumIonLoader, {\n  ...options,\n  ...metadata,\n  isTileset: true\n});\n\nconst viewport = new WebMercatorViewport({latitude, longitude, zoom});\ntileset3d.selectTiles(viewport);\n\n// visible tiles\nconst visibleTiles = tileset3d.tiles.filter((tile) => tile.selected);\n// Note that visibleTiles will likely not immediately include all tiles\n// tiles will keep loading and file `onTileLoad` callbacks\n"})}),"\n",(0,t.jsx)(s.h2,{id:"options",children:"Options"}),"\n",(0,t.jsxs)(s.p,{children:["Inherit all the options from ",(0,t.jsx)(s.code,{children:"Tiles3DLoader"}),"."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"['cesium-ion'].isTileset"})}),(0,t.jsxs)(s.td,{children:["Bool or ",(0,t.jsx)(s.code,{children:"auto"})]}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"auto"})}),(0,t.jsxs)(s.td,{children:["Whether to load a ",(0,t.jsx)(s.code,{children:"Tileset"})," file. If ",(0,t.jsx)(s.code,{children:"auto"}),", will infer based on url extension."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"['cesium-ion'].headers"})}),(0,t.jsx)(s.td,{children:"Object"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"null"})}),(0,t.jsx)(s.td,{children:"Used to load data from server"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"['cesium-ion'].tileset"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"Object"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"null"})}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"Tileset"})," object loaded by ",(0,t.jsx)(s.code,{children:"Tiles3DLoader"})," or follow the data format specified in ",(0,t.jsx)(s.a,{href:"/docs/modules/3d-tiles/api-reference/tiles-3d-loader#tileset-object",children:"Tileset Object"}),". It is required when loading i3s geometry content"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"['cesium-ion'].tile"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"Object"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"null"})}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"Tile"})," object loaded by ",(0,t.jsx)(s.code,{children:"Tiles3DLoader"})," or follow the data format ",(0,t.jsx)(s.a,{href:"/docs/modules/3d-tiles/api-reference/tiles-3d-loader#tile-object",children:"Tile Object"}),". It is required when loading i3s geometry content"]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"Point cloud tie options"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"['cesium-ion'].decodeQuantizedPosition"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"Boolean"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"false"})}),(0,t.jsx)(s.td,{children:"Pre-decode quantized position on CPU"})]})})]}),"\n",(0,t.jsx)(s.p,{children:"For i3dm and b3dm tiles:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"['cesium-ion'].loadGLTF"})}),(0,t.jsx)(s.td,{children:"Boolean"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"true"})}),(0,t.jsx)(s.td,{children:"Fetch and parse any linked glTF files"})]})})]}),"\n",(0,t.jsxs)(s.p,{children:["If ",(0,t.jsx)(s.code,{children:"options['cesium-ion'].loadGLTF"})," is ",(0,t.jsx)(s.code,{children:"true"}),", GLTF loading can be controlled by providing ",(0,t.jsxs)(s.a,{href:"/docs/modules/gltf/api-reference/gltf-loader",children:[(0,t.jsx)(s.code,{children:"GLTFLoader"})," options"]})," via the ",(0,t.jsx)(s.code,{children:"options.gltf"})," sub options."]}),"\n",(0,t.jsx)(s.h2,{id:"data-formats",children:"Data formats"}),"\n",(0,t.jsxs)(s.p,{children:["The same as ",(0,t.jsx)(s.code,{children:"Tiles3DLoader"}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},43023:(e,s,i)=>{i.d(s,{R:()=>o,x:()=>r});var t=i(63696);const n={},d=t.createContext(n);function o(e){const s=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),t.createElement(d.Provider,{value:s},e.children)}}}]);