"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[4051],{19977:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>l});var s=n(62540),i=n(43023);const t={},d="Upgrade Guide",a={id:"arrowjs/upgrade-guide",title:"Upgrade Guide",description:"Unfortunately for JavaScript users, Apache Arrow JS does not publish detailed ugrade guides notes beyond the common Apache Arrow release notes.",source:"@site/../docs/arrowjs/upgrade-guide.md",sourceDirName:"arrowjs",slug:"/arrowjs/upgrade-guide",permalink:"/docs/arrowjs/upgrade-guide",draft:!1,unlisted:!1,editUrl:"https://github.com/visgl/loaders.gl/tree/master/website/../docs/arrowjs/upgrade-guide.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"What's New",permalink:"/docs/arrowjs/whats-new"},next:{title:"Contributing",permalink:"/docs/arrowjs/contributing"}},o={},l=[{value:"Upgrading to v16.0",id:"upgrading-to-v160",level:2},{value:"Upgrading to v15.0",id:"upgrading-to-v150",level:2},{value:"Upgrading to v14.0",id:"upgrading-to-v140",level:2},{value:"Upgrading to v13.0",id:"upgrading-to-v130",level:2},{value:"Upgrading to v12.0",id:"upgrading-to-v120",level:2},{value:"Upgrading to v11.0",id:"upgrading-to-v110",level:2},{value:"Upgrading to v10.0",id:"upgrading-to-v100",level:2},{value:"Upgrading to v7.0 / v8.0 / v9.0",id:"upgrading-to-v70--v80--v90",level:2},{value:"Upgrading to v6.0 and earlier",id:"upgrading-to-v60-and-earlier",level:2}];function c(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"upgrade-guide",children:"Upgrade Guide"})}),"\n",(0,s.jsxs)(r.p,{children:["Unfortunately for JavaScript users, Apache Arrow JS does not publish detailed ugrade guides notes beyond the common ",(0,s.jsx)(r.a,{href:"https://arrow.apache.org/release/",children:"Apache Arrow release notes"}),"."]}),"\n",(0,s.jsx)(r.p,{children:"Also Apache Arrow JS follows a common cross-language versioning number scheme which leads to frequent major release bumps, that confusingly do not contain any significant JavaScript changes (sometimes a major version bump has no JavaScript changes at all)."}),"\n",(0,s.jsx)(r.p,{children:"The biggest changes were made in Apache Arrow JS Version 9.0 (based on feedback from loaders.gl users)."}),"\n",(0,s.jsx)(r.h2,{id:"upgrading-to-v160",children:"Upgrading to v16.0"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"No significant changes in Apache Arrow JS"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"upgrading-to-v150",children:"Upgrading to v15.0"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"No significant changes in Apache Arrow JS"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"upgrading-to-v140",children:"Upgrading to v14.0"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"No significant changes in Apache Arrow JS"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"upgrading-to-v130",children:"Upgrading to v13.0"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:'Under the hood, Apache Arrow JS removed "big int" fallback handling (big ints are now supported by all current browsers and Node.js versions).'}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"upgrading-to-v120",children:"Upgrading to v12.0"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Bug found: Can break table reads in rare cases, e.g when dicts have big int keys."}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"upgrading-to-v110",children:"Upgrading to v11.0"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"No significant changes in Apache Arrow JS"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"upgrading-to-v100",children:"Upgrading to v10.0"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"No significant changes in Apache Arrow JS"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"upgrading-to-v70--v80--v90",children:"Upgrading to v7.0 / v8.0 / v9.0"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["In case it is helpful, changes made to loaders.gl can be found in this ",(0,s.jsx)(r.a,{href:"https://github.com/visgl/loaders.gl/pull/2276/files",children:"PR"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:'These releases made a series of breaking changes to Apache Arrow JS to transform it into a lean, tree-shakeable "core" library.'}),"\n",(0,s.jsxs)(r.p,{children:["The good news is that Apache Arrow v9.0 resolves a big concern around the size of the ArrowJS library. The size issue was creating resistance against full-scale Arrow JS adoption in some code bases. For instance, in loaders.gl, even trivial usage of the loaders.gl ",(0,s.jsx)(r.code,{children:"ArrowLoader"})," would lead to ~250KB of Apache Arrow dependencies being bundled before v9.0."]}),"\n",(0,s.jsx)(r.p,{children:"The downside is that upgrading through Arrow JS v7.0-v9.0 tends to require a big effort for most older applications. This is made more difficult since Apache Arrow does not have good release notes. The following are observations from upgrading applications:"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Removed core classes"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Removed Feature"}),(0,s.jsx)(r.th,{children:"Alternative"}),(0,s.jsx)(r.th,{children:"Comment"})]})}),(0,s.jsx)(r.tbody,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"Column"})," class"]}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"Vector"})," class"]}),(0,s.jsxs)(r.td,{children:["The ",(0,s.jsx)(r.code,{children:"Vector"})," class now supports chunking, removing the need for a ",(0,s.jsx)(r.code,{children:"Column"})," class."]})]})})]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Removed static constructors"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Removed Feature"}),(0,s.jsx)(r.th,{children:"Alternative"}),(0,s.jsx)(r.th,{children:"Comment"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"Data"})," static factory methods"]}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"makeData()"})," function"]}),(0,s.jsx)(r.td,{children:"Referencing the Data class doesn't automatically pull in static constructor code."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"Column"})," static factory methods"]}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"makeVector()"})," function"]}),(0,s.jsx)(r.td,{})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"Table"})," static factory methods"]}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"makeTable()"})," function"]}),(0,s.jsx)(r.td,{})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"Schema"})," static factory methods"]}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"makeSchema()"})," function"]}),(0,s.jsx)(r.td,{})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"DataFrame removal"})," - A number of pre-9.0 features didn\u2019t really fit into Arrow core functionality. These features were really a library on top of Arrow, and in the trade-off of keeping the Arrow JS core lean, they were removed."]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Removed Feature"}),(0,s.jsx)(r.th,{children:"Alternative"}),(0,s.jsx)(r.th,{children:"Comment"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"DataFrame"})}),(0,s.jsx)(r.td,{children:"N/A"}),(0,s.jsx)(r.td,{children:"See below"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"FilteredDataFrame"})}),(0,s.jsx)(r.td,{children:"N/A"}),(0,s.jsx)(r.td,{children:"See below"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Predicates"}),(0,s.jsx)(r.td,{children:"N/A"}),(0,s.jsx)(r.td,{children:"See below"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"Table.filter"})}),(0,s.jsx)(r.td,{children:"N/A"}),(0,s.jsx)(r.td,{children:"See below"})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:["While there are no alternatives for the removed features inside Apache Arrow JS v9.0+, applications can implement similar logic on top of Arrow JS. There are also high-quality independent libraries such as ",(0,s.jsx)(r.a,{href:"https://github.com/uwdata/arquero",children:"Arquero"})," that provide support for filtering and processing of Arrow JS tables."]}),"\n",(0,s.jsxs)(r.p,{children:["Finally, in case it is helpful, changes made to loaders.gl can be found in this ",(0,s.jsx)(r.a,{href:"https://github.com/visgl/loaders.gl/pull/1931/files",children:"PR"})]}),"\n",(0,s.jsx)(r.h2,{id:"upgrading-to-v60-and-earlier",children:"Upgrading to v6.0 and earlier"}),"\n",(0,s.jsx)(r.p,{children:"Unfortunately we don't have any notes for these releases."})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},43023:(e,r,n)=>{n.d(r,{R:()=>d,x:()=>a});var s=n(63696);const i={},t=s.createContext(i);function d(e){const r=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(t.Provider,{value:r},e.children)}}}]);