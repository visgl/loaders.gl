"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[8742],{98410:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var r=i(85893),s=i(11151);const t={},l="WKB - Well-Known Binary",o={id:"modules/wkt/formats/wkb",title:"WKB - Well-Known Binary",description:"ogc-logo",source:"@site/../docs/modules/wkt/formats/wkb.md",sourceDirName:"modules/wkt/formats",slug:"/modules/wkt/formats/wkb",permalink:"/docs/modules/wkt/formats/wkb",draft:!1,unlisted:!1,editUrl:"https://github.com/visgl/loaders.gl/tree/master/website/../docs/modules/wkt/formats/wkb.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"WKT - Well-Known Text",permalink:"/docs/modules/wkt/formats/wkt"},next:{title:"WKT-CRS - Well-Known Text for Coordinate Reference Systems",permalink:"/docs/modules/wkt/formats/wkt-crs"}},d={},c=[{value:"Overview",id:"overview",level:2},{value:"Variations",id:"variations",level:2},{value:"Alternatives",id:"alternatives",level:2},{value:"Version History",id:"version-history",level:2},{value:"Ecosystem Support",id:"ecosystem-support",level:2},{value:"Format Details",id:"format-details",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"wkb---well-known-binary",children:"WKB - Well-Known Binary"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"ogc-logo",src:i(16903).Z+"",width:"119",height:"60"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.a,{href:"/docs/modules/wkt",children:(0,r.jsx)(n.code,{children:"@loaders.gl/wkt"})})})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Well-Known Binary (WKB) is a binary version of Well-known Text"}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Well-known binary (WKB) representations are typically shown in hexadecimal strings."}),"\n",(0,r.jsx)(n.h2,{id:"variations",children:"Variations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"EKWB - Adds spatial reference systems"}),"\n",(0,r.jsx)(n.li,{children:"TWKB"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"alternatives",children:"Alternatives"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"WKT"}),"\n",(0,r.jsx)(n.li,{children:"GeoJSON Geometry"}),"\n",(0,r.jsx)(n.li,{children:"GML Geometry"}),"\n"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Format"}),(0,r.jsx)(n.th,{children:"Support"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"WKB"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"TWKB"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"WKB variant reduces binary size ~2x."})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"TWKB uses varints, precision truncation and zigzag point encoding to reduce binary size ~2x (however compressed size reduction is less)"}),"\n",(0,r.jsx)(n.h2,{id:"version-history",children:"Version History"}),"\n",(0,r.jsx)(n.p,{children:"TBA."}),"\n",(0,r.jsx)(n.h2,{id:"ecosystem-support",children:"Ecosystem Support"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["PostGIS offers a function to return geometries in TWKB format: ",(0,r.jsx)(n.a,{href:"https://postgis.net/docs/ST_AsTWKB.html",children:"ST_AsTWKB"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"format-details",children:"Format Details"}),"\n",(0,r.jsx)(n.p,{children:"The first byte indicates the byte order for the data:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"00 : big endian"}),"\n",(0,r.jsx)(n.li,{children:"01 : little endian"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The next 4 bytes are a 32-bit unsigned integer for the geometry type, as described below:"}),"\n",(0,r.jsxs)(n.p,{children:["| Type                 | Supported | 2D   | Z    | M    | ZM   |\n| -------------------- | --------- | ---- | ---- | ---- |\n| ",(0,r.jsx)(n.code,{children:"Geometry"}),"           | \u2705         | 0000 | 1000 | 2000 | 3000 |\n| ",(0,r.jsx)(n.code,{children:"Point"}),"              | \u2705         | 0001 | 1001 | 2001 | 3001 |\n| ",(0,r.jsx)(n.code,{children:"LineString"}),"         | \u2705         | 0002 | 1002 | 2002 | 3002 |\n| ",(0,r.jsx)(n.code,{children:"Polygon"}),"            | \u2705         | 0003 | 1003 | 2003 | 3003 |\n| ",(0,r.jsx)(n.code,{children:"MultiPoint"}),"         | \u2705         | 0004 | 1004 | 2004 | 3004 |\n| ",(0,r.jsx)(n.code,{children:"MultiLineString"}),"    | \u2705         | 0005 | 1005 | 2005 | 3005 |\n| ",(0,r.jsx)(n.code,{children:"MultiPolygon"}),"       | \u2705         | 0006 | 1006 | 2006 | 3006 |\n| ",(0,r.jsx)(n.code,{children:"GeometryCollection"})," | \u2705 *      | 0007 | 1007 | 2007 | 3007 |\n|                      |           |      |      |      |      |\n| ",(0,r.jsx)(n.code,{children:"CircularString"}),"     | \u274c         | 0008 | 1008 | 2008 | 3008 |\n| ",(0,r.jsx)(n.code,{children:"CompoundCurve"}),"      | \u274c         | 0009 | 1009 | 2009 | 3009 |\n| ",(0,r.jsx)(n.code,{children:"CurvePolygon"}),"       | \u274c         | 0010 | 1010 | 2010 | 3010 |\n| ",(0,r.jsx)(n.code,{children:"MultiCurve"}),"         | \u274c         | 0011 | 1011 | 2011 | 3011 |\n| ",(0,r.jsx)(n.code,{children:"MultiSurface"}),"       | \u274c         | 0012 | 1012 | 2012 | 3012 |\n| ",(0,r.jsx)(n.code,{children:"Curve"}),"              | \u274c         | 0013 | 1013 | 2013 | 3013 |\n| ",(0,r.jsx)(n.code,{children:"Surface"}),"            | \u274c         | 0014 | 1014 | 2014 | 3014 |\n| ",(0,r.jsx)(n.code,{children:"PolyhedralSurface"}),"  | \u274c         | 0015 | 1015 | 2015 | 3015 |\n| ",(0,r.jsx)(n.code,{children:"TIN"}),"                | \u274c         | 0016 | 1016 | 2016 | 3016 |\n| ",(0,r.jsx)(n.code,{children:"Triangle"}),"           | \u274c         | 0017 | 1017 | 2017 | 3017 |\n| ",(0,r.jsx)(n.code,{children:"Circle"}),"             | \u274c         | 0018 | 1018 | 2018 | 3018 |\n| ",(0,r.jsx)(n.code,{children:"GeodesicString"}),"     | \u274c         | 0019 | 1019 | 2019 | 3019 |\n| ",(0,r.jsx)(n.code,{children:"EllipticalCurve"}),"    | \u274c         | 0020 | 1020 | 2020 | 3020 |\n| ",(0,r.jsx)(n.code,{children:"NurbsCurve"}),"         | \u274c         | 0021 | 1021 | 2021 | 3021 |\n| ",(0,r.jsx)(n.code,{children:"Clothoid"}),"           | \u274c         | 0022 | 1022 | 2022 | 3022 |\n| ",(0,r.jsx)(n.code,{children:"SpiralCurve"}),"        | \u274c         | 0023 | 1023 | 2023 | 3023 |\n| ",(0,r.jsx)(n.code,{children:"CompoundSurface"}),"    | \u274c         | 0024 | 1024 | 2024 | 3024 |\n| ",(0,r.jsx)(n.code,{children:"BrepSolid"}),"          | \u274c         |      | 1025 |      |      |\n| ",(0,r.jsx)(n.code,{children:"AffinePlacement"}),"    | \u274c         | 102  | 1102 |      |      |"]}),"\n",(0,r.jsx)(n.p,{children:"Remarks:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Many implementations, including loaders.gl, only handle the core GeoJSON geometry equivalents (points, line strings, polygons and to a varying degrees geometry collections of the same)."})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.code,{children:"GeometryCollection"})})," can be difficult for some clients to handle."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},16903:(e,n,i)=>{i.d(n,{Z:()=>r});const r=i.p+"assets/images/ogc-logo-60-8ee2c25a50ccc14293453512c707a0c4.png"},11151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>l});var r=i(67294);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);