"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[7049],{86329:(e,t,r)=>{r.d(t,{D0:()=>_,Ew:()=>c,Kn:()=>o,Lj:()=>S,Os:()=>l,Ss:()=>a,TW:()=>i,zH:()=>u});const n=e=>"boolean"==typeof e,s=e=>"function"==typeof e,o=e=>null!==e&&"object"==typeof e,a=e=>o(e)&&e.constructor==={}.constructor,i=e=>Boolean(e)&&"function"==typeof e[Symbol.iterator],_=e=>e&&"function"==typeof e[Symbol.asyncIterator],c=e=>"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,S=e=>"undefined"!=typeof Blob&&e instanceof Blob,u=e=>e&&"object"==typeof e&&e.isBuffer,l=e=>(e=>"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||o(e)&&s(e.tee)&&s(e.cancel)&&s(e.getReader))(e)||(e=>o(e)&&s(e.read)&&s(e.pipe)&&n(e.readable))(e)},57291:(e,t,r)=>{r.d(t,{z:()=>i});var n=r(86329),s=r(90231),o=r(79955),a=r(80999);async function i(e,t,r,i){let _,c;Array.isArray(t)||(0,s.C)(t)?(_=t,c=r):(_=[],c=t);const S=(0,o.b)(c);let u=e;return"string"==typeof e&&(u=await S(e)),(0,n.Lj)(e)&&(u=await S(e)),Array.isArray(_),await(0,a.Q)(u,_,c)}},80999:(e,t,r)=>{r.d(t,{Q:()=>j});var n=r(60076);class s{terminate(){}}var o=r(6408);const a=new Map;function i(e){(0,o.h)(e.source&&!e.url||!e.source&&e.url);let t=a.get(e.source||e.url);return t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return _((t=e,`try {\n  importScripts('${t}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`));var t}(e.url),a.set(e.url,t)),e.source&&(t=_(e.source),a.set(e.source,t))),(0,o.h)(t),t}function _(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function c(e,t,r){void 0===t&&(t=!0);const n=r||new Set;if(e){if(S(e))n.add(e);else if(S(e.buffer))n.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"==typeof e)for(const s in e)c(e[s],t,n)}else;return void 0===r?Array.from(n):[]}function S(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var u=r(25108);const l=()=>{};class E{terminated=!1;_loadableURL="";static isSupported(){return"undefined"!=typeof Worker&&n.jU||void 0!==s&&!n.jU}constructor(e){const{name:t,source:r,url:s}=e;(0,o.h)(r||s),this.name=t,this.source=r,this.url=s,this.onMessage=l,this.onError=e=>u.log(e),this.worker=n.jU?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=l,this.onError=l,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(e,t){t=t||c(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+=`worker ${this.name} from ${this.url}. `,e.message&&(t+=`${e.message} in `),e.lineno&&(t+=`:${e.lineno}:${e.colno}`),new Error(t)}_createBrowserWorker(){this._loadableURL=i({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=e=>{e.data?this.onMessage(e.data):this.onError(new Error("No data received"))},e.onerror=e=>{this.onError(this._getErrorFromErrorEvent(e)),this.terminated=!0},e.onmessageerror=e=>u.error(e),e}_createNodeWorker(){let e;if(this.url){const t=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new s(t,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new s(this.source,{eval:!0})}return e.on("message",(e=>{this.onMessage(e)})),e.on("error",(e=>{this.onError(e)})),e.on("exit",(e=>{})),e}}class f{isRunning=!0;_resolve=()=>{};_reject=()=>{};constructor(e,t){this.name=e,this.workerThread=t,this.result=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){(0,o.h)(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){(0,o.h)(this.isRunning),this.isRunning=!1,this._reject(e)}}var d=r(25108);class T{name="unnamed";maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return E.isSupported()}constructor(e){this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach((e=>e.destroy())),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}async startJob(e,t,r){void 0===t&&(t=(e,t,r)=>e.done(r)),void 0===r&&(r=(e,t)=>e.error(t));const n=new Promise((n=>(this.jobQueue.push({name:e,onMessage:t,onError:r,onStart:n}),this)));return this._startQueuedJob(),await n}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});const n=new f(t.name,e);e.onMessage=e=>t.onMessage(n,e.type,e.payload),e.onError=e=>t.onError(n,e),t.onStart(n);try{await n.result}catch(r){d.error(`Worker exception: ${r}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!n.jU||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new E({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return n.tq?this.maxMobileConcurrency:this.maxConcurrency}}const h={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class C{workerPools=new Map;static isSupported(){return E.isSupported()}static getWorkerFarm(e){return void 0===e&&(e={}),C._workerFarm=C._workerFarm||new C({}),C._workerFarm.setProps(e),C._workerFarm}constructor(e){this.props={...h},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:r,url:n}=e;let s=this.workerPools.get(t);return s||(s=new T({name:t,source:r,url:n}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}var R=r(25501);var A=r(25108);async function p(e,t,r,s,a){const i=e.id,_=function(e,t){void 0===t&&(t={});const r=t[e.id]||{},s=n.jU?`${e.id}-worker.js`:`${e.id}-worker-node.js`;let a=r.workerUrl;if(a||"compression"!==e.id||(a=t.workerUrl),"test"===t._workerType&&(a=n.jU?`modules/${e.module}/dist/${s}`:`modules/${e.module}/src/workers/${e.id}-worker-node.ts`),!a){let t=e.version;"latest"===t&&(t=R.e);const r=t?`@${t}`:"";a=`https://unpkg.com/@loaders.gl/${e.module}${r}/dist/${s}`}return(0,o.h)(a),a}(e,r),c=C.getWorkerFarm(r).getWorkerPool({name:i,url:_});r=JSON.parse(JSON.stringify(r)),s=JSON.parse(JSON.stringify(s||{}));const S=await c.startJob("process-on-worker",m.bind(null,a));S.postMessage("process",{input:t,options:r,context:s});const u=await S.result;return await u.result}async function m(e,t,r,n){switch(r){case"done":t.done(n);break;case"error":t.error(new Error(n.error));break;case"process":const{id:o,input:a,options:i}=n;try{const r=await e(a,i);t.postMessage("done",{id:o,result:r})}catch(s){const e=s instanceof Error?s.message:"unknown error";t.postMessage("error",{id:o,error:e})}break;default:A.warn(`parse-with-worker unknown message ${r}`)}}var N=r(90231),O=r(86329),g=r(62190),x=r(3895),P=r(92013);const G=262144;const y=262144;const D=1048576;var w=r(82707),b=r(59045);function B(e,t){return w.jU?async function*(e,t){const r=e.getReader();let n;try{for(;;){const e=n||r.read();t?._streamReadAhead&&(n=r.read());const{done:s,value:o}=await e;if(s)return;yield(0,b.rJ)(o)}}catch(s){r.releaseLock()}}(e,t):async function*(e,t){for await(const r of e)yield(0,b.rJ)(r)}(e)}function M(e,t){if("string"==typeof e)return function*(e,t){const r=t?.chunkSize||G;let n=0;const s=new TextEncoder;for(;n<e.length;){const t=Math.min(e.length-n,r),o=e.slice(n,n+t);n+=t,yield s.encode(o)}}(e,t);if(e instanceof ArrayBuffer)return function(e,t){return void 0===t&&(t={}),function*(){const{chunkSize:r=y}=t;let n=0;for(;n<e.byteLength;){const t=Math.min(e.byteLength-n,r),s=new ArrayBuffer(t),o=new Uint8Array(e,n,t);new Uint8Array(s).set(o),n+=t,yield s}}()}(e,t);if((0,O.Lj)(e))return async function*(e,t){const r=t?.chunkSize||D;let n=0;for(;n<e.size;){const t=n+r,s=await e.slice(n,t).arrayBuffer();n=t,yield s}}(e,t);if((0,O.Os)(e))return B(e,t);if((0,O.Ew)(e)){return B(e.body,t)}throw new Error("makeIterator")}var L=r(34804);const X="Cannot convert supplied data type";async function I(e,t,r){const n=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if("string"==typeof e||n)return function(e,t,r){if(t.text&&"string"==typeof e)return e;if((0,O.zH)(e)&&(e=e.buffer),e instanceof ArrayBuffer){const r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);let r=e.buffer;const n=e.byteLength||e.length;return 0===e.byteOffset&&n===r.byteLength||(r=r.slice(e.byteOffset,e.byteOffset+n)),r}throw new Error(X)}(e,t);if((0,O.Lj)(e)&&(e=await(0,L.L1)(e)),(0,O.Ew)(e)){const r=e;return await(0,L.mm)(r),t.binary?await r.arrayBuffer():await r.text()}if((0,O.Os)(e)&&(e=M(e,r)),(0,O.TW)(e)||(0,O.D0)(e))return(0,P.GZ)(e);throw new Error(X)}var v=r(79955),H=r(44727),U=r(25083);var k=r(30139),K=r(9167);async function j(e,t,r,s){!t||Array.isArray(t)||(0,N.C)(t)||(s=void 0,r=t,t=void 0),e=await e,r=r||{};const a=(0,k.vM)(e),i=function(e,t){if(e&&!Array.isArray(e))return e;let r;if(e&&(r=Array.isArray(e)?e:[e]),t&&t.loaders){const e=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[...r,...e]:e}return r&&r.length?r:void 0}(t,s),_=await(0,K.A)(e,i,r);return _?(s=function(e,t,r){if(r)return r;const n={fetch:(0,v.b)(t,e),...e};if(n.url){const e=(0,H.kr)(n.url);n.baseUrl=e,n.queryString=(0,H.Si)(n.url),n.filename=U.vB(e),n.baseUrl=U.XX(e)}return Array.isArray(n.loaders)||(n.loaders=null),n}({url:a,_parse:j,loaders:i},r=(0,g.GR)(r,_,i,a),s||null),await async function(e,t,r,s){if(function(e,t){void 0===t&&(t=R.q),(0,o.h)(e,"no worker provided");const r=e.version}(e),r=(0,x.N)(e.options,r),(0,O.Ew)(t)){const e=t,{ok:r,redirected:n,status:o,statusText:a,type:i,url:_}=e,c=Object.fromEntries(e.headers.entries());s.response={headers:c,ok:r,redirected:n,status:o,statusText:a,type:i,url:_}}t=await I(t,e,r);const a=e;if(a.parseTextSync&&"string"==typeof t)return a.parseTextSync(t,r,s);if(function(e,t){return!!C.isSupported()&&!(!n.jU&&!t?._nodeWorkers)&&e.worker&&t?.worker}(e,r))return await p(e,t,r,s,j);if(a.parseText&&"string"==typeof t)return await a.parseText(t,r,s);if(a.parse)return await a.parse(t,r,s);throw(0,o.h)(!a.parseSync),new Error(`${e.id} loader - no parser found and worker is disabled`)}(_,e,r,s)):null}},57089:(e,t,r)=>{r.d(t,{fh:()=>a,kO:()=>i});var n=r(90231),s=r(62190);const o=()=>{const e=(0,s.rx)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function a(e){const t=o();e=Array.isArray(e)?e:[e];for(const r of e){const e=(0,n.T)(r);t.find((t=>e===t))||t.unshift(e)}}function i(){return o()}},9167:(e,t,r)=>{r.d(t,{A:()=>E});var n=r(89121),s=r(25083),o=r(77420),a=r(90231),i=r(30139),_=r(95199),c=r(57089),S=r(86329),u=r(44727);const l=/\.([^.]+)$/;async function E(e,t,r,n){if(void 0===t&&(t=[]),!d(e))return null;let s=f(e,t,{...r,nothrow:!0},n);if(s)return s;if((0,S.Lj)(e)&&(s=f(e=await e.slice(0,10).arrayBuffer(),t,r,n)),!s&&!r?.nothrow)throw new Error(T(e));return s}function f(e,t,r,s){if(void 0===t&&(t=[]),!d(e))return null;if(t&&!Array.isArray(t))return(0,a.T)(t);let o=[];t&&(o=o.concat(t)),r?.ignoreRegisteredLoaders||o.push(...(0,c.kO)()),function(e){for(const t of e)(0,a.T)(t)}(o);const _=function(e,t,r,s){const o=(0,i.vM)(e),a=(0,i.Ry)(e),_=(0,u.kr)(o)||s?.url;let c=null,S="";r?.mimeType&&(c=h(t,r?.mimeType),S=`match forced by supplied MIME type ${r?.mimeType}`);c=c||function(e,t){const r=t&&l.exec(t),n=r&&r[1];return n?function(e,t){t=t.toLowerCase();for(const r of e)for(const e of r.extensions)if(e.toLowerCase()===t)return r;return null}(e,n):null}(t,_),S=S||(c?`matched url ${_}`:""),c=c||h(t,a),S=S||(c?`matched MIME type ${a}`:""),c=c||function(e,t){if(!t)return null;for(const r of e)if("string"==typeof t){if(C(t,r))return r}else if(ArrayBuffer.isView(t)){if(R(t.buffer,t.byteOffset,r))return r}else if(t instanceof ArrayBuffer){if(R(t,0,r))return r}return null}(t,e),S=S||(c?`matched initial data ${A(e)}`:""),r?.fallbackMimeType&&(c=c||h(t,r?.fallbackMimeType),S=S||(c?`matched fallback MIME type ${a}`:""));S&&n.c.log(1,`selectLoader selected ${c?.name}: ${S}.`);return c}(e,o,r,s);if(!_&&!r?.nothrow)throw new Error(T(e));return _}function d(e){return!(e instanceof Response&&204===e.status)}function T(e){const t=(0,i.vM)(e),r=(0,i.Ry)(e);let n="No valid loader found (";n+=t?`${s.vB(t)}, `:"no url provided, ",n+=`MIME type: ${r?`"${r}"`:"not provided"}, `;const o=e?A(e):"";return n+=o?` first bytes: "${o}"`:"first bytes: not available",n+=")",n}function h(e,t){for(const r of e){if(r.mimeTypes?.some((e=>(0,_.BB)(t,e))))return r;if((0,_.BB)(t,`application/x.${r.id}`))return r}return null}function C(e,t){if(t.testText)return t.testText(e);return(Array.isArray(t.tests)?t.tests:[t.tests]).some((t=>e.startsWith(t)))}function R(e,t,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some((r=>function(e,t,r,n){if(n instanceof ArrayBuffer)return(0,o.Xq)(n,e,n.byteLength);switch(typeof n){case"function":return n(e);case"string":return n===p(e,t,n.length);default:return!1}}(e,t,0,r)))}function A(e,t){if(void 0===t&&(t=5),"string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return p(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return p(e,0,t)}return""}function p(e,t,r){if(e.byteLength<t+r)return"";const n=new DataView(e);let s="";for(let o=0;o<r;o++)s+=String.fromCharCode(n.getUint8(t+o));return s}},94023:(e,t,r)=>{r.d(t,{dc:()=>o});var n=r(36642),s=r(34804);async function o(e,t){if("string"==typeof e){const r=(0,n.i3)(e);return function(e){return!function(e){return e.startsWith("http:")||e.startsWith("https:")}(e)&&!function(e){return e.startsWith("data:")}(e)}(r)&&globalThis.loaders?.fetchNode?globalThis.loaders?.fetchNode(r,t):await fetch(r,t)}return await(0,s.L1)(e)}},79955:(e,t,r)=>{r.d(t,{b:()=>a});var n=r(86329),s=r(94023),o=r(62190);function a(e,t){const r=(0,o.pm)(),a=e||r;return"function"==typeof a.fetch?a.fetch:(0,n.Kn)(a.fetch)?e=>(0,s.dc)(e,a.fetch):t?.fetch?t?.fetch:s.dc}},90231:(e,t,r)=>{r.d(t,{C:()=>s,T:()=>o});var n=r(10517);function s(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);return Array.isArray(e?.extensions)}function o(e){let t;return(0,n.h)(e,"null loader"),(0,n.h)(s(e),"invalid loader"),Array.isArray(e)&&(t=e[1],e=e[0],e={...e,options:{...e.options,...t}}),(e?.parseTextSync||e?.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}},62190:(e,t,r)=>{r.d(t,{pm:()=>l,rx:()=>u,GR:()=>E});var n=r(86329),s=r(79962),o=r(25108);const a=new s.Z({id:"loaders.gl"});class i{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var _=r(82707);const c={fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){this.console=o}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.log.bind(this.console,...t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.info.bind(this.console,...t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.warn.bind(this.console,...t)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.console.error.bind(this.console,...t)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:_.jU,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},S={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function u(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state||(e._state={}),e._state}function l(){const e=u();return e.globalOptions=e.globalOptions||{...c},e.globalOptions}function E(e,t,r,n){return r=r||[],function(e,t){f(e,null,c,S,t);for(const r of t){const n=e&&e[r.id]||{},s=r.options&&r.options[r.id]||{},o=r.deprecatedOptions&&r.deprecatedOptions[r.id]||{};f(n,r.id,s,o,t)}}(e,r=Array.isArray(r)?r:[r]),T(t,e,n)}function f(e,t,r,s,o){const i=t||"Top level",_=t?`${t}.`:"";for(const c in e){const S=!t&&(0,n.Kn)(e[c]);if(!(c in r)&&!("baseUri"===c&&!t)&&!("workerUrl"===c&&t))if(c in s)a.warn(`${i} loader option '${_}${c}' no longer supported, use '${s[c]}'`)();else if(!S){const e=d(c,o);a.warn(`${i} loader option '${_}${c}' not recognized. ${e}`)()}}}function d(e,t){const r=e.toLowerCase();let n="";for(const s of t)for(const t in s.options){if(e===t)return`Did you mean '${s.id}.${t}'?`;const o=t.toLowerCase();(r.startsWith(o)||o.startsWith(r))&&(n=n||`Did you mean '${s.id}.${t}'?`)}return n}function T(e,t,r){const n={...e.options||{}};return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(n,r),null===n.log&&(n.log=new i),h(n,l()),h(n,t),n}function h(e,t){for(const r in t)if(r in t){const s=t[r];(0,n.Ss)(s)&&(0,n.Ss)(e[r])?e[r]={...e[r],...t[r]}:e[r]=t[r]}}},95199:(e,t,r)=>{r.d(t,{BB:()=>o,qZ:()=>a,zB:()=>i});const n=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,s=/^([-\w.]+\/[-\w.+]+)/;function o(e,t){return e.toLowerCase()===t.toLowerCase()}function a(e){const t=s.exec(e);return t?t[1]:e}function i(e){const t=n.exec(e);return t?t[1]:""}},30139:(e,t,r)=>{r.d(t,{Cu:()=>_,Ry:()=>i,vM:()=>a});var n=r(86329),s=r(95199),o=r(44727);function a(e){if((0,n.Ew)(e)){return e.url}if((0,n.Lj)(e)){return e.name||""}return"string"==typeof e?e:""}function i(e){if((0,n.Ew)(e)){const t=e,r=t.headers.get("content-type")||"",n=(0,o.kr)(t.url);return(0,s.qZ)(r)||(0,s.zB)(n)}if((0,n.Lj)(e)){return e.type||""}return"string"==typeof e?(0,s.zB)(e):""}function _(e){if((0,n.Ew)(e)){return e.headers["content-length"]||-1}if((0,n.Lj)(e)){return e.size}return"string"==typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}},34804:(e,t,r)=>{r.d(t,{mm:()=>_,L1:()=>i});var n=r(86329);class s extends Error{constructor(e,t){super(e),this.reason=t.reason,this.url=t.url,this.response=t.response}}var o=r(30139),a=r(44727);async function i(e){if((0,n.Ew)(e))return e;const t={},r=(0,o.Cu)(e);r>=0&&(t["content-length"]=String(r));const s=(0,o.vM)(e),a=(0,o.Ry)(e);a&&(t["content-type"]=a);const i=await async function(e){const t=5;if("string"==typeof e)return`data:,${e.slice(0,t)}`;if(e instanceof Blob){const t=e.slice(0,5);return await new Promise((e=>{const r=new FileReader;r.onload=t=>e(t?.target?.result),r.readAsDataURL(t)}))}if(e instanceof ArrayBuffer){return`data:base64,${function(e){let t="";const r=new Uint8Array(e);for(let n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return btoa(t)}(e.slice(0,t))}`}return null}(e);i&&(t["x-first-bytes"]=i),"string"==typeof e&&(e=(new TextEncoder).encode(e));const _=new Response(e,{headers:t});return Object.defineProperty(_,"url",{value:s}),_}async function _(e){if(!e.ok){const t=await async function(e){const r=(0,a.Ni)(e.url);let n=`Failed to fetch resource (${e.status}) ${e.statusText}: ${r}`;n=n.length>100?`${n.slice(0,100)}...`:n;const o={reason:e.statusText,url:e.url,response:e};try{const t=e.headers.get("Content-Type");o.reason=!e.bodyUsed&&t?.includes("application/json")?await e.json():await e.text()}catch(t){}return new s(n,o)}(e);throw t}}},44727:(e,t,r)=>{r.d(t,{Ni:()=>a,Si:()=>s,kr:()=>o});const n=/\?.*/;function s(e){const t=e.match(n);return t&&t[0]}function o(e){return e.replace(n,"")}function a(e){if(e.length<50)return e;const t=e.slice(e.length-15);return`${e.substr(0,32)}...${t}`}},35199:(e,t,r)=>{r.d(t,{S:()=>m});const n="undefined"!=typeof __VERSION__?__VERSION__:"latest";var s=r(10517),o=r(82707);const a=globalThis.loaders?.parseImageNode,i="undefined"!=typeof Image,_="undefined"!=typeof ImageBitmap,c=Boolean(a),S=!!o.jU||c;var u=r(62713);const l=/^data:image\/svg\+xml/,E=/\.svg((\?|#).*)?$/;function f(e){return e&&(l.test(e)||E.test(e))}function d(e,t){if(f(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}async function T(e,t,r){const n=function(e,t){if(f(t)){let t=(new TextDecoder).decode(e);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(t=unescape(encodeURIComponent(t)))}catch(r){throw new Error(r.message)}return`data:image/svg+xml;base64,${btoa(t)}`}return d(e,t)}(e,r),s=self.URL||self.webkitURL,o="string"!=typeof n&&s.createObjectURL(n);try{return await async function(e,t){const r=new Image;if(r.src=e,t.image&&t.image.decode&&r.decode)return await r.decode(),r;return await new Promise(((e,t)=>{try{r.onload=()=>e(r),r.onerror=e=>{const r=e instanceof Error?e.message:"error";t(new Error(r))}}catch(n){t(n)}}))}(o||n,t)}finally{o&&s.revokeObjectURL(o)}}var h=r(25108);const C={};let R=!0;async function A(e,t,r){let n;if(f(r)){n=await T(e,t,r)}else n=d(e,r);const s=t&&t.imagebitmap;return await async function(e,t){void 0===t&&(t=null);!function(e){for(const t in e||C)return!1;return!0}(t)&&R||(t=null);if(t)try{return await createImageBitmap(e,t)}catch(r){h.warn(r),R=!1}return await createImageBitmap(e)}(n,s)}var p=r(99377);const m={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:n,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:async function(e,t,r){const n=((t=t||{}).image||{}).type||"auto",{url:o}=r||{};let a;switch(function(e){switch(e){case"auto":case"data":return function(){if(_)return"imagebitmap";if(i)return"image";if(S)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return _||i||S;case"imagebitmap":return _;case"image":return i;case"data":return S;default:throw new Error(`@loaders.gl/images: image ${e} not supported in this environment`)}}(e),e}}(n)){case"imagebitmap":a=await A(e,t,o);break;case"image":a=await T(e,t,o);break;case"data":a=await async function(e,t){const{mimeType:r}=(0,p.I)(e)||{},n=globalThis.loaders?.parseImageNode;return(0,s.h)(n),await n(e,r)}(e);break;default:(0,s.h)(!1)}return"data"===n&&(a=(0,u.n$)(a)),a},tests:[e=>Boolean((0,p.I)(new DataView(e)))],options:{image:{type:"auto",decode:!0}}}},99377:(e,t,r)=>{function n(e){return function(e,t,r){void 0===r&&(r=0);const n=(s=t,[...s].map((e=>e.charCodeAt(0))));var s;for(let o=0;o<n.length;++o)if(n[o]!==e[o+r])return!1;return!0}(e,"ftyp",4)?0==(96&e[8])?null:function(e){switch((t=e,r=8,n=12,String.fromCharCode(...t.slice(r,n))).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}var t,r,n}(e):null}r.d(t,{I:()=>a});const s=!1,o=!0;function a(e){const t=i(e);return function(e){const t=i(e),r=t.byteLength>=24&&2303741511===t.getUint32(0,s);if(!r)return null;return{mimeType:"image/png",width:t.getUint32(16,s),height:t.getUint32(20,s)}}(t)||function(e){const t=i(e),r=t.byteLength>=3&&65496===t.getUint16(0,s)&&255===t.getUint8(2);if(!r)return null;const{tableMarkers:n,sofMarkers:o}=function(){const e=new Set([65499,65476,65484,65501,65534]);for(let r=65504;r<65520;++r)e.add(r);const t=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:t}}();let a=2;for(;a+9<t.byteLength;){const e=t.getUint16(a,s);if(o.has(e))return{mimeType:"image/jpeg",height:t.getUint16(a+5,s),width:t.getUint16(a+7,s)};if(!n.has(e))return null;a+=2,a+=t.getUint16(a,s)}return null}(t)||function(e){const t=i(e),r=t.byteLength>=10&&1195984440===t.getUint32(0,s);if(!r)return null;return{mimeType:"image/gif",width:t.getUint16(6,o),height:t.getUint16(8,o)}}(t)||function(e){const t=i(e),r=t.byteLength>=14&&16973===t.getUint16(0,s)&&t.getUint32(2,o)===t.byteLength;if(!r)return null;return{mimeType:"image/bmp",width:t.getUint32(18,o),height:t.getUint32(22,o)}}(t)||function(e){const t=new Uint8Array(e instanceof DataView?e.buffer:e),r=n(t);if(!r)return null;return{mimeType:r.mimeType,width:0,height:0}}(t)}function i(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},62713:(e,t,r)=>{function n(e){const t=o(e);if(!t)throw new Error("Not an image");return t}function s(e){switch(n(e)){case"data":return e;case"image":case"imagebitmap":const t=document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("getImageData");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0),r.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function o(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"==typeof e&&e.data&&e.width&&e.height?"data":null}r.d(t,{n$:()=>s})},77420:(e,t,r)=>{function n(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;const n=new Uint8Array(e),s=new Uint8Array(t);for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0}function s(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){const t=e.map((e=>e instanceof ArrayBuffer?new Uint8Array(e):e)),r=t.reduce(((e,t)=>e+t.byteLength),0),n=new Uint8Array(r);let s=0;for(const o of t)n.set(o,s),s+=o.byteLength;return n.buffer}(t)}function o(e,t,r){const n=void 0!==r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer}r.d(t,{JY:()=>s,Xq:()=>n,qv:()=>o})},59045:(e,t,r)=>{function n(e){if((t=e)&&"object"==typeof t&&t.isBuffer)return e;var t;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"==typeof e){const t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"==typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}r.d(t,{rJ:()=>n})},10517:(e,t,r)=>{function n(e,t){if(!e)throw new Error(t||"loader assertion failed.")}r.d(t,{h:()=>n})},82707:(e,t,r)=>{r.d(t,{jU:()=>s});var n=r(34155);"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==r.g&&r.g,"undefined"!=typeof document&&document;const s=Boolean("object"!=typeof n||"[object process]"!==String(n)||n.browser),o=void 0!==n&&n.version&&/v([0-9]*)/.exec(n.version);o&&parseFloat(o[1])},92013:(e,t,r)=>{r.d(t,{Ed:()=>s,GZ:()=>o});var n=r(77420);async function s(e,t){for(;;){const{done:r,value:n}=await e.next();if(r)return void e.return();if(t(n))return}}async function o(e){const t=[];for await(const r of e)t.push(r);return(0,n.JY)(...t)}},89121:(e,t,r)=>{r.d(t,{c:()=>a});var n=r(79962);const s="undefined"!=typeof __VERSION__?__VERSION__:"latest",o=s[0]>="0"&&s[0]<="9"?`v${s}`:"";const a=function(){const e=new n.Z({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=e,globalThis.loaders.version=o,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=e,e}()},4462:(e,t,r)=>{r.d(t,{Hf:()=>a,_q:()=>s,kF:()=>i,q1:()=>o});var n=r(89121);function s(e){globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,e)}function o(e,t){const r=globalThis.loaders?.modules?.[e];r||n.c.warn(`${t}: ${e} library not installed`)()}function a(e,t){const r=globalThis.loaders?.modules?.[e];if(!r)throw new Error(`${t}: ${e} library not installed`);return r}function i(e){const t=globalThis.loaders?.modules?.[e];return t||null}},3895:(e,t,r)=>{function n(e,t){return s(e||{},t)}function s(e,t,r){if(void 0===r&&(r=0),r>3)return t;const n={...e};for(const[o,a]of Object.entries(t))a&&"object"==typeof a&&!Array.isArray(a)?n[o]=s(n[o]||{},t[o],r+1):n[o]=t[o];return n}r.d(t,{N:()=>n})},36642:(e,t,r)=>{r.d(t,{i3:()=>o});let n="";const s={};function o(e){for(const t in s)if(e.startsWith(t)){const r=s[t];e=e.replace(t,r)}return e.startsWith("http://")||e.startsWith("https://")||(e=`${n}${e}`),e}},25083:(e,t,r)=>{r.d(t,{XX:()=>a,vB:()=>o,DB:()=>i});var n=r(34155);function s(){if(void 0!==n&&void 0!==n.cwd)return n.cwd();const e=window.location?.pathname;return e?.slice(0,e.lastIndexOf("/")+1)||""}function o(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}function a(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}function i(){const e=[];for(let s=0;s<arguments.length;s++)e[s]=s<0||arguments.length<=s?void 0:arguments[s];let t,r="",n=!1;for(let o=e.length-1;o>=-1&&!n;o--){let a;o>=0?a=e[o]:(void 0===t&&(t=s()),a=t),0!==a.length&&(r=`${a}/${r}`,n=a.charCodeAt(0)===_)}return r=function(e,t){let r,n="",s=-1,o=0,a=!1;for(let i=0;i<=e.length;++i){if(i<e.length)r=e.charCodeAt(i);else{if(r===_)break;r=_}if(r===_){if(s===i-1||1===o);else if(s!==i-1&&2===o){if(n.length<2||!a||n.charCodeAt(n.length-1)!==c||n.charCodeAt(n.length-2)!==c)if(n.length>2){const e=n.length-1;let t=e;for(;t>=0&&n.charCodeAt(t)!==_;--t);if(t!==e){n=-1===t?"":n.slice(0,t),s=i,o=0,a=!1;continue}}else if(2===n.length||1===n.length){n="",s=i,o=0,a=!1;continue}t&&(n.length>0?n+="/..":n="..",a=!0)}else{const t=e.slice(s+1,i);n.length>0?n+=`/${t}`:n=t,a=!1}s=i,o=0}else r===c&&-1!==o?++o:o=-1}return n}(r,!n),n?`/${r}`:r.length>0?r:"."}const _=47,c=46},55648:(e,t,r)=>{r.d(t,{G:()=>o});var n=r(89793),s=r(79499);const o={...{dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:n.q,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},parse:s.Z}},8853:(e,t,r)=>{r.d(t,{D:()=>N});var n=r(89793),s=r(70034),o=r(10517),a=r(9877),i=r(55737);const _={MAGIC_NUMBER:542327876,HEADER_LENGTH:31,MAGIC_NUMBER_INDEX:0,HEADER_SIZE_INDEX:1,HEADER_FLAGS_INDEX:2,HEADER_HEIGHT_INDEX:3,HEADER_WIDTH_INDEX:4,MIPMAPCOUNT_INDEX:7,HEADER_PF_FLAGS_INDEX:20,HEADER_PF_FOURCC_INDEX:21,DDSD_MIPMAPCOUNT:131072,DDPF_FOURCC:4},c={DXT1:a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_S3TC_DXT1_EXT,DXT3:a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_S3TC_DXT3_EXT,DXT5:a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_S3TC_DXT5_EXT,"ATC ":a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_ATC_WEBGL,ATCA:a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,ATCI:a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},S={DXT1:l,DXT3:E,DXT5:E,"ATC ":l,ATCA:E,ATCI:E};function u(e){const t=new Int32Array(e,0,_.HEADER_LENGTH),r=t[_.HEADER_PF_FOURCC_INDEX];(0,o.h)(Boolean(t[_.HEADER_PF_FLAGS_INDEX]&_.DDPF_FOURCC),"DDS: Unsupported format, must contain a FourCC code");const n=(s=r,String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255));var s;const a=c[n],u=S[n];(0,o.h)(a&&u,`DDS: Unknown pixel format ${r}`);let l=1;t[_.HEADER_FLAGS_INDEX]&_.DDSD_MIPMAPCOUNT&&(l=Math.max(1,t[_.MIPMAPCOUNT_INDEX]));const E=t[_.HEADER_WIDTH_INDEX],f=t[_.HEADER_HEIGHT_INDEX],d=t[_.HEADER_SIZE_INDEX]+4,T=new Uint8Array(e,d);return(0,i.J)(T,{mipMapLevels:l,width:E,height:f,sizeFunction:u,internalFormat:a})}function l(e,t){return(e+3>>2)*(t+3>>2)*8}function E(e,t){return(e+3>>2)*(t+3>>2)*16}const f={MAGIC_NUMBER:55727696,MAGIC_NUMBER_EXTRA:1347834371,HEADER_LENGTH:13,HEADER_SIZE:52,MAGIC_NUMBER_INDEX:0,PIXEL_FORMAT_INDEX:2,COLOUR_SPACE_INDEX:4,HEIGHT_INDEX:6,WIDTH_INDEX:7,MIPMAPCOUNT_INDEX:11,METADATA_SIZE_INDEX:12},d={0:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG],1:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG],2:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG],3:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG],6:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_ETC1_WEBGL],7:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_S3TC_DXT1_EXT],9:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_S3TC_DXT3_EXT],11:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_S3TC_DXT5_EXT],22:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB8_ETC2],23:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA8_ETC2_EAC],24:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2],25:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_R11_EAC],26:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RG11_EAC],27:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_4X4_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR],28:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_5X4_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR],29:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_5X5_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR],30:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_6X5_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR],31:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_6X6_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR],32:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_8X5_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR],33:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_8X6_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR],34:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_8X8_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR],35:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10X5_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR],36:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10X6_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR],37:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10X8_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR],38:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10X10_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR],39:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_12X10_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR],40:[a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_12X12_KHR,a.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR]},T={0:h,1:h,2:C,3:C,6:R,7:R,9:A,11:A,22:R,23:A,24:R,25:R,26:A,27:A,28:function(e,t){return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16},29:function(e,t){return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16},30:function(e,t){return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16},31:function(e,t){return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16},32:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16},33:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16},34:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16},35:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16},36:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16},37:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16},38:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16},39:function(e,t){return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16},40:function(e,t){return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16}};function h(e,t){return(e=Math.max(e,16))*(t=Math.max(t,8))/4}function C(e,t){return(e=Math.max(e,8))*(t=Math.max(t,8))/2}function R(e,t){return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8}function A(e,t){return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16}function p(e){if((0,s.j)(e))return(0,s.P)(e);if(function(e){return new Uint32Array(e,0,_.HEADER_LENGTH)[_.MAGIC_NUMBER_INDEX]===_.MAGIC_NUMBER}(e))return u(e);if(function(e){const t=new Uint32Array(e,0,f.HEADER_LENGTH)[f.MAGIC_NUMBER_INDEX];return t===f.MAGIC_NUMBER||t===f.MAGIC_NUMBER_EXTRA}(e))return function(e){const t=new Uint32Array(e,0,f.HEADER_LENGTH),r=t[f.PIXEL_FORMAT_INDEX],n=t[f.COLOUR_SPACE_INDEX],s=d[r]||[],o=s.length>1&&n?s[1]:s[0],a=T[r],_=t[f.MIPMAPCOUNT_INDEX],c=t[f.WIDTH_INDEX],S=t[f.HEIGHT_INDEX],u=f.HEADER_SIZE+t[f.METADATA_SIZE_INDEX],l=new Uint8Array(e,u);return(0,i.J)(l,{mipMapLevels:_,width:c,height:S,sizeFunction:a,internalFormat:o})}(e);throw new Error("Texture container format not recognized")}var m=r(79499);const N={...{dataType:null,batchType:null,name:"Texture Containers",id:"compressed-texture",module:"textures",version:n.q,worker:!0,extensions:["ktx","ktx2","dds","pvr"],mimeTypes:["image/ktx2","image/ktx","image/vnd-ms.dds","image/x-dds","application/octet-stream"],binary:!0,options:{"compressed-texture":{libraryPath:"libs/",useBasis:!1}}},parse:async(e,t)=>{if(t?.["compressed-texture"]?.useBasis){t.basis={format:{alpha:"BC3",noAlpha:"BC1"},...t.basis,containerFormat:"ktx2",module:"encoder"};return(await(0,m.Z)(e,t))[0]}return p(e)}}},9877:(e,t,r)=>{r.d(t,{GL_EXTENSIONS_CONSTANTS:()=>n});const n={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919}},79499:(e,t,r)=>{r.d(t,{Z:()=>f,h:()=>A});var n=r(4462),s=r(90294);const o={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"};let a,i;async function _(e){(0,n._q)(e.modules);const t=(0,n.kF)("basis");return t||(a||=async function(e){let t=null,r=null;return[t,r]=await Promise.all([await(0,s.Y)(o.TRANSCODER,"textures",e),await(0,s.Y)(o.TRANSCODER_WASM,"textures",e)]),t=t||globalThis.BASIS,await function(e,t){const r={};t&&(r.wasmBinary=t);return new Promise((t=>{e(r).then((e=>{const{BasisFile:r,initializeBasis:n}=e;n(),t({BasisFile:r})}))}))}(t,r)}(e),await a)}async function c(e){const t=e.modules||{};return t.basisEncoder?t.basisEncoder:(i=i||async function(e){let t=null,r=null;return[t,r]=await Promise.all([await(0,s.Y)(o.ENCODER,"textures",e),await(0,s.Y)(o.ENCODER_WASM,"textures",e)]),t=t||globalThis.BASIS,await function(e,t){const r={};t&&(r.wasmBinary=t);return new Promise((t=>{e(r).then((e=>{const{BasisFile:r,KTX2File:n,initializeBasis:s,BasisEncoder:o}=e;s(),t({BasisFile:r,KTX2File:n,BasisEncoder:o})}))}))}(t,r)}(e),await i)}var S=r(9877),u=r(90894),l=r(70034);const E={etc1:{basisFormat:0,compressed:!0,format:S.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:S.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:S.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:S.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:S.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:S.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};async function f(e,t){if("auto"===t.basis.containerFormat){if((0,l.j)(e)){return h((await c(t)).KTX2File,e,t)}const{BasisFile:r}=await _(t);return d(r,e,t)}if("encoder"===t.basis.module){const r=await c(t);return"ktx2"===t.basis.containerFormat?h(r.KTX2File,e,t):d(r.BasisFile,e,t)}{const{BasisFile:r}=await _(t);return d(r,e,t)}}function d(e,t,r){const n=new e(new Uint8Array(t));try{if(!n.startTranscoding())throw new Error("Failed to start basis transcoding");const e=n.getNumImages(),t=[];for(let s=0;s<e;s++){const e=n.getNumLevels(s),o=[];for(let t=0;t<e;t++)o.push(T(n,s,t,r));t.push(o)}return t}finally{n.close(),n.delete()}}function T(e,t,r,n){const s=e.getImageWidth(t,r),o=e.getImageHeight(t,r),a=e.getHasAlpha(),{compressed:i,format:_,basisFormat:c}=R(n,a),S=e.getImageTranscodedSizeInBytes(t,r,c),u=new Uint8Array(S);if(!e.transcodeImage(u,t,r,c,0,0))throw new Error("failed to start Basis transcoding");return{width:s,height:o,data:u,compressed:i,format:_,hasAlpha:a}}function h(e,t,r){const n=new e(new Uint8Array(t));try{if(!n.startTranscoding())throw new Error("failed to start KTX2 transcoding");const e=n.getLevels(),t=[];for(let s=0;s<e;s++)t.push(C(n,s,r));return[t]}finally{n.close(),n.delete()}}function C(e,t,r){const{alphaFlag:n,height:s,width:o}=e.getImageLevelInfo(t,0,0),{compressed:a,format:i,basisFormat:_}=R(r,n),c=e.getImageTranscodedSizeInBytes(t,0,0,_),S=new Uint8Array(c);if(!e.transcodeImage(S,t,0,0,_,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:s,data:S,compressed:a,levelSize:c,hasAlpha:n,format:i}}function R(e,t){let r=e&&e.basis&&e.basis.format;return"auto"===r&&(r=A()),"object"==typeof r&&(r=t?r.alpha:r.noAlpha),r=r.toLowerCase(),E[r]}function A(){const e=(0,u.U)();return e.has("astc")?"astc-4x4":e.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:e.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:e.has("etc1")?"etc1":e.has("etc2")?"etc2":"rgb565"}},70034:(e,t,r)=>{r.d(t,{j:()=>_,P:()=>c});var n=r(31029),s=r(55737),o=r(9877);const a={131:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB_S3TC_DXT1_EXT,132:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RED_RGTC1_EXT,140:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RED_GREEN_RGTC2_EXT,142:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB8_ETC2,148:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ETC2,149:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA8_ETC2_EAC,152:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_R11_EAC,154:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SIGNED_R11_EAC,155:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RG11_EAC,156:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SIGNED_RG11_EAC,157:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_4x4_KHR,158:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_5x4_KHR,160:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_5x5_KHR,162:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_6x5_KHR,164:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_6x6_KHR,166:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_8x5_KHR,168:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_8x6_KHR,170:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_8x8_KHR,172:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10x5_KHR,174:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10x6_KHR,176:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10x8_KHR,178:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10x10_KHR,180:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_12x10_KHR,182:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_12x12_KHR,184:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:o.GL_EXTENSIONS_CONSTANTS.COMPRESSED_RGBA_ASTC_12x12_KHR};const i=[171,75,84,88,32,50,48,187,13,10,26,10];function _(e){const t=new Uint8Array(e);return!(t.byteLength<i.length||t[0]!==i[0]||t[1]!==i[1]||t[2]!==i[2]||t[3]!==i[3]||t[4]!==i[4]||t[5]!==i[5]||t[6]!==i[6]||t[7]!==i[7]||t[8]!==i[8]||t[9]!==i[9]||t[10]!==i[10]||t[11]!==i[11])}function c(e){const t=new Uint8Array(e),r=(0,n.ij)(t),o=Math.max(1,r.levels.length),i=r.pixelWidth,_=r.pixelHeight,c=(S=r.vkFormat,a[S]);var S;return(0,s.J)(r.levels,{mipMapLevels:o,width:i,height:_,sizeFunction:e=>e.uncompressedByteLength,internalFormat:c})}},55737:(e,t,r)=>{function n(e,t){const r=new Array(t.mipMapLevels);let n=t.width,a=t.height,i=0;for(let _=0;_<t.mipMapLevels;++_){const c=o(t,n,a,e,_),S=s(e,_,i,c);r[_]={compressed:!0,format:t.internalFormat,data:S,width:n,height:a,levelSize:c},n=Math.max(1,n>>1),a=Math.max(1,a>>1),i+=c}return r}function s(e,t,r,n){return Array.isArray(e)?e[t].levelData:new Uint8Array(e.buffer,e.byteOffset+r,n)}function o(e,t,r,n,s){return Array.isArray(n)?e.sizeFunction(n[s]):e.sizeFunction(t,r)}r.d(t,{J:()=>n})},90894:(e,t,r)=>{r.d(t,{U:()=>a});const n=["","WEBKIT_","MOZ_"],s={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let o=null;function a(e){if(!o){e=e||function(){try{return document.createElement("canvas").getContext("webgl")}catch(e){return null}}()||void 0,o=new Set;for(const t of n)for(const r in s)if(e&&e.getExtension(`${t}${r}`)){const e=s[r];o.add(e)}}return o}},89793:(e,t,r)=>{r.d(t,{q:()=>n});const n="undefined"!=typeof __VERSION__?__VERSION__:"latest"},6408:(e,t,r)=>{function n(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}r.d(t,{h:()=>n})},60076:(e,t,r)=>{r.d(t,{hJ:()=>o,jU:()=>s,tq:()=>a});var n=r(34155);"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==r.g&&r.g,"undefined"!=typeof document&&document;const s="object"!=typeof n||"[object process]"!==String(n)||n.browser,o="function"==typeof importScripts,a="undefined"!=typeof window&&void 0!==window.orientation,i=void 0!==n&&n.version&&/v([0-9]*)/.exec(n.version);i&&parseFloat(i[1])},25501:(e,t,r)=>{r.d(t,{e:()=>s,q:()=>o});var n=r(25108);const s="latest";const o=(globalThis._loadersgl_?.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},"undefined"==typeof __VERSION__?(n.warn("loaders.gl: The __VERSION__ variable is not injected using babel plugin. Latest unstable workers would be fetched from the CDN."),globalThis._loadersgl_.version=s):globalThis._loadersgl_.version=__VERSION__),globalThis._loadersgl_.version)},90294:(e,t,r)=>{r.d(t,{Y:()=>_});var n=r(60076),s=r(6408),o=r(25501),a=r(25108);const i={};async function _(e,t,r,_){return void 0===t&&(t=null),void 0===r&&(r={}),void 0===_&&(_=null),t&&(e=function(e,t,r,a){void 0===r&&(r={});void 0===a&&(a=null);if(!r.useLocalLibraries&&e.startsWith("http"))return e;a=a||e;const i=r.modules||{};if(i[a])return i[a];if(!n.jU)return`modules/${t}/dist/libs/${a}`;if(r.CDN)return(0,s.h)(r.CDN.startsWith("http")),`${r.CDN}/${t}@${o.q}/dist/libs/${a}`;if(n.hJ)return`../src/libs/${a}`;return`modules/${t}/src/libs/${a}`}(e,t,r,_)),i[e]=i[e]||async function(e){if(e.endsWith("wasm"))return await async function(e){const{readFileAsArrayBuffer:t}=globalThis.loaders||{};if(n.jU||!t||e.startsWith("http")){const t=await fetch(e);return await t.arrayBuffer()}return await t(e)}(e);if(!n.jU)try{const{requireFromFile:t}=globalThis.loaders||{};return await(t?.(e))}catch(r){return a.error(r),null}if(n.hJ)return importScripts(e);const t=await async function(e){const{readFileAsText:t}=globalThis.loaders||{};if(n.jU||!t||e.startsWith("http")){const t=await fetch(e);return await t.text()}return await t(e)}(e);return function(e,t){if(!n.jU){const{requireFromString:r}=globalThis.loaders||{};return r?.(e,t)}if(n.hJ)return eval.call(globalThis,e),null;const r=document.createElement("script");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(s){r.text=e}return document.body.appendChild(r),null}(t,e)}(e),await i[e]}},37594:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>We,contentTitle:()=>Fe,default:()=>Ze,frontMatter:()=>je,metadata:()=>$e,toc:()=>Ve});var n=r(85893),s=r(11151),o=r(67294),a=(r(20745),r(79615)),i=r(4298);const _=[{formatName:"Standard Image Formats",description:"Non-texture image formats. Compact on disk, but need to be fully decompressed into GPU texture memory, and mipmaps need to be generated by client.",codeSample:"load(url, ImageLoader)",images:[{format:"JPG",src:"shannon.jpg"},{format:"GIF",src:"shannon.gif"},{format:"PNG",src:"shannon.png"},{format:"BMP",src:"shannon.bmp"},{format:"WEBP",src:"shannon.webp"},{format:"AVIF",src:"shannon.avif"}]},{formatName:"Basis Universal",description:"Supercompressed GPU Texture Codec",link:"https://github.com/BinomialLLC/basis_universal",codeSample:"load(url, BasisLoader)",images:[{format:"BASIS",src:"alpha3.basis"},{format:"BASIS",src:"kodim01.basis"},{format:"BASIS",src:"kodim18.basis"},{format:"BASIS",src:"kodim20_1024x1024.basis"},{format:"BASIS",src:"kodim20.basis"}]},{formatName:"KTX",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"DXT1",src:"shannon-dxt1.ktx2"},{format:"DXT3",src:"shannon-dxt3.ktx2"},{format:"DXT5",src:"shannon-dxt5.ktx2"}]},{formatName:"KTX2",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"KTX2",src:"kodim23.ktx2",useBasis:!0}]},{formatName:"DDS: S3 Texture Compression (WEBGL_compressed_texture_s3tc)",description:"S3 (aka DXTn, DXTC, or BCn).",availability:"Common on desktop GPUs. DXT5 is usually the preferred version",link:"https://en.wikipedia.org/wiki/S3_Texture_Compression",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"DXT5",src:"shannon-dxt5.dds"},{format:"DXT3",src:"shannon-dxt3.dds"},{format:"DXT1",src:"shannon-dxt1.dds"}]},{formatName:"PVR: PowerVR Texture Compression (WEBGL_compressed_texture_pvrtc)",description:"Lossy, fixed-rate GPU texture compression format",availability:"iPhone, iPad and mobile devices with PowerVR chipsets.",link:"https://en.wikipedia.org/wiki/PVRTC",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"PVRTC (2BPP RGB)",src:"shannon-pvrtc-2bpp-rgb.pvr"},{format:"PVRTC (2BPP RGBA)",src:"shannon-pvrtc-2bpp-rgba.pvr"},{format:"PVRTC (4BPP RGB)",src:"shannon-pvrtc-4bpp-rgb.pvr"},{format:"PVRTC (2BPP RGBA)",src:"shannon-pvrtc-4bpp-rgba.pvr"}]},{formatName:"PVR: ATC (WEBGL_compressed_texture_atc)",codeSample:"load(url, CompressedTextureLoader)",images:[{format:"ATC (RGB)",src:"shannon-atc-rgb.dds"},{format:"ATC (RGBA, Explicit)",src:"shannon-atc-rgba-explicit.dds"},{format:"ATC (RGBA, Interpolated)",src:"shannon-atc-rgba-interpolated.dds"}]},{formatName:"PVR: ASTC (WEBGL_compressed_texture_astc)",images:[{format:"ASTC 4x4",src:"shannon-astc-4x4.pvr"},{format:"ASTC 5x4",src:"shannon-astc-5x4.pvr"},{format:"ASTC 5x5",src:"shannon-astc-5x5.pvr"},{format:"ASTC 6x5",src:"shannon-astc-6x5.pvr"},{format:"ASTC 6x6",src:"shannon-astc-6x6.pvr"},{format:"ASTC 8x5",src:"shannon-astc-8x5.pvr"},{format:"ASTC 8x6",src:"shannon-astc-8x6.pvr"},{format:"ASTC 8x8",src:"shannon-astc-8x8.pvr"},{format:"ASTC 10x5",src:"shannon-astc-10x5.pvr"},{format:"ASTC 10x6",src:"shannon-astc-10x6.pvr"},{format:"ASTC 10x8",src:"shannon-astc-10x8.pvr"},{format:"ASTC 10x10",src:"shannon-astc-10x10.pvr"},{format:"ASTC 12x10",src:"shannon-astc-12x10.pvr"},{format:"ASTC 12x12",src:"shannon-astc-12x12.pvr"}]},{formatName:"PVR: ASTC (sRGB) (WEBGL_compressed_texture_astc)",images:[{format:"ASTC (sRGB) 4x4",src:"shannon-astc-srgb-4x4.pvr"},{format:"ASTC (sRGB) 5x4",src:"shannon-astc-srgb-5x4.pvr"},{format:"ASTC (sRGB) 5x5",src:"shannon-astc-srgb-5x5.pvr"},{format:"ASTC (sRGB) 6x5",src:"shannon-astc-srgb-6x5.pvr"},{format:"ASTC (sRGB) 6x6",src:"shannon-astc-srgb-6x6.pvr"},{format:"ASTC (sRGB) 8x5",src:"shannon-astc-srgb-8x5.pvr"},{format:"ASTC (sRGB) 8x6",src:"shannon-astc-srgb-8x6.pvr"},{format:"ASTC (sRGB) 8x8",src:"shannon-astc-srgb-8x8.pvr"},{format:"ASTC (sRGB) 10x5",src:"shannon-astc-srgb-10x5.pvr"},{format:"ASTC (sRGB) 10x6",src:"shannon-astc-srgb-10x6.pvr"},{format:"ASTC (sRGB) 10x8",src:"shannon-astc-srgb-10x8.pvr"},{format:"ASTC (sRGB) 10x10",src:"shannon-astc-srgb-10x10.pvr"},{format:"ASTC (sRGB) 12x10",src:"shannon-astc-srgb-12x10.pvr"},{format:"ASTC (sRGB) 12x12",src:"shannon-astc-srgb-12x12.pvr"}]},{formatName:"PVR: ETC1 (WEBGL_compressed_texture_etc1)",images:[{format:"ETC1",src:"shannon-etc1.pvr"}]},{formatName:"Crunch",description:"Advanced DXTn texture compression library.",link:"https://github.com/BinomialLLC/crunch",codeSample:"load(url, CrunchLoader)",images:[{format:"DXT1 (Crunch)",src:"shannon-dxt1.crn"},{format:"DXT5 (Crunch)",src:"shannon-dxt5.crn"}]}];var c=r(19521),S=r(57089),u=r(9167),l=r(57291),E=r(94023),f=r(9877),d=r(55648),T=r(8853),h=r(79499);const C={dataType:null,batchType:null,id:"crunch",name:"Crunch",module:"textures",version:r(89793).q,worker:!0,extensions:["crn"],mimeTypes:["image/crn","image/x-crn","application/octet-stream"],binary:!0,options:{crunch:{libraryPath:"libs/"}}};var R=r(90894),A=r(35199),p=r(56698),m=r(25108);const{COMPRESSED_RGB_S3TC_DXT1_EXT:N,COMPRESSED_RGBA_S3TC_DXT1_EXT:O,COMPRESSED_RGBA_S3TC_DXT3_EXT:g,COMPRESSED_RGBA_S3TC_DXT5_EXT:x,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:P,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:G,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:y,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:D,COMPRESSED_RGB_ATC_WEBGL:w,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:b,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:B,COMPRESSED_RGB_ETC1_WEBGL:M,COMPRESSED_RGBA_ASTC_4X4_KHR:L,COMPRESSED_RGBA_ASTC_5X4_KHR:X,COMPRESSED_RGBA_ASTC_5X5_KHR:I,COMPRESSED_RGBA_ASTC_6X5_KHR:v,COMPRESSED_RGBA_ASTC_6X6_KHR:H,COMPRESSED_RGBA_ASTC_8X5_KHR:U,COMPRESSED_RGBA_ASTC_8X6_KHR:k,COMPRESSED_RGBA_ASTC_8X8_KHR:K,COMPRESSED_RGBA_ASTC_10X5_KHR:j,COMPRESSED_RGBA_ASTC_10X6_KHR:F,COMPRESSED_RGBA_ASTC_10X8_KHR:$,COMPRESSED_RGBA_ASTC_10X10_KHR:W,COMPRESSED_RGBA_ASTC_12X10_KHR:V,COMPRESSED_RGBA_ASTC_12X12_KHR:z,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:Z,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:q,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:J,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:Q,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:Y,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:ee,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:te,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:re,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:ne,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:se,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:oe,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:ae,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:ie,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:_e,COMPRESSED_R11_EAC:ce,COMPRESSED_SIGNED:Se,COMPRESSED_RG11_EAC:ue,COMPRESSED_SIGNED_RG11_EAC:le,COMPRESSED_RGB8_ETC2:Ee,COMPRESSED_RGBA8_ETC2_EAC:fe,COMPRESSED_SRGB8_ETC2:de,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:Te,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:he,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:Ce,COMPRESSED_RED_RGTC1_EXT:Re,COMPRESSED_SIGNED_RED_RGTC1_EXT:Ae,COMPRESSED_RED_GREEN_RGTC2_EXT:pe,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:me,COMPRESSED_SRGB_S3TC_DXT1_EXT:Ne,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:Oe,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:ge,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:xe}=f.GL_EXTENSIONS_CONSTANTS,Pe=c.ZP.button.withConfig({displayName:"compressed-texture__TextureButton",componentId:"sc-ab2qyi-0"})(["height:256px;width:256px;border:1px solid black;margin:1em;position:relative;margin-left:0;"]),Ge=c.ZP.h1.withConfig({displayName:"compressed-texture__ImageFormatHeader",componentId:"sc-ab2qyi-1"})(["position:absolute;top:0;left:0;margin:0;color:white;font-size:16px;"]),ye=c.ZP.h1.withConfig({displayName:"compressed-texture__ErrorFormatHeader",componentId:"sc-ab2qyi-2"})(["color:red;font-size:16px;"]),De=c.ZP.ul.withConfig({displayName:"compressed-texture__TextureInfo",componentId:"sc-ab2qyi-3"})(["position:absolute;transition:opacity 0.2s;top:20px;display:flex;flex-flow:column nowrap;align-items:flex-start;padding:10px;opacity:0.8;background-color:black;color:white;border-radius:5px;min-width:200px;list-style:none;font-size:14px;"]);(0,S.fh)([d.G,T.D,A.S]);function we(e){const t=new Float32Array([-1,-1,-1,1,1,-1,1,1]),r=e.createBuffer({data:t});return new p.H(e,{vs:"#version 300 es\nprecision highp float;\n\nin vec2 position;\n\nout vec2 uv;\n\nvoid main() {\n  gl_Position = vec4(position, 0.0, 1.0);\n  uv = vec2(position.x * .5, -position.y * .5) + vec2(.5, .5);\n}\n",fs:"#version 300 es\nprecision highp float;\n\nuniform sampler2D uTexture;\n\nin vec2 uv;\n\nout vec4 fragColor;\n\nvoid main() {\n  fragColor = vec4(texture(uTexture, uv).rgb, 1.);\n}\n",topology:"triangle-strip",vertexCount:4,bufferLayout:[{name:"position",format:"float32x2"}],attributes:{position:r}})}class be extends o.PureComponent{static defaultProps={device:null,canvas:null,image:null,model:null};constructor(e){super(e);const t=this.getLoadOptions();this.state={loadOptions:t,textureError:null,showStats:!1,stats:[],dataUrl:null}}async componentDidMount(){const e=await this.getTextureDataUrl(this.props.device);this.setState({dataUrl:e})}getExtension(e){const{device:t}=this.props,r=["","WEBKIT_","MOZ_"];let n=null;for(const s in r)if(n=Boolean(t.getExtension(r[s]+e)),n)break;return n}getLoadOptions(){return{basis:{format:(0,h.h)()}}}async getTextureDataUrl(e){const{loadOptions:t}=this.state,{canvas:r,model:n,image:s}=this.props;try{const{arrayBuffer:r,length:o,src:a,useBasis:i}=await this.getLoadedData(s),_={...t};i&&(_["compressed-texture"]={useBasis:!0});const c=await(0,u.A)(a,[T.D,C,d.G,A.S]),S=c&&await(0,l.z)(r,c,_);switch(this.addStat("File Size",Math.floor(o/1024),"Kb"),c?.id){case"crunch":case"compressed-texture":this.renderEmptyTexture(e,n),this.renderCompressedTexture(e,n,S,c.name,a);break;case"image":this.renderEmptyTexture(e,n),this.renderImageTexture(e,n,S);break;case"basis":const t=S[0];this.renderEmptyTexture(e,n),this.renderCompressedTexture(e,n,t,c.name,a);break;default:throw new Error("Unknown texture loader")}}catch(o){m.error(o),this.renderEmptyTexture(e,n),this.setState({textureError:o.message})}return r.toDataURL()}async getLoadedData(e){let t,r=0,n="",s=!1;if(e instanceof File)t=await e.arrayBuffer(),r=e.size,n=e.name;else{n=`https://raw.githubusercontent.com/visgl/loaders.gl/master/modules/textures/test/data/${e.src}`;const o=await(0,E.dc)(n);t=await o.arrayBuffer(),r=t.byteLength,s=e.useBasis||!1}return{arrayBuffer:t,length:r,src:n,useBasis:s}}createCompressedTexture(e,t){return e.createTexture({data:t,compressed:!0,mipmaps:!1})}renderEmptyTexture(e,t){const r=new Uint8Array([68,0,0,255]),n=e.createTexture({width:1,height:1,data:r,mipmaps:!0}),s=e.beginRenderPass();return t.setBindings({uTexture:n}),t.draw(s),s.end(),n}renderImageTexture(e,t,r){const n=e.createTexture({data:r}),s=e.beginRenderPass();t.setBindings({uTexture:n}),t.draw(s),s.end();const o=new Date,a=Date.now()-o.getMilliseconds();this.addStat("Upload time",`${Math.floor(a)} ms`),this.addStat("Dimensions",`${r.width} x ${r.height}`),this.addStat("Size in memory (Lvl 0)",Math.floor(r.width*r.height*4/1024),"Kb")}renderCompressedTexture(e,t,r,n,s){if(!r||!r.length)throw new Error(`${n} loader doesn't support texture ${s} format`);const{format:o,width:a,height:i,levelSize:_}=r[0];if(!this.isFormatSupported(o))throw new Error(`Texture format ${o} not supported by this GPU`);const c=new Date,S=this.createCompressedTexture(e,r),u=e.beginRenderPass();t.setBindings({uTexture:S}),t.draw(u),u.end();const l=Date.now()-c.getMilliseconds();this.addStat("Upload time",`${Math.floor(l)} ms`),this.addStat("Dimensions",`${a} x ${i}`),_&&this.addStat("Size in memory (Lvl 0)",Math.floor(_/1024),"Kb")}isFormatSupported(e){if("number"!=typeof e)throw new Error("Invalid internal format of compressed texture");const t=(0,R.U)(this.props.gl);switch(e){case N:case g:case x:case O:return t.has("dxt");case P:case G:case y:case D:return t.has("pvrtc");case w:case b:case B:return t.has("atc");case M:return t.has("etc1");case L:case X:case I:case v:case H:case U:case k:case K:case j:case F:case $:case W:case V:case z:case Z:case q:case J:case Q:case Y:case ee:case te:case re:case ne:case se:case oe:case ae:case ie:case _e:return t.has("astc");case ce:case Se:case ue:case le:case Ee:case fe:case de:case Te:case he:case Ce:return t.has("etc2");case Re:case Ae:case pe:case me:return t.has("rgtc");case Ne:case Oe:case ge:case xe:return t.has("dxt-srgb");default:return!1}}addStat(e,t,r){void 0===r&&(r="");const n=[...this.state.stats,{name:e,value:t,units:r}];this.setState({stats:n})}renderStats(){const{stats:e}=this.state;if(!e.length)return null;const t=[];for(let r=0;r<e.length;r++)t.push((0,n.jsx)("li",{children:`${e[r].name}: ${e[r].value}${e[r].units}`},r));return(0,n.jsx)(De,{style:{opacity:this.state.showStats?.8:0},children:t})}render(){const{dataUrl:e,textureError:t}=this.state,{format:r,name:s}=this.props.image;return e?(0,n.jsxs)(Pe,{style:{backgroundImage:`url(${e})`},onMouseEnter:()=>this.setState({showStats:!0}),onMouseLeave:()=>this.setState({showStats:!1}),children:[t?(0,n.jsx)(ye,{style:{color:"red"},children:t}):(0,n.jsx)(Ge,{children:r||s}),this.renderStats()]}):null}}const Be=c.ZP.div.withConfig({displayName:"textures-uploader__Container",componentId:"sc-xm25t2-0"})(["display:flex;flex-flow:column nowrap;"]),Me=c.ZP.div.withConfig({displayName:"textures-uploader__TextureFrame",componentId:"sc-xm25t2-1"})(["display:flex;width:256px;height:256px;align-items:center;justify-content:center;border:1px dashed black;"]),Le=c.ZP.div.withConfig({displayName:"textures-uploader__ImageContainer",componentId:"sc-xm25t2-2"})(["display:flex;flex-flow:column nowrap;align-items:center;width:270px;"]);class Xe extends o.PureComponent{static defaultProps={canvas:null,model:null};constructor(e){super(e),this.state={uploadedImage:null},this.handleLoadFile=this.handleLoadFile.bind(this),this.handleCleanTexture=this.handleCleanTexture.bind(this)}handleLoadFile(e){const t=e.dataTransfer.files[0];this.setState({uploadedImage:t}),e.preventDefault()}handleCleanTexture(){this.setState({uploadedImage:null})}render(){const{canvas:e,device:t,model:r}=this.props,{uploadedImage:s,files:o}=this.state;return(0,n.jsxs)("div",{children:[!s&&(0,n.jsxs)(Be,{children:[(0,n.jsx)(Me,{onDrop:this.handleLoadFile,onDragOver:e=>e.preventDefault(),children:"Drag&Drop texture"}),(0,n.jsx)("input",{style:{display:"none"},type:"file",id:"fileInput",files:o})]}),(0,n.jsxs)(Le,{children:[s&&(0,n.jsx)(be,{image:s,canvas:e,device:t,model:r}),s&&(0,n.jsx)("button",{onClick:this.handleCleanTexture,children:"Clean"})]})]})}}class Ie extends o.PureComponent{constructor(e){super(e),this.state={canvas:null,device:null,model:null}}async componentDidMount(){a.u.registerDevices([i.j]);const e=document.createElement("canvas");e.width=256,e.height=256;const t=await a.u.createDevice({canvas:e,type:"webgl"}),r=we(t);this.setState({canvas:e,device:t,model:r})}render(){const{device:e,canvas:t,model:r}=this.state;return e?(0,n.jsxs)("div",{style:{margin:30},children:[(0,n.jsx)(Ke,{}),e&&(0,n.jsx)(Xe,{canvas:t,device:e,model:r}),e&&(0,n.jsx)(ve,{canvas:t,device:e,model:r})]}):(0,n.jsx)("div",{})}}function ve(e){const{device:t,canvas:r,model:s}=e;return _.map(((e,o)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(He,{imagesData:e}),(0,n.jsx)(ke,{device:t,canvas:r,model:s,images:e.images}),(0,n.jsx)(Ue,{imagesData:e})]},o)))}function He(e){const{formatName:t,link:r}=e.imagesData;return(0,n.jsx)("div",{style:{display:"flex",flexFlow:"column"},children:(0,n.jsx)("h2",{style:{borderBottom:"1px solid black",marginBottom:0},children:r?(0,n.jsx)("a",{style:{textDecoration:"none"},href:r,children:t}):t})})}function Ue(e){const{description:t,codeSample:r,availability:s}=e.imagesData;return(0,n.jsxs)("div",{children:[t&&(0,n.jsxs)("p",{children:[(0,n.jsx)("b",{children:"Description: "}),t]}),s&&(0,n.jsxs)("p",{children:[(0,n.jsx)("b",{children:"Availability: "}),s]}),r&&(0,n.jsx)("div",{children:(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:r})})})]})}function ke(e){const{device:t,canvas:r,model:s,images:o}=e;return o.map(((e,o)=>(0,n.jsx)(be,{image:e,device:t,canvas:r,model:s},o)))}function Ke(){return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Texture Loaders"}),(0,n.jsxs)("p",{children:["This page loads every \xa0",(0,n.jsx)("a",{href:"https://loaders.gl/modules/textures/docs/using-compressed-textures",children:"texture format"})," ","\xa0 supported by loaders.gl and attempts to display them in WebGL using the"," ",(0,n.jsx)("a",{href:"https://luma.gl",children:(0,n.jsx)("b",{children:"luma.gl"})})," ",(0,n.jsx)("code",{children:"Texture2D"})," class."]}),(0,n.jsxs)("p",{children:["The ",(0,n.jsx)("code",{children:"@loaders.gl/textures"})," \xa0 module provides loaders for compressed textures stored in ",(0,n.jsx)("b",{children:"KTX"}),", ",(0,n.jsx)("b",{children:"DDS"})," and ",(0,n.jsx)("b",{children:"PVR"})," container files, plus ",(0,n.jsx)("b",{children:"CRN"})," (Crunch), and ",(0,n.jsx)("b",{children:"Basis"})," supercompressed textures."]}),(0,n.jsx)("p",{children:"This page also shows which compressed texture types your device and browser supports."}),(0,n.jsx)("p",{children:(0,n.jsx)("i",{children:"Note that multiple textures on this page will fail to display due to lack of GPU support (reported via WebGL extensions). For example: DXT formats are usually only supported on Desktops while PVRTC is typically only available on mobile devices with PowerVR chipsets."})}),(0,n.jsx)("p",{children:(0,n.jsxs)("i",{children:["Inspired by toji's awesome"," ",(0,n.jsx)("a",{href:"http://toji.github.io/texture-tester",children:"texture-tester"})]})})]})}const je={},Fe="Textures",$e={id:"textures",title:"Textures",description:"",source:"@site/src/examples/textures.mdx",sourceDirName:".",slug:"/textures",permalink:"/examples/textures",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"examplesSidebar",previous:{title:"OBJ",permalink:"/examples/pointclouds/obj"}},We={},Ve=[];function ze(e){const t={h1:"h1",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"textures",children:"Textures"}),"\n","\n",(0,n.jsx)("div",{style:{height:"calc(100vh - var(--ifm-navbar-height))",overflowY:"scroll"},children:(0,n.jsx)(Ie,{})})]})}function Ze(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(ze,{...e})}):ze(e)}},31029:(e,t,r)=>{r.d(t,{ij:()=>T});var n=r(48764).Buffer;new Uint8Array([0]);const s=[171,75,84,88,32,50,48,187,13,10,26,10];var o,a,i,_,c,S,u,l;!function(e){e[e.NONE=0]="NONE",e[e.BASISLZ=1]="BASISLZ",e[e.ZSTD=2]="ZSTD",e[e.ZLIB=3]="ZLIB"}(o||(o={})),function(e){e[e.BASICFORMAT=0]="BASICFORMAT"}(a||(a={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ETC1S=163]="ETC1S",e[e.UASTC=166]="UASTC"}(i||(i={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SRGB=1]="SRGB"}(_||(_={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LINEAR=1]="LINEAR",e[e.SRGB=2]="SRGB",e[e.ITU=3]="ITU",e[e.NTSC=4]="NTSC",e[e.SLOG=5]="SLOG",e[e.SLOG2=6]="SLOG2"}(c||(c={})),function(e){e[e.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",e[e.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(S||(S={})),function(e){e[e.RGB=0]="RGB",e[e.RRR=3]="RRR",e[e.GGG=4]="GGG",e[e.AAA=15]="AAA"}(u||(u={})),function(e){e[e.RGB=0]="RGB",e[e.RGBA=3]="RGBA",e[e.RRR=4]="RRR",e[e.RRRG=5]="RRRG"}(l||(l={}));class E{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=o.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:a.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:i.UNSPECIFIED,colorPrimaries:_.SRGB,transferFunction:_.SRGB,flags:S.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null}}class f{constructor(e,t,r,n){this._dataView=new DataView(e.buffer,e.byteOffset+t,r),this._littleEndian=n,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+2**32*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_skip(e){return this._offset+=e,this}_scan(e,t=0){const r=this._offset;let n=0;for(;this._dataView.getUint8(this._offset)!==t&&n<e;)n++,this._offset++;return n<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,n)}}function d(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):n.from(e).toString("utf8")}function T(e){const t=new Uint8Array(e.buffer,e.byteOffset,s.length);if(t[0]!==s[0]||t[1]!==s[1]||t[2]!==s[2]||t[3]!==s[3]||t[4]!==s[4]||t[5]!==s[5]||t[6]!==s[6]||t[7]!==s[7]||t[8]!==s[8]||t[9]!==s[9]||t[10]!==s[10]||t[11]!==s[11])throw new Error("Missing KTX 2.0 identifier.");const r=new E,n=17*Uint32Array.BYTES_PER_ELEMENT,o=new f(e,s.length,n,!0);r.vkFormat=o._nextUint32(),r.typeSize=o._nextUint32(),r.pixelWidth=o._nextUint32(),r.pixelHeight=o._nextUint32(),r.pixelDepth=o._nextUint32(),r.layerCount=o._nextUint32(),r.faceCount=o._nextUint32();const a=o._nextUint32();r.supercompressionScheme=o._nextUint32();const i=o._nextUint32(),_=o._nextUint32(),c=o._nextUint32(),S=o._nextUint32(),u=o._nextUint64(),l=o._nextUint64(),T=new f(e,s.length+n,3*a*8,!0);for(let s=0;s<a;s++)r.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+T._nextUint64(),T._nextUint64()),uncompressedByteLength:T._nextUint64()});const h=new f(e,i,_,!0),C={vendorId:h._skip(4)._nextUint16(),descriptorType:h._nextUint16(),versionNumber:h._nextUint16(),descriptorBlockSize:h._nextUint16(),colorModel:h._nextUint8(),colorPrimaries:h._nextUint8(),transferFunction:h._nextUint8(),flags:h._nextUint8(),texelBlockDimension:{x:h._nextUint8()+1,y:h._nextUint8()+1,z:h._nextUint8()+1,w:h._nextUint8()+1},bytesPlane:[h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8()],samples:[]},R=(C.descriptorBlockSize/4-6)/4;for(let s=0;s<R;s++)C.samples[s]={bitOffset:h._nextUint16(),bitLength:h._nextUint8(),channelID:h._nextUint8(),samplePosition:[h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8()],sampleLower:h._nextUint32(),sampleUpper:h._nextUint32()};r.dataFormatDescriptor.length=0,r.dataFormatDescriptor.push(C);const A=new f(e,c,S,!0);for(;A._offset<S;){const e=A._nextUint32(),t=A._scan(e),n=d(t),s=A._scan(e-t.byteLength);r.keyValue[n]=n.match(/^ktx/i)?d(s):s,e%4&&A._skip(4-e%4)}if(l<=0)return r;const p=new f(e,u,l,!0),m=p._nextUint16(),N=p._nextUint16(),O=p._nextUint32(),g=p._nextUint32(),x=p._nextUint32(),P=p._nextUint32(),G=[];for(let s=0;s<a;s++)G.push({imageFlags:p._nextUint32(),rgbSliceByteOffset:p._nextUint32(),rgbSliceByteLength:p._nextUint32(),alphaSliceByteOffset:p._nextUint32(),alphaSliceByteLength:p._nextUint32()});const y=u+p._offset,D=y+O,w=D+g,b=w+x,B=new Uint8Array(e.buffer,e.byteOffset+y,O),M=new Uint8Array(e.buffer,e.byteOffset+D,g),L=new Uint8Array(e.buffer,e.byteOffset+w,x),X=new Uint8Array(e.buffer,e.byteOffset+b,P);return r.globalData={endpointCount:m,selectorCount:N,imageDescs:G,endpointsData:B,selectorsData:M,tablesData:L,extendedData:X},r}},11151:(e,t,r)=>{r.d(t,{Z:()=>i,a:()=>a});var n=r(67294);const s={},o=n.createContext(s);function a(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);