"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[297],{20862:(e,i,d)=>{d.r(i),d.d(i,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>n,metadata:()=>o,toc:()=>c});var r=d(62540),s=d(43023);const n={},t="ImageLoader",o={id:"modules/images/api-reference/image-loader",title:"ImageLoader",description:"An image loader that works under both Node.js (requires @loaders.gl/polyfills) and the browser.",source:"@site/../docs/modules/images/api-reference/image-loader.md",sourceDirName:"modules/images/api-reference",slug:"/modules/images/api-reference/image-loader",permalink:"/docs/modules/images/api-reference/image-loader",draft:!1,unlisted:!1,editUrl:"https://github.com/visgl/loaders.gl/tree/master/website/../docs/modules/images/api-reference/image-loader.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"I3SLoader",permalink:"/docs/modules/i3s/api-reference/i3s-loader"},next:{title:"JSONLoader",permalink:"/docs/modules/json/api-reference/json-loader"}},l={},c=[{value:"Usage",id:"usage",level:2},{value:"Data Format",id:"data-format",level:2},{value:"Options",id:"options",level:2},{value:"ImageBitmap Options",id:"imagebitmap-options",level:3},{value:"Remarks",id:"remarks",level:2}];function a(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"imageloader",children:"ImageLoader"})}),"\n",(0,r.jsxs)(i.p,{children:["An image loader that works under both Node.js (requires ",(0,r.jsx)(i.code,{children:"@loaders.gl/polyfills"}),") and the browser."]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Loader"}),(0,r.jsx)(i.th,{children:"Characteristic"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"File Extension"}),(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:".png"}),", ",(0,r.jsx)(i.code,{children:".jpg"}),", ",(0,r.jsx)(i.code,{children:".jpeg"}),", ",(0,r.jsx)(i.code,{children:".gif"}),", ",(0,r.jsx)(i.code,{children:".webp"}),", ",(0,r.jsx)(i.code,{children:".avif"}),", ",(0,r.jsx)(i.code,{children:".bmp"}),", ",(0,r.jsx)(i.code,{children:".ico"}),", ",(0,r.jsx)(i.code,{children:".svg"})]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"File Type"}),(0,r.jsx)(i.td,{children:"Binary"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"File Format"}),(0,r.jsx)(i.td,{children:"PNG, JPEG, GIF, WEBP, AVIF, BMP, SVG"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Data Format"}),(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"ImageBitmap"}),", ",(0,r.jsx)(i.code,{children:"Image"}),' or "image data"']})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Supported APIs"}),(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.code,{children:"load"}),", ",(0,r.jsx)(i.code,{children:"parse"})]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Worker Thread"}),(0,r.jsx)(i.td,{children:"No (but may run on separate native thread in browsers)"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Streaming"}),(0,r.jsx)(i.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(i.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-typescript",children:"import '@loaders.gl/polyfills'; // only needed if using under Node\nimport {ImageLoader} from '@loaders.gl/images';\nimport {load} from '@loaders.gl/core';\n\nconst image = await load(url, ImageLoader, options);\n"})}),"\n",(0,r.jsx)(i.h2,{id:"data-format",children:"Data Format"}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"ImageLoader"})," parses binary encoded images (such as JPEG or PNG images) into one of three different in-memory representations:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"ImageBitmap"})," (",(0,r.jsx)(i.code,{children:"type: 'imagebitmap"}),") - Optimized image class on modern browsers."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Image"})," (",(0,r.jsx)(i.code,{children:"type: 'image"}),") - Works on all browsers, less performant."]}),"\n",(0,r.jsxs)(i.li,{children:['An "image data object" (',(0,r.jsx)(i.code,{children:"type: 'data'"}),") - An ",(0,r.jsx)(i.code,{children:"ImageData"})," like object that can holds the raw bytes to the image and works in both browsers and Node.js"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"options",children:"Options"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Option"}),(0,r.jsx)(i.th,{children:"Type"}),(0,r.jsx)(i.th,{children:"Default"}),(0,r.jsx)(i.th,{children:"Description"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"image.type"})}),(0,r.jsx)(i.td,{children:"String"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"'auto'"})}),(0,r.jsxs)(i.td,{children:["Set to ",(0,r.jsx)(i.code,{children:"imagebitmap"}),", ",(0,r.jsx)(i.code,{children:"image"})," or ",(0,r.jsx)(i.code,{children:"data"})," to explicitly control type of returned image. ",(0,r.jsx)(i.code,{children:"auto"})," selects the most efficient supported format (",(0,r.jsx)(i.code,{children:"imagebitmap"})," on Chrome and Firefix)"]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"image.decode"})}),(0,r.jsx)(i.td,{children:"boolean"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"true"})}),(0,r.jsxs)(i.td,{children:["Applies to ",(0,r.jsx)(i.code,{children:"image"})," type images only, ensures image is fully decoded before loading promise resolves."]})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"imagebitmap-options",children:"ImageBitmap Options"}),"\n",(0,r.jsxs)(i.p,{children:["In addition, for ",(0,r.jsx)(i.code,{children:"imagebitmap"})," type images, it is possible to pass through options to ",(0,r.jsx)(i.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/createImageBitmap",children:(0,r.jsx)(i.code,{children:"createImageBitmap"})})," to control image extraction, via the separate ",(0,r.jsx)(i.code,{children:"options.imagebitmap"})," object. However, for portability it may be best to avoid relying on these options for now, since some browsers do not support ",(0,r.jsx)(i.code,{children:"ImageBitmap"})," options (and some browsers do not support ",(0,r.jsx)(i.code,{children:"ImageBitmap"}),"s at all)."]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Option"}),(0,r.jsx)(i.th,{children:"Type"}),(0,r.jsx)(i.th,{children:"Default"}),(0,r.jsx)(i.th,{children:"Description"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"imagebitmap.imageOrientation"})}),(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"'none'"})}),(0,r.jsxs)(i.td,{children:["image should be flipped vertically. Either ",(0,r.jsx)(i.code,{children:"'none'"})," or ",(0,r.jsx)(i.code,{children:"'flipY'"}),"."]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"imagebitmap.premultiplyAlpha"})}),(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"'default'"})}),(0,r.jsxs)(i.td,{children:["Premultiply color channels by the alpha channel. One of ",(0,r.jsx)(i.code,{children:"'none'"}),", ",(0,r.jsx)(i.code,{children:"'premultiply'"}),", or ",(0,r.jsx)(i.code,{children:"'default'"}),"."]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"imagebitmap.colorSpaceConversion"})}),(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"'default'"})}),(0,r.jsxs)(i.td,{children:["Decode using color space conversion. Either ",(0,r.jsx)(i.code,{children:"'none'"})," or ",(0,r.jsx)(i.code,{children:"'default'"})," default indicates implementation-specific behavior."]})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"imagebitmap.resizeWidth"})}),(0,r.jsx)(i.td,{children:"number"}),(0,r.jsx)(i.td,{children:"-"}),(0,r.jsx)(i.td,{children:"Output image width."})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"imagebitmap.resizeHeight"})}),(0,r.jsx)(i.td,{children:"number"}),(0,r.jsx)(i.td,{children:"-"}),(0,r.jsx)(i.td,{children:"Output image height."})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"imagebitmap.resizeQuality"})}),(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"'low'"})}),(0,r.jsx)(i.td,{children:"Algorithm to be used for resizing the input to match the output dimensions. One of pixelated, low (default), medium, or high."})]})]})]}),"\n",(0,r.jsxs)(i.p,{children:["Portability note: The exact set of ",(0,r.jsx)(i.code,{children:"imagebitmap"})," options supported may depend on the browser."]}),"\n",(0,r.jsx)(i.h2,{id:"remarks",children:"Remarks"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["While generic, the ",(0,r.jsx)(i.code,{children:"ImageLoader"})," is designed with WebGL applications in mind, ensuring that loaded image data can be used to create a ",(0,r.jsx)(i.code,{children:"WebGLTexture"})," both in the browser and in headless gl under Node.js"]}),"\n",(0,r.jsxs)(i.li,{children:["Node.js support requires import ",(0,r.jsx)(i.code,{children:"@loaders.gl/polyfills"})," before installing this module."]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},43023:(e,i,d)=>{d.d(i,{R:()=>t,x:()=>o});var r=d(63696);const s={},n=r.createContext(s);function t(e){const i=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(n.Provider,{value:i},e.children)}}}]);